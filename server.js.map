{"version":3,"sources":["webpack:///webpack/bootstrap 1c4238e6b95ad0881ca1","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/core-js/object/get-prototype-of\"","webpack:///external \"babel-runtime/helpers/inherits\"","webpack:///external \"babel-runtime/helpers/possibleConstructorReturn\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"picolog\"","webpack:///external \"react\"","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///external \"babel-runtime/helpers/objectWithoutProperties\"","webpack:///external \"redux-apis\"","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"classnames\"","webpack:///external \"react-mdl\"","webpack:///external \"redux-fetch-api\"","webpack:///./src/components/App/api.jsx","webpack:///./src/components/Entity/Entity.jsx","webpack:///./src/components/Mdl/mdl-extras.jsx","webpack:///external \"react-redux\"","webpack:///external \"redux-load-api\"","webpack:///external \"ws.suid\"","webpack:///external \"react-router\"","webpack:///./src/components/Scroller/Scroller.jsx","webpack:///./src/components/Search/api.jsx","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///./src/components/Auth/PasswordCredential.jsx","webpack:///./src/components/Card/Card.jsx","webpack:///./src/components/Mdl/api.jsx","webpack:///external \"babel-runtime/core-js/object/keys\"","webpack:///external \"babel-runtime/helpers/defineProperty\"","webpack:///external \"react-dom\"","webpack:///external \"react-dom/server\"","webpack:///external \"redux-async-api\"","webpack:///./config.js","webpack:///./src/components/App/App.jsx","webpack:///./src/components/Auth/Account.jsx","webpack:///./src/components/Auth/AuthDialog.jsx","webpack:///./src/components/Auth/Credential.jsx","webpack:///./src/components/Auth/Group.jsx","webpack:///./src/components/Auth/Role.jsx","webpack:///./src/components/Auth/api.jsx","webpack:///./src/components/Brands/BrandBrowser.jsx","webpack:///./src/components/Brands/BrandCard.jsx","webpack:///./src/components/Brands/Brands.jsx","webpack:///./src/components/Brands/api.jsx","webpack:///./src/components/Home/Home.jsx","webpack:///./src/components/Html/Html.jsx","webpack:///./src/components/Products/ProductBrowser.jsx","webpack:///./src/components/Products/ProductCard.jsx","webpack:///./src/components/Products/ProductDetails.jsx","webpack:///./src/components/Products/ProductEdit.jsx","webpack:///./src/components/Products/Products.jsx","webpack:///./src/components/Products/api.jsx","webpack:///./src/components/Stores/StoreBrowser.jsx","webpack:///./src/components/Stores/StoreCard.jsx","webpack:///./src/components/Stores/Stores.jsx","webpack:///./src/components/Stores/api.jsx","webpack:///./src/routes.jsx","webpack:///./src/server.jsx","webpack:///./src/store.jsx","webpack:///./package.json","webpack:///external \"babel-polyfill\"","webpack:///external \"babel-runtime/core-js/get-iterator\"","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"babel-runtime/core-js/object/create\"","webpack:///external \"babel-runtime/helpers/get\"","webpack:///external \"chalk\"","webpack:///external \"compression\"","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"http-proxy\"","webpack:///external \"node-fetch\"","webpack:///external \"path\"","webpack:///external \"react-document-meta\"","webpack:///external \"redux\"","webpack:///external \"redux-logger\"","webpack:///external \"redux-responsive\"","webpack:///external \"redux-thunk\"","webpack:///external \"serialize-javascript\""],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA,kE;;;;;;ACAA,2E;;;;;;ACAA,4D;;;;;;ACAA,6E;;;;;;ACAA,+D;;;;;;ACAA,qC;;;;;;ACAA,mC;;;;;;ACAA,2D;;;;;;ACAA,2E;;;;;;ACAA,wC;;;;;;ACAA,0D;;;;;;ACAA,wC;;;;;;ACAA,uC;;;;;;ACAA,6C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWA,KAAM,UAAU,QAAV;AACN,mBAAI,IAAJ,CAAS,kCAAT,EAA6C,OAA7C;AACA,KAAI,YAAJ;KAAS,YAAY,CAAZ;AACT,QAAO,CAAC,MAAM,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,YAAY,CAAZ,CAA3B,CAAD,KAAgD,CAAC,CAAD,EAAI;AAAC,cAAY,GAAZ,CAAD;EAA3D;AACA,KAAM,WAAW,QAAQ,SAAR,CAAkB,CAAlB,EAAqB,SAArB,IAAkC,iBAAlC;AACjB,mBAAI,IAAJ,CAAS,yBAAT,EAAoC,QAApC;AACA,cAAK,MAAL,CAAY,EAAC,QAAQ,QAAR,EAAb;;;KAKa,kCAFZ,4BAAQ,wCAAR,WACA,2BAAO,OAAP;0BACY;;AAEZ,WAFY,MAEZ,CAAY,KAAZ,EAAmB;uCAFP,QAEO;;4FAFP,mBAGL,QADY;;AAGlB,SAAK,IAAL,GAAY,2BAAO,OAAP,EACX,4BAAW,mBAAX,CADW,CAAZ,CAHkB;;AAOlB,SAAK,MAAL,GAAc,2BAAO,SAAP,EACb,4BAAW,mBAAX,CADa,CAAd,CAPkB;;AAWlB,SAAK,QAAL,GAAgB,2BAAO,WAAP,EACf,4BAAW,mBAAX,CADe,CAAhB,CAXkB;;AAelB,SAAK,MAAL,GAAc,2BAAO,SAAP,EACb,4BAAW,mBAAX,CADa,CAAd,CAfkB;;AAmBlB,SAAK,UAAL,GAAkB,4BAAW,qBAAX,CAAlB,CAnBkB;AAoBlB,SAAK,WAAL,GAAmB,4BAAW,qBAAX,CAAnB,CApBkB;AAqBlB,SAAK,QAAL,GAAgB,4BAAW,uBAAX,CAAhB,CArBkB;;GAAnB;;SAFY;;AA2BN,KAAM,oBAAM,IAAI,MAAJ,EAAN;mBACE;;;;;;AAMf,UAAS,wCAAT,CAAkD,GAAlD,EAAuD,IAAvD,EAA6D;AAC5D,oBAAI,GAAJ,CAAQ,0CAAR,EAAoD,GAApD,EAD4D;AAE5D,kCAAQ,aAAY,SAAZ,EAAuB,MAAK,MAAL,IAAgB,KAA/C,CAF4D;AAG5D,SAAO,sBAAY,UAAC,OAAD,EAAU,MAAV,EAAmB;AACrC,OAAM,UAAU,WAAW,YAAM;AAAC,WAAO,6BAAP,EAAD;IAAN,EAA+C,KAA1D,CAAV,CAD+B;AAErC,SAAM,GAAN,EAAW,IAAX,EAAiB,IAAjB,CAAsB,oBAAY;AACjC,iBAAa,OAAb,EADiC;AAEjC,QAAI,SAAS,MAAT,IAAmB,SAAS,MAAT,KAAoB,GAApB,EAAyB;;AAE/C,SAAI,QAAO,qEAAP,IAAiB,QAAjB,EAA2B;;AAE9B,aAAO,SAAS,IAAT,GACL,IADK,CACA;cAAQ,IAAI,IAAJ,CAAS,SAAT,CAAmB,KAAK,SAAL,EAAgB,OAAnC,EAA4C,MAA5C;OAAR,CADA,CAEL,KAFK,CAEC,MAFD,CAAP,CAF8B;MAA/B;;AAF+C,YASxC,SAAS,IAAT,GAAgB,IAAhB,CAAqB,gBAAQ;AACnC,UAAM,QAAQ,MAAM,IAAN,CAAR,CAD6B;AAEnC,YAAM,MAAN,GAAe,SAAS,MAAT,CAFoB;AAGnC,YAAM,UAAN,GAAmB,SAAS,UAAT,CAHgB;AAInC,aAAO,KAAP,EAJmC;MAAR,CAA5B,CAT+C;KAAhD;AAgBA,YAAQ,QAAR,EAlBiC;IAAZ,CAAtB,CAoBC,KApBD,CAoBO,MApBP,EAFqC;GAAnB,CAAnB,CAH4D;EAA7D;;AA6BA,UAAS,MAAT,GAAkB;AACjB,MAAI,QAAO,qEAAP,IAAiB,QAAjB,EAA2B;AAC9B,UAAO,OAAO,sBAAP,IAAiC,8BAAjC,CADuB;GAA/B;AAGA,MAAM,WAAW,4BAAY,6BAAZ,IAA6C,SAA7C,CAJA;AAKjB,MAAM,OAAO,4BAAY,yBAAZ,IAAyC,WAAzC,CALI;AAMjB,MAAM,OAAO,4BAAY,yBAAZ,IAAyC,MAAzC,CANI;AAOjB,MAAM,OAAO,4BAAY,yBAAZ,IAAyC,MAAzC,CAPI;AAQjB,SAAO,WAAW,IAAX,IAAmB,QAAQ,IAAR,GAAe,EAAf,GAAoB,MAAM,IAAN,CAAvC,GAAqD,IAArD,CARU;;;;;;;;;;;;;;;;;;;;;;;;;SClFF;SAKA;SAWA;SAKA;SAMA;SAiBA;;;;;;;;;;;;AA5CT,UAAS,MAAT,CAAgB,MAAhB,EAAwB;AAC9B,SAAO,SAAS,OAAO,IAAP,EAAa,MAAtB,CAAP,CAD8B;EAAxB;mBAGQ;AAER,UAAS,QAAT,CAAkB,IAAlB,EAAwB;AAC9B,MAAI,OAAO,IAAP,IAAe,QAAf,EACH,OAAO,KAAK,KAAL,CAAW,IAAX,EAAiB,MAAjB,CAAP,CADD;;AAGA,MAAM,SAAS,OAAO,IAAP,IAAe,UAAf,GAA4B,IAAI,IAAJ,EAA5B,GAAyC,IAAzC,CAJe;AAK9B,OAAK,IAAI,GAAJ,IAAW,IAAhB,EAAsB;AACrB,OAAI,QAAQ,MAAR,EAAgB;AAAC,WAAO,GAAP,IAAc,KAAK,GAAL,CAAd,CAAD;IAApB;GADD;AAGA,SAAO,MAAP,CAR8B;EAAxB;;AAWA,UAAS,MAAT,CAAgB,MAAhB,EAAwB;AAC9B,MAAI,CAAC,MAAD,IAAW,OAAO,MAAP,IAAe,QAAf,EAAyB,SAAS,IAAT,CAAxC;AACA,oCAAY,UAAQ,QAAO,OAAO,MAAP,EAAe,MAAK,OAAO,WAAP,CAAmB,IAAnB,GAA/C,CAF8B;EAAxB;;AAKA,UAAS,MAAT,CAAgB,GAAhB,EAAqB,KAArB,EAA4B;AAClC,MAAM,IAAI,SAAS,QAAO,mEAAP,IAAgB,QAAhB,IAA4B,OAAO,MAAM,IAAN,IAAc,QAArB,IAAiC,MAAM,IAAN,CAD9C;AAElC,MAAM,OAAO,KAAK,SAAS,CAAT,CAAL,CAFqB;AAGlC,SAAO,OAAO,KAAK,QAAL,CAAc,KAAd,CAAP,GAA8B,aAAK,MAAL,CAAY,GAAZ,EAAiB,KAAjB,CAA9B,CAH2B;EAA5B;;AAMA,UAAS,MAAT,CAAgB,GAAhB,EAAqB,KAArB,EAA4B;AAClC,MAAI,UAAU,MAAV,IAAoB,CAApB,EAAuB;AAC1B,UAAO,QACN,GAAC,CAAI,EAAJ,4BAA0B,IAAI,EAAJ,CAAO,MAAP,CAAc,KAAK,EAAL,CAAxC,IACA,+BAAuB,IAAI,MAAJ,CAAW,KAAK,EAAL,CAAlC,IACA,KAAK,EAAL,IAAW,KAAK,EAAL,CAAQ,KAAR,IAAiB,GAAjB,CAHN,CADmB;GAA3B;;AAQA,MAAI,QAAQ,KAAR,EAAe,OAAO,IAAP,CAAnB;AACA,MAAI,OAAO,EAAE,4BAAF,IAA0B,OAAO,IAAI,MAAJ,IAAc,UAArB,EAAiC,OAAO,IAAI,MAAJ,CAAW,KAAX,CAAP,CAAtE;AACA,MAAI,SAAS,EAAE,8BAAF,IAA4B,OAAO,MAAM,MAAN,IAAgB,UAAvB,EAAmC,OAAO,MAAM,MAAN,CAAa,GAAb,CAAP,CAA5E;AACA,MAAI,2BAAJ,EAAyB,OAAO,IAAI,MAAJ,CAAW,KAAX,CAAP,CAAzB;AACA,MAAI,6BAAJ,EAA2B,OAAO,MAAM,MAAN,CAAa,GAAb,CAAP,CAA3B;AACA,SAAO,KAAP,CAdkC;EAA5B;;AAiBA,UAAS,QAAT,CAAkB,IAAlB,EAAwB,IAAxB,EAA8B;AACpC,WAAS,OAAT,CAAiB,MAAjB,EAAyB;AACxB,UAAO,cAAP,CAAsB,MAAtB,EAA8B,IAA9B,EAAoC,EAAC,YAAW,IAAX;AACpC,SAAI,eAAU;AAAC,YAAO,OAAO,IAAP,CAAR;KAAV;AACJ,SAAI,aAAS,EAAT,EAAY;AAAC,YAAO,cAAP,CAAsB,IAAtB,EAA4B,MAA5B,EAAoC,EAAC,OAAM,iBAAS,EAAT,CAAN,EAArC,EAAD;KAAZ;IAFL,EADwB;AAKxB,UAAO,OAAP,GAAiB,IAAjB,CALwB;GAAzB;AAOA,MAAI,gBAAJ,CARoC;AASpC,qCACsB,kFADtB,EAToC;AAepC,UAAQ,SAAR,GAAoB,sBAAc,KAAK,SAAL,CAAlC,CAfoC;AAgBpC,WAAS,IAAT,IAAiB,OAAjB,CAhBoC;AAiBpC,MAAI,CAAE,QAAQ,SAAR,CAAkB,MAAlB,EAA0B;AAAC,UAAO,cAAP,CAAsB,QAAQ,SAAR,EAAmB,QAAzC,EAAmD,EAAC,OAAM,MAAN,EAApD,EAAD;GAAhC;AACA,MAAI,CAAE,QAAQ,SAAR,CAAkB,MAAlB,EAA0B;AAAC,UAAO,cAAP,CAAsB,QAAQ,SAAR,EAAmB,QAAzC,EAAmD,EAAC,OAAM,MAAN,EAApD,EAAD;GAAhC;AACA,MAAI,CAAE,QAAQ,QAAR,EAAkB;AAAC,UAAO,cAAP,CAAsB,OAAtB,EAA+B,UAA/B,EAA2C,EAAC,OAAM,QAAN,EAA5C,EAAD;GAAxB;AACA,SAAO,OAAP,CApBoC;EAA9B;;AAuBP,KAAM,WAAW,EAAX,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SC7DU;;;;;;;;;;;;;;;;;;;;;;AALhB,mBAAI,MAAJ,mBAAsB,0BAAtB;AACA,mBAAI,MAAJ,sBAAyB,6BAAzB;KACQ;KAAM;KAAQ;KAAQ;KAAQ;KAAM;KAAO;KAAM;KAAO;KAAW;AAGpE,UAAS,SAAT,CAAmB,WAAnB,EAAgC,YAAhC,EAA6I;MAA/F,qEAAa,kBAAkF;MAA9E,6DAAK,qBAAyE;MAAlE,kEAAU,kBAAwD;MAApD,qEAAa,kBAAuC;MAAnC,sEAAc,gBAAM,aAAN,gBAAqB;;AACnJ,WAAS,MAAT,CAAgB,KAAhB,EAAuB;AACtB,qBAAI,KAAJ,CAAU,QAAV,EAAoB,KAApB,EADsB;OAEd,YAAiD,MAAjD,UAFc;OAEH,eAAsC,MAAtC,aAFG;OAEW,WAAwB,MAAxB,SAFX;OAEwB,gDAAW,kDAFnC;;AAGtB,OAAM,eAAe,oBAAY,YAAZ,EAA0B,GAA1B,CAA8B;6CAAQ,OAAO,IAAI,OAAJ,GAAe,OAAO,CAAP;IAA9B,CAA7C,CAHgB;AAItB,UAAO,cAAc,IAAd,2BAAqB,WAAU,0BAAW,SAAX,EAAsB,YAAtB,EAAoC,YAApC,CAAV,IAAgE,OAArF,EAA8F,QAA9F,CAAP,CAJsB;GAAvB;AAMA,SAAO,WAAP,GAAqB,WAArB,CAPmJ;AAQnJ,SAAO,SAAP;AACC,iBAAc,MAAd;AACA,cAAW,MAAX;AACA,aAAU,IAAV;KACG,UAJJ,CARmJ;AAcnJ,SAAO,YAAP;AACC;KACG,aAFJ,CAdmJ;AAkBnJ,OAAK,IAAI,GAAJ,IAAW,YAAhB,EAA8B;AAC7B,UAAO,SAAP,CAAiB,MAAM,OAAN,CAAjB,GAAkC,MAAlC,CAD6B;AAE7B,UAAO,SAAP,CAAiB,GAAjB,IAAwB,UAAU,CAAC,IAAD,EAAO,MAAP,EAAe,MAAf,EAAuB,MAAvB,EAA+B,IAA/B,CAAV,CAAxB,CAF6B;AAG7B,UAAO,YAAP,CAAoB,MAAM,OAAN,CAApB,GAAqC,aAAa,GAAb,CAArC,CAH6B;GAA9B;AAKA,SAAO,MAAP,CAvBmJ;EAA7I;;AA0BA,KAAM,oCAAc,UAAU,aAAV,EAAyB,mBAAzB,CAAd;AACN,KAAM,8CAAmB,UAAU,kBAAV,EAA8B,wBAA9B,EAAwD,EAAC,MAAK,YAAL,EAAzD,EAA6E,KAA7E,EAAoF,EAAC,UAAU,KAAK,UAAL,EAA/F,EAAiH,EAAjH,EAC/B,UAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAA2B;MAClB,WAAwB,MAAxB,SADkB;MACL,gDAAW,qBADN;;AAE1B,SACC,8DAAK,SAAS,QAAT,EAAmB,YAAY,QAAZ,IAA0B,OAAlD,CADD,CAF0B;EAA3B,CADY;;;;;KAaA;;;AAIZ,WAJY,SAIZ,GAAsB;;;uCAJV,WAIU;;qCAAP;;IAAO;;qHAJV,4DAKF,SADY;;AAErB,SAAK,QAAL,GAAgB,MAAK,QAAL,CAAc,IAAd,OAAhB,CAFqB;AAGrB,UAAO,cAAP,QAA4B,OAA5B,EAAqC,EAAC,KAAI;YAAI,MAAK,KAAL,CAAW,KAAX;KAAJ,EAA1C,EAHqB;;GAAtB;;6BAJY;;4BAUH,KAAgB;AACxB,sBAAI,KAAJ,CAAU,UAAV,EAAsB,GAAtB,EAA2B,IAAI,MAAJ,CAAW,KAAX,CAA3B,CADwB;QAEhB,WAAa,KAAK,KAAL,CAAb,SAFgB;;uCAAR;;KAAQ;;AAGxB,WAAO,YAAY,2BAAS,IAAI,MAAJ,CAAW,KAAX,EAAkB,YAAQ,OAAnC,CAAZ,CAHiB;;;;4BAMhB;AACR,sBAAI,KAAJ,CAAU,QAAV,EAAoB,KAAK,KAAL,CAApB,CADQ;iBAEiC,KAAK,KAAL,CAFjC;QAEA,2BAFA;QAEU,2BAFV;QAEuB,iFAFvB;;AAGR,WAAO,4EAAc,UAAU,KAAK,QAAL,IAAmB,MAA3C,CAAP,CAHQ;;;SAhBG;6BACL,uCAAgB,oBAAa,SAAb,UAChB,0CAAmB,oBAAa,YAAb;;;;;;;;;;KA4Bd;;;AAIZ,WAJY,iBAIZ,GAAsB;;;uCAJV,mBAIU;;sCAAP;;IAAO;;uHAJV,qEAKF,SADY;;AAErB,UAAK,QAAL,GAAgB,OAAK,QAAL,CAAc,IAAd,QAAhB,CAFqB;AAGrB,UAAK,KAAL,GAAa,EAAC,OAAM,OAAK,KAAL,CAAW,KAAX,EAApB,CAHqB;AAIrB,UAAO,cAAP,SAA4B,OAA5B,EAAqC,EAAC,KAAI;YAAI,OAAK,KAAL,CAAW,KAAX;KAAJ,EAA1C,EAJqB;;GAAtB;;6BAJY;;4BAWH,KAAgB;AACxB,sBAAI,KAAJ,CAAU,UAAV,EAAsB,GAAtB,EAA2B,IAAI,MAAJ,CAAW,KAAX,CAA3B,CADwB;AAExB,SAAK,QAAL,CAAc,EAAC,OAAM,IAAI,MAAJ,CAAW,KAAX,EAArB,EAFwB;QAGhB,WAAa,KAAK,KAAL,CAAb,SAHgB;;uCAAR;;KAAQ;;AAIxB,WAAO,YAAY,2BAAS,YAAQ,OAAjB,CAAZ,CAJiB;;;;4BAOhB;QACA,QAAU,KAAK,KAAL,CAAV,MADA;;AAER,sBAAI,KAAJ,CAAU,QAAV,EAAoB,KAApB,EAFQ;kBAGiC,KAAK,KAAL,CAHjC;QAGA,4BAHA;QAGU,4BAHV;QAGuB,kFAHvB;;AAIR,WAAO,4EAAc,OAAO,KAAP,EAAc,UAAU,KAAK,QAAL,IAAmB,MAAzD,CAAP,CAJQ;;;SAlBG;8BACL,uCAAgB,oBAAa,SAAb,WAChB,0CAAmB,oBAAa,YAAb;;;;AAyBpB,KAAM,gCAAY,UAAU,WAAV,EAAuB,gCAAvB,CAAZ;;AAEN,KAAM,8BAAW,UAAU,UAAV,EAAsB,+BAAtB,CAAX;;AAGN,KAAM,8BAAW,UAAU,UAAV,EAAsB,uBAAtB,EAA+C,EAAC,SAAS,YAAT,EAAhD,CAAX;;;;;;;;;;KAUA;;;AAQZ,WARY,gBAQZ,GAAsB;;;uCARV,kBAQU;;sCAAP;;IAAO;;uHARV,oEASF,SADY;;AAErB,UAAK,KAAL,GAAa,EAAE,SAAS,OAAK,KAAL,CAAW,OAAX,EAAoB,QAAO,KAAP,EAA5C,CAFqB;AAGrB,UAAK,IAAL,GAAY,OAAK,IAAL,CAAU,IAAV,QAAZ,CAHqB;;GAAtB;;6BARY;;+BAcA;AACX,WAAO,KAAK,KAAL,CAAW,OAAX,CADI;;;;wBAIP,OAAO;AACX,QAAI,SAAS,MAAM,gBAAN,EAAwB;AAAC,YAAD;KAArC;AACA,SAAK,QAAL,4BAAmB,KAAK,KAAL,IAAY,SAAQ,CAAC,KAAK,KAAL,CAAW,OAAX,EAAoB,QAAO,IAAP,GAA5D,EAFW;;;;4BAKH;kBAC4C,KAAK,KAAL,CAD5C;QACA,0BADA;QACS,8BADT;QACoB,4BADpB;QACiC,+FADjC;;AAER,QAAI,cAAJ;QAAW,aAAX;QAAiB,kBAAjB;QAA4B,mBAA5B,CAFQ;AAGR,QAAM,SAAS,EAAT,CAHE;AAIR,SAAK,IAAI,IAAE,CAAF,EAAK,IAAT,EAAe,OAAK,SAAS,CAAT,CAAL,EAAkB,GAAtC,EAA2C;AAC1C,SAAI,KAAK,IAAL,KAAc,SAAd,EAAyB;AAAC,cAAQ,IAAR,CAAD;MAA7B,MACK,IAAI,KAAK,IAAL,KAAc,QAAd,EAAwB;AAChC,aAAO,IAAP,CADgC;wBAEA,KAAK,KAAL,CAFA;UAExB,iCAFwB;;UAEX,4EAFW;;AAGhC,kBAAY,OAAZ,CAHgC;AAIhC,mBAAa,SAAb,CAJgC;MAA5B,MAMA,OAAO,IAAP,CAAY,IAAZ,EANA;KAFN;;AAWA,WACC;AAAC,aAAD;OAAU,WAAW,SAAX,EAAsB,SAAS,KAAK,SAAL,EAAT,EAA2B,SAAS,KAAK,IAAL,EAApE;KACE,KADF;KAEC;AAAC,cAAD;MAAc,SAAd;MACE,KAAK,KAAL,CAAW,MAAX,IAAqB,KAAK,SAAL,EAArB,GAAwC,UAAxC,GAAqD,EAArD;MAHH;KADD,CAfQ;;;SAvBG;8BACL,YAAY;AAClB,WAAS,IAAT;AACA,aAAW,MAAX;YAEM,eAAe;AACrB,WAAS,KAAT;;AA4CK,KAAM,sCAAe,UAAU,cAAV,EAA0B,YAA1B,EAAwC,EAAC,SAAQ,YAAR,EAAzC,EAAgE,KAAhE,CAAf;AACN,KAAM,wBAAQ,UAAU,OAAV,EAAmB,WAAnB,EAAgC,EAAhC,EAAoC,KAApC,EAA2C,EAAC,MAAK,KAAK,UAAL,EAAiB,UAAU,KAAK,UAAL,EAA5E,EAA8F,EAA9F,EACpB,UAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAA2B;MAClB,OAA8B,MAA9B,KADkB;MACZ,WAAwB,MAAxB,SADY;MACC,gDAAW,6BADZ;;AAE1B,SACC;;GAAS,MAAT;GACE,QADF;GAEC,8BAAC,gBAAD,IAAkB,MAAM,IAAN,EAAY,UAAU,QAAV,EAA9B,CAFD;GADD,CAF0B;EAA3B,CADY;;AAYN,KAAM,0BAAS,UAAU,QAAV,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,KAA5B,EACrB;AACC,QAAM,IAAN;AACA,SAAO,IAAP;AACA,YAAU,IAAV;EAJoB,EAMrB;AACC,QAAM,KAAN;AACA,SAAO,KAAP;EARoB,EAUrB,UAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAA2B;MAClB,OAAqC,MAArC,KADkB;MACZ,QAA+B,MAA/B,MADY;MACL,WAAwB,MAAxB,SADK;MACQ,gDAAW,sCADnB;;AAE1B,SAAQ,QAEP;AAAC,QAAD;KAAO,MAAM,IAAN,EAAY,UAAU,QAAV,EAAnB;GACC;AAAC,gBAAD;6BAAc,SAAS,IAAT,IAAmB,OAAjC;IACE,QADF;IADD;GAFO,GAQP;AAAC,eAAD;4BAAc,SAAS,IAAT,IAAmB,OAAjC;GACE,QADF;GARO,CAFkB;EAA3B,CAVY;;AA2BN,KAAM,0BAAS,UAAU,QAAV,EAAoB,EAApB,EAAwB,EAAC,OAAM,0BAAN,EAAkC,MAAK,YAAL,EAA3D,EAA+E,KAA/E,EACrB;AACC,SAAO,IAAP;AACA,aAAW,IAAX;AACA,YAAU,IAAV;EAJoB,EAMrB;AACC,SAAO,KAAP;AACA,aAAW,KAAX;EARoB,EAUrB,UAAC,IAAD,EAAO,KAAP,EAAc,QAAd,EAA2B;AAC1B,oBAAI,KAAJ,CAAU,QAAV,EAAoB,KAApB,EAD0B;MAElB,OAAyD,MAAzD,KAFkB;MAEZ,QAAmD,MAAnD,MAFY;MAEL,YAA4C,MAA5C,UAFK;MAEM,WAAiC,MAAjC,SAFN;MAEgB,WAAuB,MAAvB,QAFhB;MAE4B,gDAAW,8DAFvC;;AAG1B,SAAQ,QAEP;AAAC,QAAD;KAAO,MAAM,IAAN,EAAY,UAAU,QAAV,EAAnB;GACC;;6BAAW,SAAS,IAAT,EAAe,SAAS,iBAAC,CAAD;aAAO,WAAU,SAAQ,CAAR,CAAV,GAAwB,YAAY,SAAS,CAAT,CAAZ,GAA0B,SAA1B;MAA/B,IAAyE,OAA5G;IACE,QADF;IADD;GAFO,GAQP;;GAAe,MAAf;GACE,QADF;GARO,CAHkB;EAA3B,CAVY;;KA6BA;;;AA6CZ,WA7CY,QA6CZ,GAAc;uCA7CF,UA6CE;;6FA7CF,sBA6CE;;AAEb,UAAK,KAAL,GAAa,EAAC,QAAO,EAAP,EAAd,CAFa;AAGb,UAAK,MAAL,GAAc,OAAK,MAAL,CAAY,IAAZ,QAAd,CAHa;AAIb,UAAK,IAAL,GAAY,OAAK,IAAL,CAAU,IAAV,QAAZ,CAJa;AAKb,UAAK,IAAL,GAAY,OAAK,IAAL,CAAU,IAAV,QAAZ,CALa;AAMb,UAAK,GAAL,GAAW,OAAK,GAAL,CAAS,IAAT,QAAX,CANa;AAOb,UAAK,YAAL,GAAoB,OAAK,YAAL,CAAkB,IAAlB,QAApB,CAPa;AAQb,UAAK,UAAL,GAAkB,OAAK,UAAL,CAAgB,IAAhB,QAAlB,CARa;;GAAd;;6BA7CY;;uCAwDQ;QACX,kBAAoB,KAAK,KAAL,CAApB,gBADW;;AAEnB,QAAI,CAAC,eAAD,IAAoB,QAAO,qEAAP,IAAiB,QAAjB,EAA2B;AAAC,YAAO,gBAAP,CAAwB,SAAxB,EAAmC,KAAK,UAAL,CAAnC,CAAD;KAAnD;;;;0CAGsB;QACd,kBAAoB,KAAK,KAAL,CAApB,gBADc;;AAEtB,QAAI,CAAC,eAAD,IAAoB,QAAO,qEAAP,IAAiB,QAAjB,EAA2B;AAAC,YAAO,mBAAP,CAA2B,SAA3B,EAAsC,KAAK,UAAL,CAAtC,CAAD;KAAnD;;;;0BAGM,OAAO;AACb,sBAAI,GAAJ,CAAQ,QAAR,EAAkB,KAAlB,EADa;kBAE0B,KAAK,KAAL,CAF1B;QAEL,4CAFK;QAEa,4BAFb;;AAGb,QAAI,gBAAJ,EAAsB,OAAtB;AACA,SAAK,QAAL,CAAc,EAAC,QAAO,EAAP,EAAf,EAJa;AAKb,QAAI,QAAJ,EAAc;AAAC,cAAS,KAAT,EAAD;KAAd;AACA,QAAI,KAAJ,EAAW;AAAC,WAAM,cAAN,GAAD,KAAyB,CAAM,eAAN,GAAzB;KAAX;;;;wBAGI,OAAO;AACX,sBAAI,GAAJ,CAAQ,MAAR,EAAgB,KAAhB,EADW;kBAEwC,KAAK,KAAL,CAFxC;QAEH,wBAFG;QAEK,sBAFL;QAEY,wBAFZ;QAEoB,sBAFpB;QAE2B,4BAF3B;;AAGX,QAAI,UAAU,OAAO,MAAP,GAAgB,CAAhB,EAAmB;AAChC,SAAI,QAAJ,EAAc;AAAC,aAAD;MAAd;AACA,SAAI,KAAJ,EAAW;AAAC,YAAM,CAAN,EAAS,KAAT,EAAD;MAAX;KAFD,MAGO;AACN,SAAI,MAAJ,EAAY;AAAC,aAAO,KAAP,EAAD;MAAZ;KAJD;AAMA,QAAI,KAAJ,EAAW;AAAC,WAAM,cAAN,GAAD,KAAyB,CAAM,eAAN,GAAzB;KAAX;;;;wBAGI,OAAO;AACX,sBAAI,GAAJ,CAAQ,MAAR,EAAgB,KAAhB,EADW;kBAEwC,KAAK,KAAL,CAFxC;QAEH,wBAFG;QAEK,sBAFL;QAEY,wBAFZ;QAEoB,sBAFpB;QAE2B,4BAF3B;;AAGX,QAAI,UAAU,CAAV,EAAa;AAChB,SAAI,QAAJ,EAAc;AAAC,aAAD;MAAd;AACA,SAAI,KAAJ,EAAW;AAAC,YAAM,OAAO,MAAP,GAAgB,CAAhB,EAAmB,KAAzB,EAAD;MAAX;KAFD,MAGO;AACN,SAAI,MAAJ,EAAY;AAAC,aAAO,KAAP,EAAD;MAAZ;KAJD;AAMA,QAAI,KAAJ,EAAW;AAAC,WAAM,cAAN,GAAD,KAAyB,CAAM,eAAN,GAAzB;KAAX;;;;uBAGG,KAAK,OAAO;AACf,sBAAI,GAAJ,CAAQ,KAAR,EAAe,KAAf,EADe;QAEP,QAAU,KAAK,KAAL,CAAV,MAFO;;AAGf,QAAI,KAAJ,EAAW;AAAC,WAAM,GAAN,EAAW,KAAX,EAAD;KAAX;AACA,QAAI,KAAJ,EAAW;AAAC,WAAM,cAAN,GAAD,KAAyB,CAAM,eAAN,GAAzB;KAAX;;;;gCAGY,OAAO;AACnB,sBAAI,GAAJ,CAAQ,cAAR,EAAwB,KAAxB,EADmB;AAEnB,QAAI,KAAK,KAAL,CAAW,aAAX,EAA0B,OAA9B;AACA,SAAK,IAAL,CAAU,KAAV,EAHmB;;;;+BAOR,OAAO,OAAO;AACzB,sBAAI,GAAJ,CAAQ,aAAR,EAAuB,KAAvB,EAA8B,KAA9B,EADyB;AAEzB,QAAM,SAAS,KAAK,KAAL,CAAW,MAAX,CAAkB,MAAlB,EAAT,CAFmB;AAGzB,WAAO,KAAP,IAAgB,IAAhB,CAHyB;AAIzB,SAAK,QAAL,CAAc,EAAC,cAAD,EAAd,EAJyB;;;;8BAOf,OAAO;AACjB,QAAI,MAAM,OAAN,KAAkB,EAAlB,EAAsB;AACzB,UAAK,IAAL,CAAU,KAAV,EADyB;KAA1B,MAEO,IAAI,MAAM,OAAN,KAAkB,EAAlB,EAAsB;AAChC,UAAK,IAAL,CAAU,KAAV,EADgC;KAA1B,MAEA,IAAI,MAAM,OAAN,KAAkB,EAAlB,EAAsB;AAChC,UAAK,MAAL,CAAY,KAAZ,EADgC;KAA1B;;;;4BAKC;;;kBAC2G,KAAK,KAAL,CAD3G;QACA,oBADA;QACM,sBADN;QACa,wBADb;QACqB,sCADrB;QACoC,oCADpC;QACkD,oDADlD;QACwE,8BADxE;QACmF,8BADnF;QAC8F,4BAD9F;;AAER,QAAM,WAAW,CAAC,MAAD,IAAW,CAAC,OAAO,MAAP,CAFrB;AAGR,QAAM,UAAU,CAAC,QAAD,IAAa,OAAO,KAAP,EAAc,OAAd,CAHrB;AAIR,QAAM,QAAQ,EAAE,QAAQ,KAAK,KAAL,CAAW,aAAX,GAA2B,MAA3B,GAAoC,SAApC,EAA+C,SAAS,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAlB,IAA2B,CAA3B,GAA+B,CAA/B,EAA1E,CAJE;AAKR,QAAM,MAAM,CAAC,QAAD,IAAa,OAAO,KAAP,EAAc,GAAd,CALjB;AAMR,QAAM,WAAW,CAAC,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAlB,CAAD,GAA4B,EAAC,UAAS,UAAT,EAAqB,OAAM,CAAN,EAAS,QAAO,CAAP,EAA3D,GAAuE,EAAvE,CANT;AAOR,QAAM,qBAAqB,uBAAuB,SAAvB,GAC1B;;OAAK,WAAU,mCAAV,EAAL;KACE,OAAO,GAAP,CAAW,UAAC,GAAD,EAAM,CAAN;aACX;;SAAG,KAAK,CAAL,EAAQ,MAAK,GAAL,EAAS,WAAW,sCAAsC,MAAM,KAAN,GAAc,YAAd,GAA6B,EAA7B,CAAtC;AAC9B,iBAAS,iBAAC,GAAD;gBAAS,OAAK,GAAL,CAAS,CAAT,EAAY,GAAZ;SAAT,EAA2B,YAAY,oBAAC,GAAD;gBAAS,OAAK,GAAL,CAAS,CAAT,EAAY,GAAZ;SAAT,EADjD;OAC4E,wCAD5E;;MADW,CADb;KAD0B,CAPnB;AAeR,QAAM,aAAa,eAAe,SAAf,GAA2B;;OAAK,WAAU,2BAAV,EAAL;KAA4C,QAAQ,CAAR;UAA5C;KAA0D,OAAO,MAAP;KAArF,CAfX;AAgBR,QAAM,aAAa,CAAC,OAAD,GAAW,SAAX,GAAuB;;OAAY,WAAU,uBAAV,EAAZ;KAA+C,OAA/C;KAAvB,CAhBX;AAiBR,QAAM,WAAW,CAAC,OAAD,IAAY,CAAC,kBAAD,IAAuB,CAAC,UAAD,CAjB5C;AAkBR,WACC;AAAC,UAAD;OAAO,MAAM,IAAN,EAAY,UAAU,KAAK,MAAL,EAA7B;KACC;;QAAK,WAAW,kBAAkB,OAAO,aAAP,GAAuB,EAAvB,CAAlB,EAAhB;MACC;;SAAK,WAAU,uBAAV,EAAL;OAEE,gBAAgB,SAAhB,GACA;;UAAW,WAAU,4BAAV,EAAuC,SAAS,KAAK,MAAL,EAAa,YAAY,KAAK,MAAL,EAApF;QACC,gDAAM,MAAK,OAAL,EAAN,CADD;QADA;OAMA,WAAW,SAAX,GACA;;;QACE,CAAC,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAlB,CAAD,GACA,sDADA,GAEA,EAFA;QAGA,CAAC,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAlB,CAAD,IAA6B,GAA7B,GACA,uCAAK,KAAK,IAAI,GAAJ,EAAS,OAAO,IAAI,KAAJ,EAA1B,CADA,GAEA,EAFA;QAGD;AACC,kBAAS,KAAK,YAAL;AACT,iBAAQ;iBAAK,OAAK,WAAL,CAAiB,CAAjB,EAAoB,KAApB;UAAL;AACR,qBAAY,KAAK,YAAL;AACZ,cAAK,OAAO,KAAP,EAAc,GAAd;AACL,2CAAW,OAAU,SAArB;SALD,CAPD;QAcE,WAAW,SAAX,GACA;;WAAK,WAAU,sBAAV,EAAL;SACE,kBADF;SAEE,UAFF;SAGE,UAHF;SADA;QAfF;OAyBA,aAAa,CAAC,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAlB,CAAD,GAA4B,SAAzC,GACA;;UAAK,WAAU,uBAAV,EAAkC,OAAO,EAAC,OAAM,CAAN,EAAS,QAAO,CAAP,EAAU,UAAS,QAAT,EAAmB,SAAQ,CAAR,EAA9C,EAAvC;QACE,OAAO,GAAP,CAAW,iBAAQ,CAAR;aAAE;gBAAa,MAAM,KAAN,GAAc,SAAd,GAC1B,uCAAK,KAAK,CAAL,EAAQ,KAAK,GAAL,EAAU,QAAQ;kBAAK,OAAK,WAAL,CAAiB,CAAjB,EAAoB,CAApB;WAAL,EAA/B,CAD0B;SAAf,CADb;QADA;OAlCH;MA2CC;;SAAW,WAAU,2BAAV,EAAsC,UAAU,YAAa,UAAU,CAAV,EAAc,SAAS,KAAK,IAAL,EAAW,YAAY,KAAK,IAAL,EAAtH;OACC,gDAAM,MAAK,iBAAL,EAAN,CADD;OA3CD;MA+CC;;SAAW,WAAU,2BAAV,EAAsC,UAAU,YAAa,UAAU,OAAO,MAAP,GAAgB,CAAhB,EAAoB,SAAS,KAAK,IAAL,EAAW,YAAY,KAAK,IAAL,EAAtI;OACC,gDAAM,MAAK,eAAL,EAAN,CADD;OA/CD;MADD;KADD,CAlBQ;;;SAlIG;8BACL,cAAc,oBAEd,YAAY;AAClB,QAAM,IAAN;AACA,UAAQ,QAAQ,MAAM;AACrB,QAAK,OAAO,UAAP;AACL,WAAQ,KAAR;AACA,YAAS,MAAT;GAHe,CAAR,CAAR;AAKA,SAAO,MAAP;AACA,YAAU,IAAV;AACA,UAAQ,IAAR;AACA,UAAQ,IAAR;AACA,SAAO,IAAP;;AAEA,mBAAiB,IAAjB;AACA,oBAAkB,IAAlB;AACA,iBAAe,IAAf;AACA,iBAAe,IAAf;AACA,gBAAc,IAAd;AACA,wBAAsB,IAAtB;AACA,aAAW,IAAX;AACA,aAAW,IAAX;AACA,YAAU,IAAV;AACA,SAAO,MAAP;YAGM,eAAe;AACrB,QAAM,KAAN;AACA,UAAQ,EAAR;AACA,SAAO,CAAP;;AAEA,mBAAiB,KAAjB;AACA,oBAAkB,KAAlB;AACA,iBAAe,KAAf;AACA,iBAAe,KAAf;AACA,gBAAc,KAAd;AACA,wBAAsB,KAAtB;AACA,aAAW,KAAX;AACA,aAAW,KAAX;AACA,YAAU,KAAV;AACA,SAAO,GAAP;;AAmKD,E;;;;;;AC7bD,yC;;;;;;ACAA,4C;;;;;;ACAA,qC;;;;;;ACAA,0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCIqB;;;AAsMpB,WAtMoB,QAsMpB,CAAY,KAAZ,EAAmB;uCAtMC,UAsMD;;AAClB,qBAAI,KAAJ,CAAU,UAAV,EAAsB,KAAtB,EADkB;;;4FAtMC,qBAwMb,QAFY;;AAGlB,SAAK,KAAL,GAAa,MAAK,QAAL,CAAc,KAAd,CAAb,CAHkB;AAIlB,SAAK,QAAL,GAAgB,MAAK,QAAL,CAAc,IAAd,OAAhB,CAJkB;;GAAnB;;;6BAtMoB;;4BA6MX,OAAO;;AAEf,QAAI,MAAM,QAAO,qEAAP,IAAiB,QAAjB,IAA6B,MAA7B,CAFK;AAGf,QAAI,IAAI,OAAO,OAAO,UAAP,IAAqB,GAA5B,CAHO;AAIf,QAAI,aAAa,OAAO,IAAI,GAAJ,CAJT;AAKf,QAAI,WAAW,KAAK,OAAL,GAAe,mBAAS,WAAT,CAAqB,IAArB,CAAf,GAA4C,SAA5C,CALA;AAMf,QAAI,YAAY,WAAW,aAAa,UAAb,EAAyB,QAAzB,CAAX,GAAgD,CAAhD,CAND;;AAQf,QAAI,qBAAqB,KAAK,KAAL,CAAW,kBAAX,CARV;AASf,QAAI,QAAQ,MAAM,KAAN,YAAuB,KAAvB,GAA+B,EAAC,GAAG,MAAM,KAAN,EAAnC,GAAkD,MAAM,KAAN,CAT/C;AAUf,QAAI,YAAY,MAAM,SAAN,KAAoB,SAApB,GAAgC,MAAM,SAAN,GAAkB,SAAS,MAAM,CAAN,CAAT,IAAqB,MAAM,CAAN,EAAS,MAAT,IAAmB,CAAxC,CAVnD;AAWf,QAAI,WAAW,aAAa,CAAb,GAAiB,MAAM,QAAN,CAXjB;AAYf,QAAI,WAAW,CAAC,GAAD,GAAO,CAAP,GAAY,IAAI,IAAJ,GAAW,CAAX,GAAgB,IAAI,GAAJ,GAAU,CAAV,GAAc,CAAd,CAZ5B;AAaf,QAAI,eAAe,MAAM,YAAN,CAbJ;AAcf,QAAI,cAAc,MAAM,WAAN,CAdH;AAef,QAAI,iBAAiB,EAAC,EAAE,YAAY,QAAZ,CAAF,IAA2B,EAAC,EAAE,YAAY,QAAZ,CAAF,GAA0B,CAA3B,GAA+B,CAA/B,CAA5B,CAfN;;AAiBf,QAAI,eAAe,WAAW,QAAQ,UAAR,EAAoB,QAApB,CAAX,GAA2C,KAAK,GAAL,CAAS,kBAAT,EAA6B,cAA7B,IAA+C,QAA/C,CAjB/C;AAkBf,QAAI,SAAS,KAAK,IAAL,CAAU,MAAV,CAlBE;AAmBf,QAAI,eAAe,WAAW,cAAc,UAAd,EAA0B,MAA1B,EAAkC,QAAlC,CAAX,GAAyD,CAAzD,CAnBJ;AAoBf,QAAI,gBAAgB,EAAhB,CApBW;;AAsBf,QAAI,mBAAmB,EAAC,EAAE,YAAY,QAAZ,CAAF,CAtBT;AAuBf,QAAI,YAAY,KAAK,GAAL,CAAS,gBAAT,EAA2B,YAA3B,CAAZ,CAvBW;AAwBf,QAAI,oBAAoB,mBAAmB,SAAnB,CAxBT;AAyBf,QAAI,eAAe,oBAAoB,QAApB,CAzBJ;AA0Bf,QAAI,WAAW,YAAX,CA1BW;AA2Bf,QAAI,mBAAmB,EAAC,EAAE,eAAe,QAAf,CAAF,IAA8B,EAAC,EAAE,eAAe,QAAf,CAAF,GAA6B,CAA9B,GAAkC,CAAlC,CAA/B,CA3BR;AA4Bf,QAAI,UAAU,KAAK,GAAL,CAAS,WAAW,mBAAmB,QAAnB,GAA8B,cAAc,QAAd,EAAwB,YAAY,CAAZ,CAApF,CA5BW;AA6Bf,SAAK,IAAI,IAAE,QAAF,EAAY,KAAG,OAAH,EAAY,GAAjC,EAAsC;AACrC,SAAI,OAAO,MAAM,CAAN,EAAS,CAAT,KAAe,IAAf,CAD0B;AAErC,mBAAc,IAAd,CAAmB,IAAnB,EAFqC;KAAtC;AAIA,QAAI,yBAAyB,EAAC,EAAE,cAAc,MAAd,GAAuB,QAAvB,CAAF,IAAsC,EAAC,EAAE,cAAc,MAAd,GAAuB,QAAvB,CAAF,GAAqC,CAAtC,GAA0C,CAA1C,CAAvC,CAjCd;AAkCf,QAAI,aAAa,EAAC,EAAE,WAAW,QAAX,CAAF,GAAyB,QAA1B,CAlCF;AAmCf,QAAI,YAAY,yBAAyB,QAAzB,CAnCD;AAoCf,QAAI,YAAY,iBAAiB,QAAjB,GAA4B,UAA5B,GAAyC,SAAzC,CApCD;;AAsCf,WAAO;AACN,2BADM;AAEN,iCAFM;AAGN,2BAHM;AAIN,yBAJM;AAKN,yBALM;AAMN,uBANM;;AAQN,6BAAwB,QAAxB;AACA,4BAAuB,OAAvB;AACA,WAAM,YAAN;KAVD,CAtCe;;;;yCAoDM,WAAW,WAAW;AAC3C,sBAAI,KAAJ,CAAU,uBAAV,EAAmC,SAAnC,EAA8C,SAA9C,EAD2C;AAE3C,QAAI,KAAK,KAAL,CAAW,IAAX,KAAoB,UAAU,IAAV,EAAgB,OAAO,IAAP,CAAxC;AACA,QAAI,KAAK,KAAL,CAAW,UAAX,KAA0B,UAAU,UAAV,EAAsB,OAAO,IAAP,CAApD;AACA,QAAI,KAAK,KAAL,CAAW,SAAX,KAAyB,UAAU,SAAV,EAAqB,OAAO,IAAP,CAAlD;AACA,QAAI,KAAK,KAAL,CAAW,KAAX,CAAiB,MAAjB,KAA4B,UAAU,KAAV,CAAgB,MAAhB,EAAwB,OAAO,IAAP,CAAxD;AACA,QAAI,CAAC,YAAY,KAAK,KAAL,CAAW,aAAX,EAA0B,UAAU,aAAV,CAAvC,EAAiE,OAAO,IAAP,CAArE;AACA,QAAI,CAAC,YAAY,KAAK,KAAL,CAAW,KAAX,EAAkB,UAAU,KAAV,CAA/B,EAAiD,OAAO,IAAP,CAArD;AACA,WAAO,KAAP,CAR2C;;;;6CAWlB,WAAW;AACpC,sBAAI,KAAJ,CAAU,2BAAV,EAAuC,SAAvC,EADoC;AAEpC,SAAK,QAAL,CAAc,KAAK,QAAL,CAAc,SAAd,CAAd,EAFoC;;;;uCAKjB;AACnB,sBAAI,KAAJ,CAAU,mBAAV,EADmB;AAEnB,SAAK,OAAL,GAAe,IAAf,CAFmB;AAGnB,SAAK,iBAAL,GAAyB,OAAO,UAAP,GAAoB,GAApB,GACtB,SAAS,KAAK,QAAL,EAAe,KAAK,KAAL,CAAW,cAAX,EAA2B,KAAnD,CADsB,GAEtB,KAAK,QAAL,CALgB;AAMnB,SAAK,QAAL,CAAc,KAAK,QAAL,CAAc,KAAK,KAAL,CAA5B,EANmB;AAOnB,uBAAS,WAAT,CAAqB,IAArB,EAA2B,gBAA3B,CAA4C,QAA5C,EAAsD,KAAK,iBAAL,CAAtD,CAPmB;;;;0CAUG;AACtB,sBAAI,KAAJ,CAAU,sBAAV,EADsB;AAEtB,uBAAS,WAAT,CAAqB,IAArB,EAA2B,mBAA3B,CAA+C,QAA/C,EAAyD,KAAK,iBAAL,CAAzD,CAFsB;AAGtB,SAAK,OAAL,GAAe,KAAf,CAHsB;;;;8BAMZ;AACV,sBAAI,KAAJ,CAAU,UAAV,EADU;AAEV,SAAK,QAAL,CAAc,KAAK,QAAL,CAAc,KAAK,KAAL,CAA5B,EAFU;;;;4BAKF;;;AACR,sBAAI,KAAJ,CAAU,QAAV,EAAoB,KAAK,KAAL,EAAY,KAAK,KAAL,CAAhC,CADQ;AAER,QAAI,SAAO,EAAP;QAAW,SAAO,EAAP;QAAW,QAAM,EAAN;QAAU,MAAI,EAAJ,CAF5B;AAGR,QAAM,MAAO,KAAK,KAAL,CAAW,UAAX,GAAwB,OAAxB,GAAkC,QAAlC,CAHL;AAIR,WAAO,GAAP,IAAc,KAAK,KAAL,CAAW,UAAX,GAAwB,KAAK,KAAL,CAAW,SAAX,GAAuB,KAAK,KAAL,CAAW,SAAX,CAJrD;AAKR,WAAO,GAAP,IAAc,KAAK,KAAL,CAAW,UAAX,CALN;AAMR,QAAI,GAAJ,IAAW,KAAK,KAAL,CAAW,QAAX,CANH;AAOR,UAAM,GAAN,IAAa,KAAK,KAAL,CAAW,SAAX,CAPL;AAQR,WACC;;OAAK,WAAU,UAAV,EAAL;KACC;;QAAK,WAAU,cAAV,EAAyB,KAAI,QAAJ,EAAa,OAAO,MAAP;OAA3C;MACE,uCAAK,WAAU,iCAAV,EAA4C,KAAI,cAAJ,EAAmB,OAAO,MAAP,EAApE,CADF;MAEG,KAAK,KAAL,CAAW,aAAX,CAAyB,GAAzB,CAA6B,UAAC,IAAD,EAAO,GAAP,EAAe;AAC7C,aAAM,MAAM,OAAK,KAAL,CAAW,sBAAX,CADiC;AAE7C,WAAM,MAAM,OAAK,KAAL,CAAW,UAAX,GAAwB,OAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,EAA4B,GAA5B,CAAxB,GAA2D,SAAS,GAAT,CAF1B;WAGvC,aAAe,OAAK,KAAL,CAAf,WAHuC;;AAI7C,WAAI,SAAS,IAAT,EAAe;AAClB,YAAI,OAAK,KAAL,CAAW,iBAAX,EAA8B;AAAC,sBAAa,OAAK,KAAL,CAAW,iBAAX,CAAd;SAAlC,MACK;AAAC,gBAAO,EAAP,CAAD;SADL;QADD;;;AAJ6C,cAW5C;;UAAK,WAAU,YAAV,EAAuB,KAAK,GAAL,EAAU,OAAO,GAAP,EAAtC;QACC,WAAW,IAAX,EAAiB,GAAjB,CADD;QADD,CAV6C;OAAf,CAFhC;MAiBI,uCAAK,WAAU,gCAAV,EAA2C,KAAI,aAAJ,EAAkB,OAAO,KAAP,EAAlE,CAjBJ;MADD;KADD,CARQ;;;SAtSW;GAAiB,gBAAM,SAAN,UAC9B,YAAY;;;;;;;;;;;;;;;;;;;;;;;AAuBlB,SAAO,gBAAM,SAAN,CAAgB,SAAhB,CAA0B,CAChC,gBAAM,SAAN,CAAgB,MAAhB,EACA,gBAAM,SAAN,CAAgB,KAAhB,CAFM,CAAP;;;;;;;;;AAYA,YAAU,gBAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;;;;;;;;;;;AAWV,sBAAoB,gBAAM,SAAN,CAAgB,MAAhB;;;;;;;;;;;;;;;;;;;;;AAqBpB,gBAAc,gBAAM,SAAN,CAAgB,MAAhB;;;;;;;;;AASd,eAAa,gBAAM,SAAN,CAAgB,MAAhB;;;;;;;;;;;AAWb,QAAM,gBAAM,SAAN,CAAgB,IAAhB;;;;;;;AAON,cAAY,gBAAM,SAAN,CAAgB,IAAhB,CAAqB,UAArB;;;;;;;;;AASZ,cAAY,gBAAM,SAAN,CAAgB,IAAhB;;;;;;;;;;AAUZ,eAAa,gBAAM,SAAN,CAAgB,IAAhB;;;;;;AAMb,kBAAgB,gBAAM,SAAN,CAAgB,MAAhB;;;;;;;;;;;;AAahB,aAAW,gBAAM,SAAN,CAAgB,MAAhB;;;;;;;;;;;;AAYX,YAAU,gBAAM,SAAN,CAAgB,MAAhB;;;;;;;;;;;;;AAaV,kBAAgB,gBAAM,SAAN,CAAgB,MAAhB;;;;;;;;;;;;;;AAchB,aAAW,gBAAM,SAAN,CAAgB,IAAhB;;;;;;;;;;;AAWX,qBAAmB,gBAAM,SAAN,CAAgB,IAAhB,WAGb,eAAe;AACrB,SAAO,EAAC,GAAG,EAAH,EAAR;AACA,YAAU,GAAV;AACA,sBAAoB,EAApB;;AAEA,gBAAc,CAAd;AACA,eAAa,CAAb;AACA,kBAAgB,GAAhB;;AAEA,QAAM,KAAN;;mBAnMmB;;;AAwUrB,UAAS,WAAT,CAAqB,CAArB,EAAwB,CAAxB,EAA2B;AAC1B,MAAI,CAAC,CAAD,IAAM,CAAC,CAAD,EAAI,OAAO,KAAP,CAAd;AACA,MAAI,EAAE,MAAF,IAAY,EAAE,MAAF,EAAU,OAAO,KAAP,CAA1B;AACA,OAAK,IAAI,IAAI,CAAJ,EAAO,SAAS,EAAE,MAAF,EAAU,IAAI,MAAJ,EAAY,GAA/C,EAAoD;AACnD,OAAI,EAAE,CAAF,KAAQ,EAAE,CAAF,CAAR,EAAc,OAAO,KAAP,CAAlB;GADD;AAGA,SAAO,IAAP,CAN0B;EAA3B;;AASA,UAAS,aAAT,CAAuB,UAAvB,EAAmC,OAAnC,EAA4C;AAC3C,MAAM,MAAM,aAAa,MAAb,GAAsB,KAAtB,CAD+B;AAE3C,MAAI,CAAC,OAAD,IAAY,YAAY,MAAZ,EAAoB,OAAO,CAAP,CAApC;AACA,SAAO,QAAQ,WAAW,GAAX,CAAR,GAA0B,cAAc,UAAd,EAA0B,QAAQ,YAAR,CAApD,CAHoC;EAA5C;;AAMA,UAAS,aAAT,CAAuB,UAAvB,EAAmC,OAAnC,EAA4C,SAA5C,EAAuD;AACtD,SAAO,cAAc,UAAd,EAA0B,OAA1B,IAAqC,cAAc,UAAd,EAA0B,SAA1B,CAArC,CAD+C;EAAvD;;AAIA,UAAS,OAAT,CAAiB,UAAjB,EAA6B,OAA7B,EAAsC;AACrC,MAAM,MAAM,aAAa,OAAb,GAAuB,QAAvB,CADyB;AAErC,SAAO,OAAO,QAAQ,UAAU,GAAV,CAAf,IAAiC,WAAjC,GAA+C,QAAQ,UAAU,GAAV,CAAvD,GAAwE,QAAQ,WAAW,GAAX,CAAhF,CAF8B;EAAtC;;AAKA,UAAS,YAAT,CAAsB,UAAtB,EAAkC,OAAlC,EAA2C;AAC1C,MAAI,YAAJ,CAD0C;;aAEpB,aAAa,EAAC,MAAK,GAAL,EAAU,KAAI,MAAJ,EAAxB,GAAsC,EAAC,MAAK,GAAL,EAAU,KAAI,KAAJ,EAAjD,CAFoB;;MAElC,iBAFkC;MAE5B,eAF4B;;AAG1C,MAAI,YAAY,MAAZ,EAAoB;AACvB,SAAM,OAAO,SAAS,IAAT,GAAgB,QAAhB,CAAb,CADuB;AAEvB,OAAI,OAAO,IAAP,EAAa,MAAM,SAAS,eAAT,CAAyB,WAAW,GAAX,CAA/B,CAAjB;AACA,OAAI,OAAO,IAAP,EAAa,MAAM,SAAS,IAAT,CAAc,WAAW,GAAX,CAApB,CAAjB;GAHD,MAKK;AACJ,SAAM,QAAQ,WAAW,IAAX,CAAd,CADI;AAEJ,OAAI,OAAO,IAAP,EAAa,MAAM,QAAQ,WAAW,GAAX,CAAd,CAAjB;GAPD;AASA,SAAO,GAAC,IAAO,IAAP,GAAe,CAAhB,GAAoB,GAApB,CAZmC;EAA3C;;AAeA,UAAS,QAAT,CAAkB,IAAlB,EAAwB,IAAxB,EAA8B,SAA9B,EAAyC;AACxC,MAAI,CAAC,IAAD,EAAO,OAAO,IAAP,CAAX;AACA,MAAI,OAAJ,CAFwC;AAGxC,SAAO,YAAW;AACjB,OAAI,UAAU,IAAV;OAAgB,OAAO,SAAP,CADH;AAEjB,OAAI,QAAQ,SAAR,KAAQ,GAAW;AACtB,cAAU,IAAV,CADsB;;AAGtB,QAAI,CAAC,SAAD,EAAY,KAAK,KAAL,CAAW,OAAX,EAAoB,IAApB,EAAhB;IAHW,CAFK;AAOjB,OAAI,UAAU,aAAa,CAAC,OAAD,CAPV;AAQjB,gBAAa,OAAb,EARiB;AASjB,aAAU,WAAW,KAAX,EAAkB,IAAlB,CAAV,CATiB;AAUjB,OAAI,OAAJ,EAAa,KAAK,KAAL,CAAW,OAAX,EAAoB,IAApB,EAAb;GAVM,CAHiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KC5W5B;;;AAUZ,WAVY,SAUZ,GAA6C;OAAjC,8DAAQ,UAAU,aAAV,gBAAyB;uCAVjC,WAUiC;;4FAVjC,sBAWL,QADsC;;AAE5C,SAAK,UAAL,CAAgB,UAAU,UAAV,EAAsB,UAAC,KAAD,EAAQ,MAAR;sCAAwB,SAAO,QAAQ,OAAO,OAAP;IAAvC,CAAtC,CAF4C;AAG5C,SAAK,UAAL,CAAgB,UAAU,WAAV,EAAuB,UAAC,KAAD,EAAQ,MAAR;sCAAwB,SAAO,SAAS,OAAO,OAAP;IAAxC,CAAvC,CAH4C;AAI5C,UAAO,cAAP,QAA4B,QAA5B,EAAsC,EAAC,YAAW,IAAX,EAAiB,KAAK;YAAM,MAAK,QAAL,GAAgB,MAAhB;KAAN,EAA7D,EAJ4C;AAK5C,UAAO,cAAP,QAA4B,SAA5B,EAAuC,EAAC,YAAW,IAAX,EAAiB,KAAK;YAAM,MAAK,QAAL,GAAgB,OAAhB;KAAN,EAA9D,EAL4C;;GAA7C;;6BAVY;;6BAkBF,QAAQ;AACjB,WAAO,KAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,UAAU,UAAV,CAAlB,CAAwC,MAAxC,CAAd,CAAP,CADiB;;;;8BAIP,SAAS;AACnB,SAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,UAAU,WAAV,CAAlB,CAAyC,OAAzC,CAAd,EADmB;;;;uBAIhB,QAAQ;AACX,QAAM,OAAO,oBAAY,MAAZ,CAAP,CADK;AAEX,QAAI,SAAS,EAAT,CAFO;;;;;;AAGX,qDAAgB,YAAhB,oGAAsB;UAAb,kBAAa;;AACrB,gBAAU,SAAS,GAAT,GAAe,GAAf,CADW;AAErB,gBAAU,mBAAmB,GAAnB,IAA0B,GAA1B,GAAgC,mBAAmB,OAAO,GAAP,CAAnB,CAAhC,CAFW;MAAtB;;;;;;;;;;;;;;KAHW;;AAOX,WAAO,MAAP,CAPW;;;;4BAUH;;;AACR,sBAAI,KAAJ,CAAU,QAAV;;AADQ,WAGD,KAAK,QAAL,CAAc,YAAM;AAC1B,SAAM,MAAM,OAAK,GAAL,CAAS,OAAK,MAAL,CAAf,CADoB;AAE1B,YAAK,OAAL,GAF0B;AAG1B,uBAAI,GAAJ,CAAQ,mBAAR,EAA6B,GAA7B,EAH0B;AAI1B,YAAO,OAAK,KAAL,CAAW,GAAX,EACL,IADK,CACA,oBAAY;AACjB,wBAAI,GAAJ,CAAQ,mCAAR,EAA6C,SAAS,MAAT,CAA7C,CADiB;AAEjB,UAAI,YAAY,SAAS,MAAT,KAAoB,GAApB,EAAyB;AACxC,cAAO,SAAS,IAAT,EAAP,CADwC;OAAzC,MAGK;AACJ,yBAAI,GAAJ,CAAQ,gCAAR,EAA0C,SAAS,MAAT,EAAiB,SAAS,UAAT,CAA3D,CADI;AAEJ,cAAO,sBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACvC,iBAAS,IAAT,GAAgB,IAAhB,CAAqB,gBAAQ;AAC5B,2BAAI,GAAJ,CAAQ,UAAR,EAAoB,SAAS,MAAT,EAAiB,IAArC,EAD4B;AAE5B,aAAM,QAAQ,MAAM,IAAN,CAAR,CAFsB;AAG5B,eAAM,MAAN,GAAe,SAAS,MAAT,CAHa;AAI5B,eAAM,UAAN,GAAmB,SAAS,UAAT,CAJS;AAK5B,gBAAO,KAAP,EAL4B;SAAR,CAArB,CADuC;QAArB,CAAnB,CAFI;OAHL;MAFK,CADA,CAmBL,IAnBK,CAmBA,gBAAQ;AACb,wBAAI,GAAJ,CAAQ,oBAAoB,KAAK,MAAL,GAAc,UAAlC,CAAR,CADa;AAEb,aAAK,OAAL,GAFa;AAGb,aAAK,UAAL,CAAgB,IAAhB,EAHa;AAIb,aAAO,IAAP,CAJa;MAAR,CAnBA,CAyBL,KAzBK,CAyBC,iBAAS;AACf,wBAAI,IAAJ,CAAS,gBAAT,EAA2B,KAA3B,EADe;AAEf,aAAO,OAAK,QAAL,CAAc,KAAd,CAAP,CAFe;MAAT,CAzBR,CAJ0B;KAAN,CAArB,CAHQ;;;SApCG;qCACL,2CACH,wBAAM,aAAN;AACH,UAAQ,EAAR;AACA,WAAQ,EAAR;aAGM,aAAa,sBACb,cAAc;;mBAmEP,U;;;;;;AClFf,2D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCIa;;;AACZ,WADY,kBACZ,CAAY,EAAZ,EAAgB,QAAhB,EAA0B;uCADd,oBACc;;4FADd,+BAEL,KADmB;;AAEzB,SAAK,QAAL,GAAgB,QAAhB,CAFyB;;GAA1B;;SADY;;;mBAME,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCRP;KAAQ;KAAM;;;AAGtB,UAAS,eAAT,CAAyB,YAAzB,EAAuC;AACtC,MAAM,SAAS,SAAT,MAAS,CAAC,KAAD,EAAW;OACjB,YAAqD,MAArD,UADiB;OACN,eAA0C,MAA1C,aADM;OACQ,WAA4B,MAA5B,SADR;OACqB,oDAAe,kDADpC;;AAEzB,OAAM,UAAU,0BAAW,SAAX,EAAsB,YAAtB,CAAV,CAFmB;AAGzB,UAAO;;6BAAK,WAAW,OAAX,IAAwB,WAA7B;IAA0C,QAA1C;IAAP,CAHyB;GAAX,CADuB;AAMtC,SAAO,SAAP,GAAmB;AAClB,cAAW,MAAX;AACA,iBAAc,OAAO,UAAP;AACd,aAAU,IAAV;GAHD,CANsC;;AAYtC,SAAO,YAAP,GAAsB;AACrB,iBAAc,YAAd;GADD,CAZsC;;AAgBtC,SAAO,MAAP,CAhBsC;EAAvC;;AAmBO,KAAM,gCAAY,gBAAgB,iBAAhB,CAAZ;AACN,KAAM,sCAAe,gBAAgB,yBAAhB,CAAf;AACN,KAAM,gCAAY,gBAAgB,iBAAhB,CAAZ;AACN,KAAM,0CAAiB,gBAAgB,2BAAhB,CAAjB;AACN,KAAM,oCAAc,gBAAgB,mBAAhB,CAAd;AACN,KAAM,8BAAW,gBAAgB,gBAAhB,CAAX;AACN,KAAM,wBAAQ,gBAAgB,SAAS,YAAT,CAAsB,YAAtB,GAAqC,kBAArC,CAAxB;AACN,KAAM,sBAAO,gBAAgB,SAAS,YAAT,CAAsB,YAAtB,GAAqC,iBAArC,CAAvB;;KAEA;;;;;;;;;;4BAiBH;iBACkF,KAAK,KAAL,CADlF;QACA,6BADA;QACW,6BADX;QACsB,iCADtB;QACmC,mCADnC;QACiD,yBADjD;QAC0D,2BAD1D;QACuE,0IADvE;;AAER,QAAM,UAAU,0BAAW,SAAX,EAAsB,SAAtB,EAAiC,WAAjC,oCAAgD,cAAe,QAA/D,CAAV,CAFE;AAGR,WAAQ;;8BAAK,WAAW,OAAX,IAAwB,OAA7B;KAAsC,QAAtC;KAAR,CAHQ;;;SAjBG;6BACL,YAAY;AAClB,aAAW,MAAX;AACA,aAAW,MAAX;AACA,eAAa,MAAb;AACA,gBAAc,MAAd;AACA,WAAS,IAAT;AACA,YAAU,IAAV;WAGM,eAAe;AACrB,aAAW,UAAX;AACA,eAAa,iBAAb;AACA,gBAAc,YAAd;AACA,WAAS,KAAT;;mBASa;KAEF;;;AAWZ,WAXY,QAWZ,CAAY,KAAZ,EAAmB;uCAXP,UAWO;;6FAXP,qBAYL,QADY;;AAElB,UAAK,KAAL,GAAa,OAAK,QAAL,CAAc,KAAd,CAAb,CAFkB;AAGlB,UAAK,IAAL,GAAY,OAAK,IAAL,CAAU,IAAV,QAAZ,CAHkB;;GAAnB;;6BAXY;;4BAiBH,OAAO;AACf,WAAO,EAAC,SAAS,KAAK,KAAL,IAAc,KAAK,KAAL,CAAW,OAAX,IAAsB,SAAS,MAAM,OAAN,EAA9D,CADe;;;;6CAIU,WAAW;AACpC,SAAK,QAAL,CAAc,KAAK,QAAL,CAAc,SAAd,CAAd,EADoC;;;;uCAIjB;AACnB,SAAK,QAAL,CAAc,KAAK,QAAL,CAAc,KAAK,KAAL,CAA5B,EADmB;;;;+BAIR;AACX,WAAO,KAAK,KAAL,IAAc,KAAK,KAAL,CAAW,OAAX,CADV;;;;0BAIL;AACN,sBAAI,KAAJ,CAAU,cAAV,EAA0B,CAAC,KAAK,QAAL,GAAgB,OAAhB,CAA3B,CADM;AAEN,SAAK,QAAL,4BAAmB,KAAK,KAAL,IAAY,SAAQ,CAAC,KAAK,SAAL,EAAD,GAAvC,EAFM;;;SAjCK;8BACL,YAAY;AAClB,WAAS,KAAK,UAAL;AACT,WAAS,OAAO,UAAP;YAGH,eAAe;AACrB,WAAS,KAAT;AACA,WAAS,SAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KC/DW;;;AAKZ,WALY,YAKZ,GAAgD;OAApC,8DAAQ,aAAa,aAAb,gBAA4B;uCALpC,cAKoC;;4FALpC,yBAML,QADyC;;AAE/C,SAAK,UAAL,CAAgB,aAAa,SAAb,EAAwB,UAAC,KAAD;QAAS;sCAAkB,SAAO,OAAM,OAAN;IAAlC,CAAxC,CAF+C;AAG/C,UAAO,cAAP,QAA4B,OAA5B,EAAqC,EAAC,YAAW,IAAX,EAAiB,KAAK;YAAM,MAAK,QAAL,GAAgB,KAAhB;KAAN,EAA5D,EAH+C;AAI/C,UAAO,cAAP,QAA4B,UAA5B,EAAwC,EAAC,YAAW,IAAX,EAAiB,OAAM,MAAK,QAAL,CAAc,IAAd,OAAN,EAA1D,EAJ+C;;GAAhD;;6BALY;;4BAYH,OAAO;AACf,WAAO,KAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,aAAa,SAAb,CAAlB,CAA0C,KAA1C,CAAd,CAAP,CADe;;;SAZJ;gCACL,gBAAgB,EAAE,OAAO,EAAP,WAElB,YAAY;KAcP;;;AAMZ,WANY,SAMZ,GAA6C;OAAjC,8DAAQ,UAAU,aAAV,gBAAyB;uCANjC,WAMiC;;6FANjC,sBAOL,QADsC;;AAE5C,UAAK,UAAL,CAAgB,UAAU,IAAV,EAAgB,UAAC,KAAD,EAAQ,MAAR;sCAAwB,SAAO,MAAK,IAAL;IAA/B,CAAhC,CAF4C;AAG5C,UAAK,UAAL,CAAgB,UAAU,KAAV,EAAiB,UAAC,KAAD,EAAQ,MAAR;sCAAwB,SAAO,MAAK,KAAL;IAA/B,CAAjC,CAH4C;AAI5C,UAAO,cAAP,SAA4B,MAA5B,EAAoC,EAAC,YAAW,IAAX,EAAiB,KAAK;YAAM,OAAK,QAAL,GAAgB,IAAhB;KAAN,EAA3D,EAJ4C;AAK5C,UAAO,cAAP,SAA4B,UAA5B,EAAwC,EAAC,YAAW,IAAX,EAAiB,OAAM,OAAK,WAAL,CAAiB,IAAjB,QAAN,EAA1D,EAL4C;AAM5C,UAAO,cAAP,SAA4B,YAA5B,EAA0C,EAAC,YAAW,IAAX,EAAiB,OAAM,OAAK,UAAL,CAAgB,IAAhB,QAAN,EAA5D,EAN4C;;GAA7C;;6BANY;;gCAeC;AACZ,sBAAI,KAAJ,CAAU,YAAV,EADY;AAEZ,WAAO,KAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,UAAU,IAAV,CAAlB,EAAd,CAAP,CAFY;;;;iCAKC;AACb,sBAAI,KAAJ,CAAU,aAAV,EADa;AAEb,WAAO,KAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,UAAU,KAAV,CAAlB,EAAd,CAAP,CAFa;;;SApBF;iCACL,gBAAgB,EAAE,MAAM,KAAN,YAElB,OAAO,gBACP,QAAQ;KAsBH;;;AASZ,WATY,WASZ,GAA+C;OAAnC,8DAAQ,YAAY,aAAZ,gBAA2B;uCATnC,aASmC;;6FATnC,wBAUL,QADwC;;AAG9C,UAAK,UAAL,CAAgB,YAAY,IAAZ,EAAkB,UAAC,KAAD;8BAAU;QAAS;QAAQ;sCAAoB,SAAO,MAAK,IAAL,EAAW,gBAAQ;IAAzE,CAAlC,CAH8C;AAI9C,UAAK,UAAL,CAAgB,YAAY,IAAZ,EAAkB;QAAG;QAAQ;QAAU;sCAAkB,SAAO,gBAAQ,OAAO,QAAQ,OAAO,MAAP,GAAgB,CAAhB,GAAoB,QAAQ,CAAR,GAAY,KAAxC;IAA7D,CAAlC,CAJ8C;AAK9C,UAAK,UAAL,CAAgB,YAAY,IAAZ,EAAkB;QAAG;QAAU;sCAAkB,SAAO,OAAO,QAAQ,CAAR,GAAY,QAAQ,CAAR,GAAY,KAAxB;IAA7C,CAAlC,CAL8C;AAM9C,UAAK,UAAL,CAAgB,YAAY,GAAZ,EAAiB;QAAG;QAAU;QAAU;sCAAmB,SAAO,OAAM,OAAN;IAAjD,CAAjC,CAN8C;AAO9C,UAAK,UAAL,CAAgB,YAAY,MAAZ,EAAoB,UAAC,KAAD,EAAQ,MAAR;sCAAyB,SAAO,MAAK,KAAL,EAAY,QAAO,EAAP,EAAW,OAAM,CAAN;IAAvD,CAApC,CAP8C;;AAS9C,UAAO,cAAP,SAA4B,MAA5B,EAAoC,EAAC,YAAW,IAAX,EAAiB,KAAI;YAAM,OAAK,QAAL,MAAmB,OAAK,QAAL,GAAgB,IAAhB;KAAzB,EAA1D,EAT8C;AAU9C,UAAO,cAAP,SAA4B,OAA5B,EAAqC,EAAC,YAAW,IAAX,EAAiB,KAAI;YAAM,OAAK,QAAL,MAAmB,OAAK,QAAL,GAAgB,KAAhB;KAAzB,EAA3D,EAV8C;AAW9C,UAAO,cAAP,SAA4B,QAA5B,EAAsC,EAAC,YAAW,IAAX,EAAiB,KAAI;YAAM,OAAK,QAAL,MAAmB,OAAK,QAAL,GAAgB,MAAhB;KAAzB,EAA5D,EAX8C;AAY9C,UAAO,cAAP,SAA4B,gBAA5B,EAA8C,EAAC,YAAW,IAAX,EAAiB,OAAM,OAAK,YAAL,CAAkB,IAAlB,QAAN,EAAhE,EAZ8C;AAa9C,UAAO,cAAP,SAA4B,UAA5B,EAAwC,EAAC,YAAW,IAAX,EAAiB,OAAM,OAAK,MAAL,CAAY,IAAZ,QAAN,EAA1D,EAb8C;AAc9C,UAAO,cAAP,SAA4B,QAA5B,EAAsC,EAAC,YAAW,IAAX,EAAiB,OAAM,OAAK,IAAL,CAAU,IAAV,QAAN,EAAxD,EAd8C;AAe9C,UAAO,cAAP,SAA4B,QAA5B,EAAsC,EAAC,YAAW,IAAX,EAAiB,OAAM,OAAK,IAAL,CAAU,IAAV,QAAN,EAAxD,EAf8C;AAgB9C,UAAO,cAAP,SAA4B,OAA5B,EAAqC,EAAC,YAAW,IAAX,EAAiB,OAAM,OAAK,GAAL,CAAS,IAAT,QAAN,EAAvD,EAhB8C;;GAA/C;;6BATY;;kCA4ByB;QAAxB,+DAAS,kBAAe;QAAX,8DAAQ,iBAAG;;AACpC,sBAAI,GAAJ,CAAQ,cAAR,EAAwB,MAAxB,EAAgC,KAAhC,EADoC;AAEpC,WAAO,KAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,YAAY,IAAZ,CAAlB,CAAoC,EAAC,cAAD,EAAS,YAAT,EAApC,CAAd,CAAP,CAFoC;;;;0BAK9B;AACN,sBAAI,GAAJ,CAAQ,MAAR,EADM;AAEN,SAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,YAAY,IAAZ,CAAlB,EAAd,EAFM;;;;0BAKA;AACN,sBAAI,GAAJ,CAAQ,MAAR,EADM;AAEN,SAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,YAAY,IAAZ,CAAlB,EAAd,EAFM;;;;uBAKH,KAAK;AACR,sBAAI,GAAJ,CAAQ,KAAR,EAAe,GAAf,EADQ;AAER,SAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,YAAY,GAAZ,CAAlB,CAAmC,GAAnC,CAAd,EAFQ;;;;4BAKA;AACR,sBAAI,GAAJ,CAAQ,QAAR,EADQ;AAER,SAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,YAAY,MAAZ,CAAlB,EAAd,EAFQ;;;SAhDG;iCACL,gBAAgB,EAAC,MAAK,KAAL,EAAY,QAAO,EAAP,EAAW,OAAM,CAAN,YAExC,OAAO,gBACP,OAAO,gBACP,OAAO,gBACP,MAAM,eACN,SAAS,kB;;;;;;ACrDjB,+D;;;;;;ACAA,kE;;;;;;ACAA,uC;;;;;;ACAA,8C;;;;;;ACAA,6C;;;;;;ACAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCxDQ;KAAM;KAAQ;KAAQ;KAAM;KAAO;KAAO;;;KAWrC,4BADZ,yBAAQ,cAAI,SAAJ;0BACI;;AAaZ,WAbY,GAaZ,CAAY,KAAZ,EAAmB;uCAbP,KAaO;;AAClB,qBAAI,KAAJ,CAAU,aAAV,EAAyB,KAAzB,EADkB;uFAbP,gBAeL,QAFY;GAAnB;;6BAbY;;uCAkBQ;AACnB,sBAAI,KAAJ,CAAU,mBAAV,EADmB;AAEnB,kBAAI,IAAJ,CAAS,QAAT,GAFmB;;;;4BAKX;AACR,sBAAI,KAAJ,CAAU,QAAV,EAAoB,KAAK,KAAL,CAApB,CADQ;iBAEsD,KAAK,KAAL,CAFtD;QAEA,mBAFA;QAEM,+BAFN;QAEkB,iCAFlB;QAE+B,2BAF/B;QAEyC,2BAFzC;;AAGR,WACC;;OAAK,WAAU,qCAAV,EAAL;KAAqD;;QAAK,WAAU,6BAAV,EAAL;MACpD;;SAAQ,WAAU,6CAAV,EAAR;OACC;;UAAK,UAAS,GAAT,EAAa,WAAU,2BAAV,EAAsC,SAAS,WAAW,UAAX,EAAjE;QACC;;WAAG,WAAU,gBAAV,EAAH;;SADD;QADD;OAKC;;UAAK,WAAU,wBAAV,EAAL;QACC,uCAAK,WAAU,MAAV,EAAiB,KAAI,qFAAJ,EAAtB,CADD;QAGC,uCAAK,WAAU,mBAAV,EAAL,CAHD;QAKE,QAAQ;;WAAY,WAAU,WAAV,EAAZ;SACR;;YAAG,OAAO,EAAC,OAAM,OAAN,EAAR,EAAwB,SAAS,mBAAI,EAAJ,EAApC;UACI,KAAK,QAAL,IAAiB,KAAK,IAAL,CAAU,IAAV,IAAkB,MAAnC;UAFI;SAAR,GAGe,SAHf;QAKA,QAAQ;;WAAY,WAAU,aAAV,EAAZ;SACP,CAAC,YAAY,IAAZ,GACD;;YAAG,WAAU,gBAAV,EAA2B,SAAS,YAAY,UAAZ,EAAvC;;UADA,GAGA,2CAHA;SADD,GAMe,SANf;QAfH;OADoD;MA0BpD;;gCAAQ,aAAM,mBAAc,WAA5B;OACC;;;QACC,uCAAK,WAAU,MAAV,EAAiB,KAAI,qFAAJ,EAAtB,CADD;QADD;OAIC;;;QACC;;WAAM,IAAG,WAAH,EAAN;;SADD;QAEC;;WAAM,IAAG,SAAH,EAAN;;SAFD;QAGC;;WAAM,IAAG,SAAH,EAAN;;SAHD;QAJD;OA1BoD;MAqCpD;;gCAAQ,aAAM,aAAM,mBAAc,YAAlC;OACC;;;QAAc,KAAK,IAAL,GACb;;;SAAK,KAAK,IAAL,CAAU,IAAV;YAAL;SAAqB;;YAAQ,SAAS,KAAK,QAAL,EAAjB;;UAArB;SADa,GAGb;;WAAQ,SAAS,KAAK,SAAL,EAAjB;;SAHa;QADf;OAMC;;;QACC;;WAAM,IAAG,GAAH,EAAN;;SADD;QAEC;;WAAM,IAAG,WAAH,EAAN;;SAFD;QAGC;;WAAM,IAAG,SAAH,EAAN;;SAHD;QAIC;;WAAM,IAAG,SAAH,EAAN;;SAJD;QAND;OArCoD;MAmDpD;;SAAS,WAAU,MAAV,EAAT;OACE,QADF;OAnDoD;MAuDpD,oDAAgB,IAAhB,CAvDoD;MAyDpD,4EAAU,qBAAc,sBAAiB,SAAzC,CAzDoD;MAArD;KADD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHQ;;SAvBG;8BACL,YAAY;AAClB,QAAM,MAAM;AACX,aAAU,IAAV;AACA,SAAM,MAAN;AACA,eAAY,IAAZ;AACA,SAAM,IAAN;GAJK,CAAN;AAMA,cAAY,MAAZ;AACA,eAAa,MAAb;AACA,YAAU,MAAV;;;;;;;;;;;mBAuIa,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCtJF,2DACZ,SADY,OACZ,CAAY,EAAZ,EAAgB,IAAhB,EAAoE;MAA9C,oEAAY,kBAAkC;MAA9B,8DAAM,CAAC,eAAK,IAAL,iBAAuB;MAAX,+DAAO,kBAAI;sCADxD,SACwD;;AACnE,OAAK,EAAL,GAAU,MAAM,iBAAS,EAAT,CAAN,IAAsB,iBAAS,CAAT,CAAtB,CADyD;AAEnE,OAAK,OAAL,GAAe,IAAf,CAFmE;AAGnE,OAAK,IAAL,GAAY,IAAZ,CAHmE;AAInE,OAAK,WAAL,GAAmB,WAAnB,CAJmE;AAKnE,OAAK,KAAL,GAAa,KAAb,CALmE;AAMnE,OAAK,MAAL,GAAc,MAAd,CANmE;EAApE;;mBASc,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KChBP;KAAQ;KAAM;KAAQ;KAAM;KAAO;;AAE3C,mBAAI,MAAJ,CAAW,+FAAX,EAAoE,2CAApE;;AAIA,mBAAI,MAAJ,CAAW,yCAAX,EAAgC,kDAAhC;;KAEa;;;AAaZ,WAbY,UAaZ,CAAY,KAAZ,EAAmB;uCAbP,YAaO;;4FAbP,uBAcL,QADY;;AAElB,SAAK,KAAL,GAAa,EAAE,WAAW,CAAX,EAAf,CAFkB;;GAAnB;;6BAbY;;4BAkBH;;;AACR,sBAAI,GAAJ,CAAQ,QAAR,EAAkB,KAAK,KAAL,CAAlB,CADQ;iBAE8G,KAAK,KAAL,CAF9G;QAEA,6BAFA;QAEW,mCAFX;QAEyB,+BAFzB;QAEqC,2BAFrC;QAE+C,yBAF/C;QAEwD,+BAFxD;QAEoE,iCAFpE;QAEiF,uCAFjF;QAEoG,0KAFpG;;AAGR,QAAM,UAAU,0BAAW,SAAX,EAAsB,YAAtB,CAAV,CAHE;AAIR,WACC;;8BAAQ,aAAM,WAAW,OAAX,EAAoB,MAAM,UAAN,EAAkB,UAAU,QAAV,IAAwB,MAA5E;KACC;;QAAM,WAAW,KAAK,KAAL,CAAW,SAAX;AAChB,iBAAU,kBAAC,SAAD,EAAe;AAAC,eAAK,QAAL,4BAAkB,OAAK,KAAL,IAAY,uBAA9B,EAAD;QAAf,EAA4D,cADvE;MAEC;;;;OAFD;MAGC;;;;OAHD;MADD;KAMG,CAAC,KAAK,KAAL,CAAW,SAAX,GACF;;;MACC;;;OAAG;;;;QAAH;;OAAmB;;UAAG,MAAK,GAAL,EAAS,SAAS;iBAAM,OAAK,QAAL,4BAAkB,OAAK,KAAL,IAAY,WAAU,CAAV,GAA9B;UAAN,EAArB;;QAAnB;;OADD;MAEC;;SAAM,WAAU,WAAV,EAAN;OACC,6EAAW,MAAK,UAAL,EAAgB,OAAM,UAAN,EAAiB,uBAAkB,YAAY,QAAZ,CAA9D,CADD;OAEC,6EAAW,MAAK,UAAL,EAAgB,OAAM,UAAN,EAAiB,uBAAkB,YAAY,QAAZ,CAA9D,CAFD;OAFD;MADC,GASD;;;MACC;;;OAAG;;;;QAAH;;OAA+B;;UAAG,MAAK,GAAL,EAAS,SAAS;iBAAM,OAAK,QAAL,4BAAkB,OAAK,KAAL,IAAY,WAAU,CAAV,GAA9B;UAAN,EAArB;;QAA/B;;OADD;MAEC;;SAAM,WAAU,kBAAV,EAAN;OACC,6EAAW,MAAK,UAAL,EAAgB,OAAM,UAAN,EAAiB,uBAAkB,eAAe,QAAf,CAA9D,CADD;OAEC,6EAAW,MAAK,UAAL,EAAgB,OAAM,UAAN,EAAiB,uBAAkB,eAAe,QAAf,CAA9D,CAFD;OAGC,6EAAW,MAAK,iBAAL,EAAuB,OAAM,oBAAN,EAA2B,uBAAkB,eAAe,OAAf,CAA/E,CAHD;OAFD;MATC;KAkBA,CAAC,KAAK,KAAL,CAAW,SAAX,GACF;;;MACC;;SAAQ,cAAO,eAAQ,SAAS,OAAT,EAAvB;;OADD;MAEC;;SAAQ,SAAS,QAAT,EAAR;;OAFD;MADC,GAMD;;;MACC;;SAAQ,cAAO,eAAQ,SAAS,UAAT,EAAvB;;OADD;MAEC;;SAAQ,SAAS,QAAT,EAAR;;OAFD;MANC;KAzBJ,CAJQ;;;SAlBG;6BACL,YAAY;AAClB,gBAAc,OAAO,UAAP;AACd,aAAW,MAAX;AACA,cAAY,IAAZ;AACA,eAAa,MAAb;AACA,kBAAgB,MAAhB;WAGM,eAAe;AACrB,gBAAc,YAAd;;mBAqDa,W;;;;;;;;;;;;;;;;;;;KCzEF,kCACZ,SADY,UACZ,CAAY,EAAZ,EAAgB;sCADJ,YACI;;AACf,OAAK,EAAL,GAAU,EAAV,CADe;EAAhB;;mBAKc,W;;;;;;;;;;;;;;;;;;;;;;;;;KCHF,uDACZ,SADY,KACZ,CAAY,EAAZ,EAAgB,IAAhB,EAAsB;sCADV,OACU;;AACrB,OAAK,EAAL,GAAU,EAAV,CADqB;AAErB,OAAK,IAAL,GAAY,IAAZ,CAFqB;EAAtB;;mBAKc,M;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCLF,qDACZ,SADY,IACZ,CAAY,EAAZ,EAAgB,IAAhB,EAAsB;sCADV,MACU;;AACrB,OAAK,EAAL,GAAU,iBAAS,EAAT,CAAV,CADqB;AAErB,OAAK,IAAL,GAAY,IAAZ,CAFqB;EAAtB;;AAKD,MAAK,KAAL,GAAa,IAAI,IAAJ,CAAS,CAAT,EAAY,OAAZ,CAAb;AACA,MAAK,IAAL,GAAY,IAAI,IAAJ,CAAS,CAAT,EAAY,MAAZ,CAAZ;AACA,MAAK,UAAL,GAAkB,IAAI,IAAJ,CAAS,CAAT,EAAY,YAAZ,CAAlB;AACA,MAAK,aAAL,GAAqB,IAAI,IAAJ,CAAS,CAAT,EAAY,eAAZ,CAArB;AACA,MAAK,UAAL,GAAkB,IAAI,IAAJ,CAAS,CAAT,EAAY,YAAZ,CAAlB;AACA,MAAK,aAAL,GAAqB,IAAI,IAAJ,CAAS,CAAT,EAAY,eAAZ,CAArB;AACA,MAAK,iBAAL,GAAyB,IAAI,IAAJ,CAAS,CAAT,EAAY,mBAAZ,CAAzB;AACA,MAAK,oBAAL,GAA4B,IAAI,IAAJ,CAAS,CAAT,EAAY,sBAAZ,CAA5B;AACA,MAAK,aAAL,GAAqB,IAAI,IAAJ,CAAS,CAAT,EAAY,eAAZ,CAArB;mBACe,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCPF;;;AACZ,WADY,cACZ,GAAqB;;;uCADT,gBACS;;qCAAN;;IAAM;;qHADT,iEAEF,QADW;;AAEpB,SAAK,QAAL,GAAgB,4BAAW,uBAAX,CAAhB,CAFoB;AAGpB,SAAK,QAAL,CAAc,IAAd,GAAqB,MAArB;;AAHoB,QAKpB,CAAK,QAAL,GAAgB,4BAAW,uBAAX,CAAhB,CALoB;AAMpB,SAAK,QAAL,CAAc,IAAd,GAAqB,UAArB;;AANoB;GAArB;;SADY;;;KAaA;;;AACZ,WADY,iBACZ,GAAqB;;;uCADT,mBACS;;sCAAN;;IAAM;;uHADT,qEAEF,QADW;;AAEpB,UAAK,QAAL,GAAgB,6BAAW,uBAAX,CAAhB,CAFoB;AAGpB,UAAK,QAAL,CAAc,IAAd,GAAqB,MAArB;;AAHoB,SAKpB,CAAK,QAAL,GAAgB,6BAAW,uBAAX,CAAhB,CALoB;AAMpB,UAAK,QAAL,CAAc,IAAd,GAAqB,UAArB;;AANoB,SAQpB,CAAK,OAAL,GAAe,6BAAW,uBAAX,CAAf,CARoB;AASpB,UAAK,OAAL,CAAa,IAAb,GAAoB,UAApB;;AAToB;GAArB;;SADY;;;KAgBA;;;AAYZ,WAZY,IAYZ,GAAwC;OAA5B,8DAAQ,KAAK,aAAL,gBAAoB;uCAZ5B,MAY4B;;6FAZ5B,iBAaL,QADiC;;AAEvC,UAAK,UAAL,CAAgB,KAAK,SAAL,EAAgB,UAAC,KAAD;QAAS;sCAAkB,SAAO,WAAU,OAAV;IAAlC,CAAhC,CAFuC;AAGvC,UAAK,UAAL,CAAgB,KAAK,SAAL,EAAgB,UAAC,KAAD;QAAS;sCAAkB,SAAO,MAAK,OAAL,EAAc,WAAU,IAAV;IAAhD,CAAhC,CAHuC;AAIvC,UAAK,UAAL,CAAgB,KAAK,UAAL,EAAiB,UAAC,KAAD,EAAQ,MAAR;sCAAwB,SAAO,MAAK,IAAL,EAAW,WAAU,IAAV;IAA1C,CAAjC,CAJuC;AAKvC,UAAK,UAAL,CAAgB,KAAK,MAAL,EAAa,UAAC,KAAD,EAAQ,MAAR;sCAAwB,SAAO,WAAU,IAAV;IAA/B,CAA7B,CALuC;AAMvC,UAAO,cAAP,SAA4B,UAA5B,EAAwC,EAAC,YAAW,IAAX,EAAiB,KAAK;YAAM,CAAC,CAAC,OAAK,IAAL;KAAR,EAA/D,EANuC;AAOvC,UAAO,cAAP,SAA4B,YAA5B,EAA0C,EAAC,YAAW,IAAX,EAAiB,KAAK;YAAM,CAAC,EAAE,OAAK,SAAL,MAAoB,OAAK,SAAL,GAAiB,GAAjB,IAAwB,CAAC,OAAK,SAAL,GAAiB,QAAjB,CAA/C;KAAP,EAAjE,EAPuC;AAQvC,UAAO,cAAP,SAA4B,MAA5B,EAAoC,EAAC,YAAW,IAAX,EAAiB,KAAK;YAAM,OAAK,QAAL,GAAgB,IAAhB;KAAN,EAA3D,EARuC;AASvC,UAAO,cAAP,SAA4B,WAA5B,EAAyC,EAAC,YAAW,IAAX,EAAiB,OAAO;YAAM,OAAK,OAAL;KAAN,EAAlE,EATuC;AAUvC,UAAO,cAAP,SAA4B,UAA5B,EAAwC,EAAC,YAAW,IAAX,EAAiB,OAAO;YAAM,OAAK,MAAL;KAAN,EAAjE,EAVuC;AAWvC,UAAO,cAAP,SAA4B,SAA5B,EAAuC,EAAC,YAAW,IAAX,EAAiB,OAAO;YAAM,OAAK,KAAL;KAAN,EAAhE,EAXuC;AAYvC,UAAO,cAAP,SAA4B,UAA5B,EAAwC,EAAC,YAAW,IAAX,EAAiB,OAAO;YAAM,OAAK,MAAL;KAAN,EAAjE,EAZuC;AAavC,UAAO,cAAP,SAA4B,YAA5B,EAA0C,EAAC,YAAW,IAAX,EAAiB,OAAO;YAAM,OAAK,QAAL;KAAN,EAAnE,EAbuC;AAcvC,UAAK,WAAL,GAAmB,6BAAW,IAAI,cAAJ,EAAX,CAAnB,CAduC;AAevC,UAAK,cAAL,GAAsB,6BAAW,IAAI,iBAAJ,EAAX,CAAtB,CAfuC;;GAAxC;;6BAZY;;8BA8BD;;;AACV,sBAAI,GAAJ,CAAQ,YAAR,EADU;AAEV,SAAK,OAAL,GAFU;AAGV,WAAO,UAAU,IAAV,EAAgB,KAAhB,GAAwB,IAAxB,CAA6B,gBAAQ;AAC3C,YAAK,OAAL,GAD2C;AAE3C,YAAO,IAAP,CAF2C;KAAR,CAApC,CAHU;;;;yBASL,UAAU,UAAU;;;AACzB,QAAI,aAAa,SAAb,EAAwB;AAAC,YAAO,KAAK,KAAL,CAAW,KAAK,WAAL,CAAiB,QAAjB,CAA0B,KAA1B,EAAiC,KAAK,WAAL,CAAiB,QAAjB,CAA0B,KAA1B,CAAnD,CAAD;KAA5B;;AAEA,aAAS,WAAT,CAAqB,IAArB,EAA2B,SAA3B,EAAsC;AACrC,uBAAI,KAAJ,CAAU,aAAV,EAAyB,IAAzB,EAA+B,SAA/B,EADqC;AAErC,YAAO,KAAK,KAAL,CAAW,UAAU,GAAV,EAAe;AAChC,cAAQ,UAAU,MAAV;AACR,eAAS;AACR,uBAAgB,UAAU,WAAV;OADjB;AAGA,YAAM,OAAO,SAAP,EAAkB,QAAlB,EAA4B,QAA5B,CAAN;MALM,EAON,IAPM,CAOD,oBAAY;AACjB,wBAAI,KAAJ,CAAU,iBAAV,EAA6B,QAA7B,EADiB;AAEjB,aAAO,UAAU,IAAV,EAAgB,IAAhB,CAAqB,YAAM;AACjC,YAAK,OAAL,GADiC;AAEjC,iBAAU,OAAV,CAAkB,QAAlB,EAFiC;OAAN,CAA5B,CAFiB;MAAZ,CAPC,CAcN,KAdM,CAcA,iBAAS;AACf,WAAK,QAAL,CAAc,KAAd,EADe;AAEf,gBAAU,MAAV,CAAiB,KAAjB,EAFe;MAAT,CAdP,CAFqC;KAAtC;;AAsBA,QAAI,KAAK,QAAL,EAAe;AAClB,uBAAI,GAAJ,CAAQ,2BAA2B,KAAK,IAAL,CAAU,IAAV,GAAiB,KAA5C,EAAmD,KAAK,IAAL,CAA3D,CADkB;AAElB,YAFkB;KAAnB;;AAKA,SAAK,OAAL,GA9ByB;AA+BzB,WAAO,KAAK,QAAL,CAAc,YAAM;AAC1B,YAAO,sBAAY,UAAC,OAAD,EAAS,MAAT,EAAkB;AACpC,UAAI,CAAE,OAAK,SAAL,EAAF,EAAoB;AACvB,yBAAI,KAAJ,CAAU,2BAAV,EADuB;AAEvB,cAAO,OAAK,OAAL,GACL,IADK,CACA;eAAa,UAAU,QAAV,GAAqB,IAArB;QAAb,CADA,CAEL,IAFK,CAEA,YAAM;AACX,0BAAI,KAAJ,CAAU,iCAAV,EADW;AAEX,eAAO,oBAAkB,OAAK,SAAL,EAAlB,EAAoC,IAApC,CAAyC,OAAzC,EAAkD,KAAlD,CAAwD,MAAxD,CAAP,CAFW;QAAN,CAFP,CAFuB;OAAxB;AASA,aAAO,oBAAkB,OAAK,SAAL,EAAlB,EAAoC,IAApC,CAAyC,OAAzC,EAAkD,KAAlD,CAAwD,MAAxD,CAAP,CAVoC;MAAlB,CAAZ,CAWJ,IAXI,CAWC,UAAC,OAAD,EAAa;AAAC,wBAAI,IAAJ,CAAS,OAAT,EAAkB,OAAK,IAAL,CAAlB,CAAD,OAAsC,OAAP,CAA/B;MAAb,CAXR,CAD0B;AAa1B,uBAAI,KAAJ,CAAU,yBAAV,EAAqC,UAAU,GAAV,CAArC,CAb0B;KAAN,CAArB,CA/ByB;;;;4BAgDjB;;;AACR,sBAAI,IAAJ,CAAS,QAAT,EAAmB,KAAK,IAAL,CAAnB,CADQ;AAER,WAAO,KAAK,QAAL,CAAc,YAAM;AAC1B,YAAK,OAAL,GAD0B;AAE1B,YAAK,MAAL,GAF0B;AAG1B,YAAO,OAAK,KAAL,CAAW,SAAX,EAAsB,KAAtB,GAA8B,IAA9B,CAAmC,YAAM;AAC/C,aAAK,OAAL,GAD+C;AAE/C,aAAK,QAAL,CAAc,OAAK,YAAL,CAAkB,KAAK,UAAL,CAAlB,EAAd,EAF+C;MAAN,CAA1C,CAH0B;KAAN,CAArB,CAFQ;;;;4BAYA,UAAU,UAAU,SAAS;;;AACrC,QAAI,aAAa,SAAb,EAAwB;AAAC,YAAO,KAAK,QAAL,CAAc,KAAK,cAAL,CAAoB,QAApB,CAA6B,KAA7B,EAAoC,KAAK,cAAL,CAAoB,QAApB,CAA6B,KAA7B,EAAoC,KAAK,cAAL,CAAoB,OAApB,CAA4B,KAA5B,CAA7F,CAAD;KAA5B;;AAEA,sBAAI,GAAJ,CAAQ,UAAR,EAAoB,QAApB,EAA8B,QAA9B,EAAwC,OAAxC,EAHqC;AAIrC,SAAK,OAAL,GAJqC;AAKrC,WAAO,KAAK,QAAL,CAAc,YAAM;AAC1B,YAAO,sBAAY,UAAC,OAAD,EAAS,MAAT,EAAkB;AACpC,UAAM,UAAU,sBACf,aAAK,IAAL,EADe,EAEf,QAFe,EAGf,CAAC,iCAAuB,aAAK,IAAL,EAAvB,EAAoC,QAApC,CAAD,CAHe,CAAV,CAD8B;;AAOpC,wBAAI,GAAJ,CAAQ,4BAAR,EAAsC,OAAtC,EAPoC;AAQpC,aAAO,OAAK,KAAL,CAAW,WAAX,EAAwB;AAC9B,eAAQ,MAAR;AACA,gBAAS;AACR,wBAAgB,kBAAhB;QADD;AAGA,aAAM,yBAAe,OAAf,CAAN;OALM,EAON,IAPM,CAOD;cAAY,SAAS,IAAT;OAAZ,CAPC,CAQN,IARM,CAQD;cAAQ,sBAAS,IAAT;OAAR,CARC,CASN,IATM,CASD,mBAAW;AAChB,yBAAI,GAAJ,CAAQ,2BAAR,EAAqC,OAArC,EADgB;AAEhB,cAAK,KAAL,CAAW,QAAX,EAAqB,QAArB,EAA+B,IAA/B,CAAoC,kBAAU;AAC7C,eAAK,OAAL,GAD6C;AAE7C,gBAAQ,MAAR,EAF6C;QAAV,CAApC,CAIC,KAJD,CAIO,iBAAS;AACf,eAAK,QAAL,CAAc,KAAd,EADe;QAAT,CAJP,CAFgB;OAAX,CATC,CAmBN,KAnBM,CAmBA,iBAAS;AACf,cAAK,QAAL,CAAc,KAAd,EADe;OAAT,CAnBP,CARoC;MAAlB,CAAZ,CA+BN,KA/BM,CA+BA,iBAAS;AACf,aAAK,QAAL,CAAc,KAAd,EADe;MAAT,CA/BP,CAD0B;KAAN,CAArB,CALqC;;;;4BA2C7B;;;AACR,sBAAI,KAAJ,CAAU,QAAV,EADQ;AAER,WAAO,KAAK,QAAL,CAAc,YAAM;AAC1B,SAAI,OAAK,SAAL,EAAJ,EAAsB;wBACH,OAAK,SAAL,GADG;;UACd,4BADc;;AAErB,UAAM,SAAQ,MAAM,8BAAN,CAAR,CAFe;AAGrB,aAAK,QAAL,CAAc,MAAd,EAHqB;AAIrB,aAAK,QAAL,CAAc,OAAK,YAAL,CAAkB,KAAK,MAAL,CAAlB,EAAd,EAJqB;AAKrB,UAAI,MAAJ,EAAY;AAAC,cAAO,MAAP,EAAD;OAAZ;MALD;KADoB,CAArB,CAFQ;;;;6BAaC;;;;;AAGT,sBAAI,KAAJ,CAAU,6DAAV,EAHS;AAIT,WAAO,KAAK,QAAL,CAAc,YAAI;AACxB,YAAO,sBAAY,UAAC,MAAD,EAAS,IAAT,EAAkB;;AAEpC,aAAK,SAAL,CAAe,EAAf,EAAmB,MAAnB,EAA2B,IAA3B;;;AAFoC,YAKpC,CAAK,KAAL,CAAW,YAAX,EACE,KADF,CACQ;cAAS,kBAAI,GAAJ,CAAQ,mCAAR,EAA6C,KAA7C;OAAT,CADR,CAEE,KAFF,CAEQ,IAFR,EALoC;MAAlB,CAAnB,CADwB;KAAJ,CAArB,CAJS;;;;;;;;;;;;;;eAiBA,WAAW,SAAS,QAAQ;AACrC,sBAAI,KAAJ,CAAU,WAAV,EAAuB,SAAvB,EAAkC,OAAlC,EAA2C,MAA3C;;AADqC,QAGjC,CAAC,SAAD,EAAY;AAAC,YAAO,KAAK,QAAL,GAAgB,SAAhB,CAAR;KAAhB;;AAHqC,QAKjC,QAAO,qEAAP,IAAiB,QAAjB,EAA2B;AAAC,YAAO,IAAI,KAAJ,CAAU,cAAV,CAAP,EAAD;KAA/B;;;AALqC,QAQ/B,IAAI,KAAK,QAAL,GAAgB,SAAhB,CAR2B;AASrC,QAAI,KAAK,EAAE,GAAF,EAAO;AAAC,OAAE,MAAF,CAAS,IAAI,KAAJ,CAAU,2BAAV,CAAT,EAAD;KAAhB;;;AATqC,aAYrC,CAAU,OAAV,GAAoB,OAApB,CAZqC;AAarC,cAAU,MAAV,GAAmB,MAAnB,CAbqC;AAcrC,sBAAI,KAAJ,CAAU,uBAAV,EAAmC,SAAnC,EAdqC;AAerC,SAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,KAAK,SAAL,CAAlB,CAAkC,SAAlC,CAAd;;;AAfqC,QAkBjC,KAAK,CAAC,EAAE,GAAF,EAAO;;AAEhB,eAAU,QAAV,GAAqB,EAAE,QAAF;;AAFL,SAIZ,UAAU,GAAV,EAAe;AAAC,QAAE,OAAF,IAAa,EAAE,OAAF,CAAU,SAAV,CAAb,CAAD;MAAnB;KAJD;;;SA9LW;qCACL,YAAY,0BACZ,YAAY,qBACZ,aAAa,sBACb,SAAS,uBAET,2CACH,wBAAM,aAAN;AACH,QAAM,IAAN;AACA,aAAW,IAAX;;;mBA6La;;;AAEf,UAAS,MAAT,CAAgB,SAAhB,EAA2B,QAA3B,EAAqC,QAArC,EAA+C;AAC9C,MAAI,UAAU,WAAV,KAA0B,mCAA1B,EAA+D;AAClE,UAAO,UAAU,SAAV,EAAqB,QAArB,EAA+B,QAA/B,CAAP,CADkE;GAAnE,MAGK;AACJ,WAAQ,8EAA2E,UAAU,WAAV,QAA3E,CAAR,CADI;GAHL;EADD;;AASA,UAAS,SAAT,CAAmB,IAAnB,EAAyB;AACxB,oBAAI,KAAJ,CAAU,WAAV,EADwB;AAExB,SAAO,KAAK,KAAL,CAAW,oBAAX,EACL,IADK,CACA,oBAAY;AACjB,qBAAI,GAAJ,CAAQ,wBAAR,EAAkC,QAAlC,EADiB;AAEjB,UAAO,SAAS,MAAT,IAAmB,GAAnB,IAA0B,SAAS,IAAT,EAA1B,CAFU;GAAZ,CADA,CAKL,IALK,CAKA,gBAAQ;AACb,qBAAI,KAAJ,CAAU,oBAAV,EAAgC,IAAhC,EADa;AAEb,OAAI,QAAQ,CAAC,KAAK,QAAL,EAAe;AAC3B,sBAAI,KAAJ,CAAU,8BAAV,EAA0C,IAA1C,EAD2B;AAE3B,SAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,KAAK,SAAL,CAAlB,CAAkC,IAAlC,CAAd,EAF2B;IAA5B,MAIK,IAAI,CAAC,IAAD,IAAS,KAAK,QAAL,EAAe;AAChC,sBAAI,KAAJ,CAAU,+BAAV,EADgC;AAEhC,SAAK,QAAL,CAAc,KAAK,YAAL,CAAkB,KAAK,UAAL,CAAlB,EAAd,EAFgC;IAA5B;AAIL,UAAO,IAAP,CAVa;GAAR,CALA,CAiBL,KAjBK,CAiBC;UAAS,kBAAI,KAAJ,CAAU,iCAAV,EAA6C,KAA7C;GAAT,CAjBR,CAFwB;EAAzB;;AAsBA,UAAS,SAAT,CAAmB,SAAnB,EAA8B,QAA9B,EAAwC,QAAxC,EAAkD;AACjD,MAAM,KAAK,mBAAmB,UAAU,aAAV,CAAxB,CAD2C;AAEjD,MAAM,IAAI,mBAAmB,QAAnB,CAAJ,CAF2C;AAGjD,MAAM,KAAK,mBAAmB,UAAU,aAAV,CAAxB,CAH2C;AAIjD,MAAM,IAAI,mBAAmB,QAAnB,CAAJ,CAJ2C;AAKjD,SAAU,WAAM,UAAK,WAAM,CAA3B,CALiD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KC9Q1C;KAAM;KAAQ;KAAO;;;AAS7B,UAAS,IAAT,CAAc,MAAd,EAAsB;AACrB,YAAU,cAAI,MAAJ,CAAW,MAAX,CAAkB,SAAlB,CAA4B,MAA5B,CAAV,CADqB;AAErB,SAAO,cAAI,MAAJ,CAAW,MAAX,CAAkB,MAAlB,GACL,KADK,CACC,UAAC,KAAD,EAAW;AACjB,qBAAI,KAAJ,CAAU,0BAAV,EAAsC,KAAtC,EADiB;GAAX,CADR,CAFqB;EAAtB;;KAUqB,uBAFpB,0BAAO;SAAU,KAAK,MAAL;EAAV,WACP,yBAAQ,UAAC,KAAD,EAAQ,KAAR;oCAAuB,SAAO,UAAS,cAAI,QAAJ,IAAiB,cAAI,MAAJ,CAAW,MAAX;EAAxD;0BACY;;;;;;;;;uCAWA;AACnB,sBAAI,GAAJ,CAAQ,qBAAR,EADmB;iBAEgB,KAAK,KAAL,CAFhB;QAEX,yBAFW;QAEF,qBAFE;QAEK,uBAFL;;AAGnB,QAAI,WAAW,KAAX,EAAkB;AAAC,UAAK,MAAL,EAAD;KAAtB;;;;4BAGQ;kBACsB,KAAK,KAAL,CADtB;QACA,0BADA;QACS,4BADT;;AAER,WACC;AACC,gBAAW,eAAX;AACA,mBAAc,CAAd;AACA,YAAO,OAAP;AACA,kBAAa,CAAb;AACA,iBAAc,oBAAC,IAAD,EAAO,GAAP;aACb,4EAAW,OAAO,IAAP,IAAiB,SAA5B;MADa;KALf,CADD,CAFQ;;;SAjBW;GAAqB,gBAAM,SAAN,WAClC,YAAY;AAClB,UAAQ,OAAO,UAAP;AACR,YAAU,OAAO,UAAP;AACV,UAAQ,OAAO,UAAP;AACR,WAAS,MAAM,UAAN;AACT,WAAS,IAAT;AACA,SAAO,GAAP;;mBAPmB,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCnBb;KAAK;KAAM;KAAQ;KAAQ;KAAM;KAM5B;;;AASZ,WATY,SASZ,GAAsB;;;uCATV,WASU;;qCAAP;;IAAO;;gHATV,4DAUF,SADY;GAAtB;;6BATY;;oCAaK,QAAQ,OAAO,OAAO;QAC9B,iBAAmB,KAAK,KAAL,CAAnB,eAD8B;;AAEtC,QAAI,cAAJ,EAAoB;AAAC,oBAAe,MAAf,EAAuB,KAAvB,EAA8B,KAA9B,EAAD;KAApB;AACA,QAAI,KAAJ,EAAW;AAAC,WAAM,cAAN,GAAD,KAAyB,CAAM,eAAN,GAAzB;KAAX;;;;4BAGQ;;;uBACwB,KAAK,KAAL,CAAxB,MADA;QACS,qBADT;QACa,yBADb;;AAER,QAAM,MAAM,oFAAN,CAFE;AAGR,QAAM,8EAA4E,aAA5E,CAHE;AAIR,QAAM,8EAA4E,2BAA5E,CAJE;AAKR,QAAM,SAAY,sBAAZ,CALE;AAMR,QAAM,YAAY,oFAAZ,CANE;AAOR,QAAM,SAAS,CACd,EAAC,KAAQ,0BAAR,EAAiC,WAAU,MAAV,EADpB,EAEd,EAAC,KAAQ,2BAAR,EAAkC,WAAU,OAAV,EAFrB,EAGd,EAAC,KAAQ,8BAAR,EAAqC,WAAU,UAAV,EAHxB,EAId,EAAC,KAAQ,8BAAR,EAAqC,WAAU,UAAV,EAJxB,EAKd,EAAC,KAAQ,8BAAR,EAAqC,WAAU,UAAV,EALxB,CAAT,CAPE;;AAeR,WACC;;OAAkB,WAAU,SAAV,EAAoB,KAAK,EAAL,EAAtC;KACC;;;MACC;;SAAK,WAAU,SAAV,EAAL;OACC,uCAAK,WAAU,cAAV,EAAyB,KAAK,GAAL,EAAU,OAAO,EAAC,0BAAwB,YAAxB,EAAmC,QAAO,MAAP,EAA3C,EAAxC,CADD;OADD;MADD;KAMC;;;MACC;;;OACC,uCAAK,WAAU,WAAV,EAAsB,KAAK,QAAL,EAA3B,CADD;OAEC;;UAAI,WAAU,aAAV,EAAJ;QAA6B,IAA7B;QAFD;OADD;MAKC;;SAAK,WAAU,gBAAV,EAAL;OACC;;UAAK,WAAU,QAAV,EAAL;QAAyB,OAAO,GAAP,CAAW,gBAAmB,CAAnB;aAAE;aAAK;gBAC1C,uCAAK,KAAK,CAAL,EAAQ,WAAW,0BAAW,SAAX,EAAsB,OAAtB,CAAX;AACX,eAAK,SAAL,EAAgB,SAAS,OAAK,gBAAL,CAAsB,IAAtB,SAAiC,MAAjC,EAAyC,CAAzC,CAAT;AAChB,iBAAO,EAAC,0BAAuB,YAAvB,EAAR;UAFF;SADmC,CAApC;QADD;OALD;MAND;KADD,CAfQ;;;SAnBG;6BACL,YAAY;AAClB,SAAO,MAAM;AACZ,OAAI,GAAJ;AACA,SAAM,MAAN;GAFM,EAGJ,UAHI;AAIP,kBAAgB,KAAK,UAAL;;mBAqDH,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCjEM;;;;;;;;;;4BACX;iBACwB,KAAK,KAAL,CADxB;QACA,2BADA;QACa,sEADb;;AAER,WAAO;;8BAAK,WAAU,QAAV,IAAuB,OAA5B;KAAqC,QAArC;KAAP,CAFQ;;;SADW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCKR;;;AACZ,WADY,SACZ,CAAY,KAAZ,EAAmB;uCADP,WACO;;4FADP,sBAEL,QADY;;AAElB,SAAK,MAAL,GAAc,2BAAO,SAAP,EACb,4BAAW,mBAAX,CADa,CAAd,CAFkB;;GAAnB;;SADY;;;mBAQE,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCbM;;;;;;;;;;4BACX;AACR,WACC;;OAAK,WAAU,MAAV,EAAL;KACC;;;;MADD;;KADD,CADQ;;;SADW;GAAa,gBAAM,SAAN;;mBAAb,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCAb;KAAQ;;;;;;;;;;;;KAgBH;;;;;;;;;;4BAcH;iBACiD,KAAK,KAAL,CADjD;QACA,qBADA;QACO,mBADP;QACa,yBADb;QACsB,uBADtB;QACiC,qGADjC;;AAER,QAAM,UAAU,iBAAS,cAAT,CACf;;OAAU,OAAO,KAAP,EAAV;KACC,0DAAmB,WAAnB,CADD;KADe,CAAV,CAFE;AAOR,QAAM,OAAO,CAAC,8CAA2C,cAA3C,GAAwD,EAAxD,CAAD,uBACQ,mCAAU,MAAM,QAAN,EAAV,QADR,CAPL;;AAUR,WACC;;OAAM,MAAM,KAAK,KAAL,CAAW,IAAX,EAAZ;KACC;;;MACC,wCAAM,MAAK,UAAL,EAAgB,SAAQ,qCAAR,EAAtB,CADD;MAEE,4BAAa,aAAb,EAFF;MAGC,wCAAM,KAAI,eAAJ,EAAoB,MAAK,cAAL,EAA1B,CAHD;MAIC,wCAAM,KAAI,YAAJ,EAAiB,MAAK,wEAAL,EAAvB,CAJD;MAKC,wCAAM,KAAI,YAAJ,EAAiB,MAAK,yDAAL,EAAvB,CALD;MAMC,wCAAM,KAAI,YAAJ,EAAiB,MAAM,iBAAiB,OAAjB,EAA7B,CAND;MADD;KASC;;;MACC,uCAAK,IAAG,WAAH,EAAe,yBAAyB,EAAC,QAAQ,OAAR,EAA1B,EAApB,CADD;MAEE,QACD;;;OACC,0CAAQ,KAAI,kEAAJ,EAAR,CADD;OAEC,0CAAQ,KAAI,kEAAJ,EAAR,CAFD;OAGC,0CAAQ,KAAI,sEAAJ,EAAR,CAHD;OAIC,0CAAQ,KAAI,kFAAJ,EAAR,CAJD;OAKC,0CAAQ,KAAI,uEAAJ,EAAR,CALD;OAMC,0CAAQ,KAAI,wDAAJ,EAAR,CAND;OADC,GASD;;;OACC,0CAAQ,KAAI,8DAAJ,EAAR,CADD;OAEC,0CAAQ,KAAI,8DAAJ,EAAR,CAFD;OAGC,0CAAQ,KAAI,kEAAJ,EAAR,CAHD;OAIC,0CAAQ,KAAI,8EAAJ,EAAR,CAJD;OAKC,0CAAQ,KAAI,uEAAJ,EAAR,CALD;OAMC,0CAAQ,KAAI,wDAAJ,EAAR,CAND;OATC;MAkBD,0CAAQ,yBAAyB,EAAC,QAAQ,IAAR,EAA1B,EAAyC,SAAQ,OAAR,EAAjD,CApBD;MAsBE,KAAK,KAAL,CAAW,QAAX;MAED,0CAAQ,KAAK,8BAA8B,OAA9B,EAAuC,SAAQ,OAAR,EAApD,CAxBD;MATD;KADD,CAVQ;;;SAdG;6BACL,YAAY;AAClB,SAAO,OAAO,UAAP;AACP,QAAM,MAAN;AACA,WAAS,MAAT;AACA,UAAQ,MAAR;WAGM,eAAe;AACrB,QAAM,OAAN;AACA,WAAS,OAAT;AACA,UAAQ,EAAR;;mBAqDa,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KChFP;KAAM;KAAO;KAAQ;;;AAS7B,UAAS,IAAT,CAAc,MAAd,EAAsB;AACrB,oBAAI,GAAJ,CAAQ,MAAR,EAAgB,MAAhB,EADqB;MAEb,WAAa,OAAb,SAFa;;AAGrB,MAAI,QAAJ,EAAc;AACb,iBAAI,QAAJ,CAAa,MAAb,CAAoB,SAApB,4BAAkC,cAAI,QAAJ,CAAa,MAAb,CAAoB,MAApB,IAA4B,UAAS,QAAT,GAA9D,EADa;GAAd;AAGA,SAAO,cAAI,QAAJ,CAAa,MAAb,CAAoB,MAApB,GACL,KADK,CACC,UAAC,KAAD,EAAW;AACjB,qBAAI,KAAJ,CAAU,4BAAV,EAAwC,KAAxC,EADiB;GAAX,CADR,CANqB;EAAtB;;KAcqB,yBAFpB,0BAAO;SAAU,KAAK,MAAL;EAAV,WACP,yBAAQ,UAAC,KAAD,EAAQ,KAAR;oCAAuB,SAAO,UAAS,cAAI,QAAJ,IAAiB,cAAI,QAAJ,CAAa,MAAb;EAAxD;0BACY;;;;;;;;;uCAUA;AACnB,sBAAI,KAAJ,CAAU,qBAAV,EADmB;iBAEgB,KAAK,KAAL,CAFhB;QAEX,yBAFW;QAEF,qBAFE;QAEK,uBAFL;;AAGnB,QAAI,WAAW,KAAX,EAAkB;AAAC,UAAK,MAAL,EAAD;KAAtB;;;;4BAGQ;AACR,sBAAI,KAAJ,CAAU,QAAV,EAAoB,KAAK,KAAL,CAApB,CADQ;kBAE8B,KAAK,KAAL,CAF9B;QAEA,4BAFA;QAEU,wBAFV;QAEkB,0BAFlB;;AAGR,WACC;AACC,gBAAW,oBAAoB,OAAO,QAAP;AAC/B,mBAAc,CAAd;AACA,YAAO,OAAP;AACA,eAAU,GAAV;AACA,kBAAa,EAAb;AACA,iBAAc,oBAAC,IAAD,EAAO,GAAP;aACb,8EAAa,SAAS,IAAT,IAAmB,SAAhC;MADa;KANf,CADD,CAHQ;;;SAhBW;GAAuB,gBAAM,SAAN,WACpC,YAAY;AAClB,UAAQ,OAAO,UAAP;AACR,YAAU,OAAO,UAAP;AACV,UAAQ,OAAO,UAAP;AACR,WAAS,MAAM,UAAN;AACT,WAAS,IAAT;AACA,SAAO,GAAP;;mBAPmB,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCvBb;KAAK;KAAM;KAAQ;KAAQ;KAAM;KAM5B;;;AAWZ,WAXY,WAWZ,GAAsB;;;uCAXV,aAWU;;qCAAP;;IAAO;;gHAXV,8DAYF,SADY;GAAtB;;6BAXY;;oCAeK,QAAQ,OAAO,OAAO;QAC9B,iBAAmB,KAAK,KAAL,CAAnB,eAD8B;;AAEtC,QAAI,cAAJ,EAAoB;AAAC,oBAAe,MAAf,EAAuB,KAAvB,EAA8B,KAA9B,EAAD;KAApB;AACA,QAAI,KAAJ,EAAW;AAAC,WAAM,cAAN,GAAD,KAAyB,CAAM,eAAN,GAAzB;KAAX;;;;4BAGQ;;;yBACgD,KAAK,KAAL,CAAhD,QADA;QACW,uBADX;QACe,iCADf;QACwB,2BADxB;QAC8B,yCAD9B;QAEA,WAAa,KAAK,IAAL,CAAb,SAFA;;AAGR,QAAM,MAAM,oFAAN,CAHE;AAIR,QAAM,8EAA4E,gBAAW,mBAAmB,IAAnB,CAAvF,CAJE;AAKR,QAAM,8EAA4E,gCAA5E,CALE;AAMR,QAAM,SAAY,sBAAZ,CANE;AAOR,QAAM,YAAY,oFAAZ,CAPE;AAQR,QAAM,OAAO,QAAO,qEAAP,IAAiB,QAAjB,IAA6B,OAAO,UAAP,GAAoB,GAApB,GAA0B,EAAC,OAAM,MAAN,EAAxD,GAAwE,EAAC,QAAO,MAAP,EAAzE,CARL;AASR,QAAM,SAAS,CACd,EAAC,KAAQ,0BAAR,EAAiC,WAAU,MAAV,EAAkB,KAAI,EAAC,KAAI,GAAJ,EAAS,kCAAU,QAAM,0BAAuB,YAAvB,EAAkC,gBAAe,MAAf,EAAuB,oBAAmB,QAAnB,GAAzE,EAAd,EADtC,EAEd,EAAC,KAAQ,2BAAR,EAAkC,WAAU,OAAV,EAAmB,KAAI,EAAC,KAAI,GAAJ,EAAS,kCAAU,QAAM,0BAAuB,YAAvB,EAAkC,gBAAe,MAAf,EAAuB,oBAAmB,KAAnB,GAAzE,EAAd,EAFxC,EAGd,EAAC,KAAQ,8BAAR,EAAqC,WAAU,UAAV,EAAsB,KAAI,EAAC,KAAI,GAAJ,EAAS,kCAAU,QAAM,0BAAuB,YAAvB,EAAkC,gBAAe,MAAf,EAAuB,oBAAmB,WAAnB,GAAzE,EAAd,EAH9C,EAId,EAAC,KAAQ,8BAAR,EAAqC,WAAU,UAAV,EAAsB,KAAI,EAAC,KAAI,GAAJ,EAAS,kCAAU,QAAM,0BAAuB,YAAvB,EAAkC,gBAAe,MAAf,EAAuB,oBAAmB,WAAnB,GAAzE,EAAd,EAJ9C,EAKd,EAAC,KAAQ,8BAAR,EAAqC,WAAU,UAAV,EAAsB,KAAI,EAAC,KAAI,GAAJ,EAAS,kCAAU,QAAM,0BAAuB,YAAvB,EAAkC,gBAAe,MAAf,EAAuB,oBAAmB,WAAnB,GAAzE,EAAd,EAL9C,CAAT,CATE;;AAiBR,WACC;;OAAkB,WAAU,SAAV,EAAoB,KAAK,EAAL,EAAtC;KACC;;;MACC;;SAAK,WAAU,SAAV,EAAL;OACC,uCAAK,WAAU,cAAV,EAAyB,KAAK,GAAL,EAAU,OAAO,EAAC,0BAAwB,YAAxB,EAAmC,QAAO,MAAP,EAA3C,EAAxC,CADD;OADD;MADD;KAMC;;;MACC;;;OACC,uCAAK,WAAU,WAAV,EAAsB,KAAK,QAAL,EAA3B,CADD;OAEC;;UAAI,WAAU,aAAV,EAAJ;QAA6B,QAAQ,YAAR;QAF9B;OADD;MAKC;;SAAK,WAAU,gBAAV,EAAL;OACC;;UAAK,WAAU,QAAV,EAAL;QAAyB,OAAO,GAAP,CAAW,gBAAmB,CAAnB;aAAE;aAAK;gBAC1C,uCAAK,KAAK,CAAL,EAAQ,WAAW,0BAAW,SAAX,EAAsB,OAAtB,CAAX;AACX,eAAK,SAAL,EAAgB,SAAS,OAAK,gBAAL,CAAsB,IAAtB,SAAiC,MAAjC,EAAyC,CAAzC,CAAT;AAChB,iBAAO,EAAC,0BAAuB,YAAvB,EAAR;UAFF;SADmC,CAApC;QADD;OALD;MAaC;;SAAK,WAAU,oBAAV,EAAL;OAAqC,eAAe,EAAf;OAbtC;MAND;KADD,CAjBQ;;;SArBG;6BACL,YAAY;AAClB,WAAS,MAAM;AACd,OAAI,GAAJ;AACA,YAAS,GAAT;AACA,SAAM,MAAN;AACA,gBAAa,MAAb;GAJQ,EAKN,UALM;AAMT,kBAAgB,KAAK,UAAL;;mBAwDH,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCtEM;;;;;;;;;;4BACX;AACR,WACC;;OAAK,WAAU,gBAAV,EAAL;KACE,KAAK,KAAL,CAAW,QAAX;KAFH,CADQ;;;SADW;GAAuB,gBAAM,SAAN;;mBAAvB,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCAA;;;;;;;;;;4BACX;AACR,WACC;;OAAK,WAAU,aAAV,EAAwB,OAAO,EAAC,QAAO,MAAP,EAAe,OAAM,MAAN,EAAc,WAAU,YAAV,EAArC,EAA7B;KACE,KAAK,KAAL,CAAW,QAAX;KAFH,CADQ;;;SADW;GAAoB,gBAAM,SAAN;;mBAApB,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCAA;;;;;;;;;;4BACX;iBACwB,KAAK,KAAL,CADxB;QACA,2BADA;QACa,sEADb;;AAER,WAAO;;8BAAK,WAAU,UAAV,IAAyB,OAA9B;KAAwC,QAAxC;KAAP,CAFQ;;;SADW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCGR;;;;;;;;;;uBACR,QAAQ;AACX,QAAI,mCAAa,OAAb,CADO;AAEX,QAAI,SAAS,OAAO,QAAP,SAAsB,OAAO,QAAP,GAAoB,EAA1C,CAFF;AAGX,WAAO,MAAM,QAAN,CAHI;AAIX,WAAO,0DALI,kDAKe,MAAnB,CAJI;;;SADA;;;KAUA;;;AACZ,WADY,WACZ,CAAY,KAAZ,EAAmB;uCADP,aACO;;6FADP,wBAEL,QADY;;AAElB,UAAK,MAAL,GAAc,2BAAO,SAAP,EACb,6BAAW,IAAI,aAAJ,EAAX,CADa,CAAd,CAFkB;;GAAnB;;SADY;;;mBAQE,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCrBP;KAAM;KAAQ;KAAO;;;AAS7B,UAAS,IAAT,CAAc,MAAd,EAAsB;AACrB,oBAAI,GAAJ,CAAQ,mBAAR,EAA6B,MAA7B,EADqB;AAErB,SAAO,cAAI,MAAJ,CAAW,MAAX,CAAkB,MAAlB,GACL,KADK,CACC,UAAC,KAAD,EAAW;AACjB,qBAAI,KAAJ,CAAU,0BAAV,EAAsC,KAAtC,EADiB;GAAX,CADR,CAFqB;EAAtB;;KAUqB,uBAFpB,0BAAO,IAAP,WACA,yBAAQ,cAAI,MAAJ,CAAW,MAAX,CAAkB,SAAlB;0BACY;;;;;;;;;uCAUA;AACnB,sBAAI,KAAJ,CAAU,qBAAV,EADmB;iBAEgB,KAAK,KAAL,CAFhB;QAEX,yBAFW;QAEF,qBAFE;QAEK,uBAFL;;AAGnB,QAAI,WAAW,KAAX,EAAkB;AAAC,UAAK,MAAL,EAAD;KAAtB;;;;4BAGQ;AACR,sBAAI,KAAJ,CAAU,QAAV,EAAoB,KAAK,KAAL,CAApB,CADQ;QAEA,UAAY,KAAK,KAAL,CAAZ,QAFA;;AAGR,WACC;AACC,gBAAU,cAAV;AACA,mBAAc,CAAd;AACA,YAAO,OAAP;AACA,kBAAa,CAAb;AACA,iBAAc,oBAAC,IAAD,EAAO,GAAP;aACb,qDAAW,OAAO,IAAP,EAAX;MADa;KALf,CADD,CAHQ;;;SAhBW;GAAqB,gBAAM,SAAN,WAClC,YAAY;AAClB,WAAS,IAAT;AACA,QAAM,IAAN;AACA,QAAM,IAAN;AACA,SAAO,GAAP;AACA,UAAQ,OAAO,UAAP;AACR,WAAS,MAAM,UAAN;;mBAPU,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCpBb;KAAK;KAAM;KAAQ;KAAQ;KAKtB;;;AAmBZ,WAnBY,SAmBZ,GAAsB;;;uCAnBV,WAmBU;;qCAAP;;IAAO;;qHAnBV,4DAoBF,SADY;;AAErB,SAAK,KAAL,GAAa,EAAC,aAAY,KAAZ,EAAmB,cAAa,KAAb,EAAjC,CAFqB;;GAAtB;;6BAnBY;;4BAwBH;;;uBAC4H,KAAK,KAAL,CAA5H,MADA;QACS,qBADT;QACa,yBADb;QACmB,uCADnB;QACgC,iCADhC;QAC0C,iCAD1C;QACoD,qCADpD;QACgE,yBADhE;QACsE,2BADtE;QAC6E,uCAD7E;QAC0F,mCAD1F;QACqG,+BADrG;QAC8G,+BAD9G;;AAER,QAAM,0EAAwE,gBAAxE,CAFE;AAGR,QAAM,2EAAyE,iBAAzE,CAHE;AAIR,QAAM,QAAQ,OAAO,EAAP,GAAY,EAAC,kBAAiB,cAAjB,EAAiC,QAAO,cAAP,EAA9C;;AAJN,WAOP;;OAAkB,WAAU,OAAV,EAAkB,KAAK,EAAL,EAApC;KACC;;;MACC;;;OACE,KAAK,KAAL,CAAW,WAAX,GACA;;UAAI,WAAU,cAAV,EAAJ;QAA8B,IAA9B;QADA,GAGA,uCAAK,OAAO,KAAP,EAAc,WAAU,WAAV,EAAsB,KAAK,IAAL;AACxC,iBAAS;gBAAI,OAAK,QAAL,4BAAkB,OAAK,KAAL,IAAY,aAAY,IAAZ,GAA9B;SAAJ,EADV,CAHA;OAFH;MASC;;SAAK,WAAU,mBAAV,EAAL;OACE,CAAE,KAAK,KAAL,CAAW,YAAX,GACF,uCAAK,OAAO,KAAP,EAAc,WAAU,YAAV,EAAuB,KAAK,KAAL;AACzC,iBAAS;gBAAI,OAAK,QAAL,4BAAkB,OAAK,KAAL,IAAY,cAAa,IAAb,GAA9B;SAAJ,EADV,CADA,GAIA,uCAAK,OAAO,EAAC,QAAO,GAAP,EAAR,EAAL,CAJA;OAOD;;UAAU,WAAU,kBAAV,EAAV;QACE,WADF;QARD;OATD;MADD;KAuBC;;;MACC;;;OACE,KAAK,KAAL,CAAW,WAAX,GACA;;UAAI,WAAU,cAAV,EAAJ;QAA8B,IAA9B;QADA,GAGA,uCAAK,OAAO,EAAC,QAAO,cAAP,EAAR,EAAgC,WAAU,WAAV,EAAsB,KAAK,IAAL,EAAW,SAAS;gBAAI,OAAK,QAAL,4BAAkB,OAAK,KAAL,IAAY,aAAY,IAAZ,GAA9B;SAAJ,EAA/E,CAHA;OAFH;MAQC;;;OAAI,WAAJ;OARD;MASC;;;OACE,QADF;OACW,yCADX;OAEE,QAFF;OAEW,yCAFX;OAGE,IAHF;OATD;MAvBD;KADD,CANQ;;;SAxBG;6BACL,YAAY;AAClB,SAAO,MAAM;AACZ,OAAI,GAAJ;AACA,SAAM,MAAN;AACA,gBAAa,MAAb;AACA,aAAU,MAAV;AACA,aAAU,MAAV;AACA,eAAY,MAAZ;AACA,SAAM,MAAN;AACA,UAAO,MAAP;AACA,gBAAa,MAAb;AACA,cAAW,MAAX;AACA,YAAS,MAAT;AACA,UAAO,MAAP;AACA,YAAS,KAAK,UAAL;GAbH,EAcJ,UAdI;;mBAuEM,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KC7EM;;;;;;;;;;4BACX;iBACwB,KAAK,KAAL,CADxB;QACA,2BADA;QACa,sEADb;;AAER,WAAO;;8BAAK,WAAU,QAAV,IAAuB,OAA5B;KAAqC,QAArC;KAAP,CAFQ;;;SADW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCKR;;;AACZ,WADY,SACZ,CAAY,KAAZ,EAAmB;uCADP,WACO;;4FADP,sBAEL,QADY;;AAElB,SAAK,MAAL,GAAc,4BAAW,mBAAX,CAAd,CAFkB;;GAAnB;;SADY;;;mBAME,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACER,KAAM,0BACZ;;IAAO,MAAK,GAAL,EAAS,0BAAhB;EACC,4DAAe,IAAG,2BAAH,EAAf,CADD;EAEC;;KAAO,MAAK,WAAL,EAAiB,+BAAxB;GACC,4DAAe,IAAG,2BAAH,EAAf,CADD;GAEC,oDAAO,MAAK,iBAAL,EAAuB,kCAA9B,CAFD;GAGC,oDAAO,MAAK,oBAAL,EAA0B,qCAAjC,CAHD;GAIC,oDAAO,MAAK,iCAAL,EAAuC,qCAA9C,CAJD;GAMC,oDAAO,MAAK,qBAAL,EAA2B,qCAAlC,CAND;GAFD;EAUC;;KAAO,MAAK,SAAL,EAAe,6BAAtB;GACC,yDAAY,mCAAZ,CADD;GAVD;EAaC;;KAAO,MAAK,SAAL,EAAe,6BAAtB;GACC,yDAAY,mCAAZ,CADD;GAbD;EADY;;mBAoBE,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCf,qBAAQ,EAAR;AACA,QAAO,KAAP,GAAe,oBAAQ,EAAR,CAAf;;;AAcA,KAAM,UAAU,uBAAV;AACN,KAAM,aAAa,IAAI,eAAK,MAAL,CAAY,OAAhB,CAAb;;AAEN,KAAM,IAAE,gBAAM,KAAN;KAAa,KAAG,gBAAM,KAAN,CAAY,IAAZ;KAAmB,IAAE,gBAAM,MAAN;KAAc,KAAG,gBAAM,MAAN,CAAa,IAAb;KAC7D,IAAE,gBAAM,KAAN;KAAa,KAAG,gBAAM,KAAN,CAAY,IAAZ;KAAkB,KAAG,gBAAM,IAAN;KAAa,MAAI,gBAAM,IAAN,CAAW,IAAX;KACxD,IAAE,gBAAM,GAAN;KAAW,KAAG,gBAAM,GAAN,CAAU,IAAV;;AAGjB,SAAQ,GAAR,CAAY,4BAAZ;;;;;AAKA,KAAI,OAAY;;AAEf,MAAM,UAAU,QAAQ,SAAR,CAAV,CAFS;AAGf,MAAM,gBAAgB,QAAQ,wBAAR,CAAhB,CAHS;AAIf,MAAM,gBAAgB,QAAQ,wBAAR,CAAhB,CAJS;AAKf,MAAM,QAAQ,EAAC,QAAO,IAAP,EAAa,QAAO,KAAP,EAAc,MAAK,KAAL,EAAY,SAAQ,KAAR,EAAhD,CALS;AAMf,MAAM,YAAY,QAAQ,sCAAR,CAAZ,CANS;AAOf,MAAM,iBAAiB,QAAQ,SAAR,CAAjB,CAPS;AAQf,UAAQ,GAAR,CAAY,cAAc,cAAd,EAA8B,EAAC,YAAD,EAAQ,YAAW,UAAU,MAAV,CAAiB,UAAjB,EAAjD,CAAZ,EARe;AASf,UAAQ,GAAR,CAAY,cAAc,cAAd,CAAZ,EATe;EAAhB,MAWK,EAXL;;;AAeA,SAAQ,GAAR,CAAY,kBAAQ,MAAR,CAAe,iBAAI,UAAJ,CAA3B;;;AAGA,SAAQ,GAAR,CAAY,SAAZ,EAAuB,UAAC,GAAD,EAAM,GAAN,EAAc;AACpC,MAAI,SAAJ,CAAc,GAAd,EAAmB,EAAC,gBAAgB,0BAAhB,EAApB,EADoC;AAEpC,MAAI,GAAJ,6HAOK,iBAAI,MAAJ,CAAW,IAAX,qCAPL,EAFoC;EAAd,CAAvB;;AAcA,SAAQ,GAAR,CAAY,MAAZ,EAAoB,UAAC,GAAD,EAAM,GAAN,EAAc;;;AAGjC,MAAM,QAAQ,oBAAQ,EAAR,EAAmB,WAAnB,EAAR,CAH2B;AAIjC,MAAM,SAAS,oBAAQ,EAAR,EAAoB,MAApB,CAJkB;AAKjC,MAAM,OAAO,oBAAQ,EAAR,EAAkC,IAAlC,CALoB;;AAOjC,0BAAM,EAAC,QAAO,MAAP,EAAe,UAAS,IAAI,WAAJ,EAA/B,EAAiD,UAAC,KAAD,EAAQ,gBAAR,EAA0B,WAA1B,EAA0C;AAC1F,OAAI,gBAAJ,EAAsB;AACrB,QAAI,QAAJ,CAAa,iBAAiB,QAAjB,GAA4B,iBAAiB,MAAjB,CAAzC,CADqB;AAErB,QAAI,GAAJ,GAFqB;IAAtB,MAIK,IAAI,KAAJ,EAAW;AACf,sBAAI,IAAJ,CAAS,GAAG,eAAH,CAAT,EAA8B,OAAO,MAAP,CAAc,KAAd,CAA9B,EADe;AAEf,QAAI,MAAJ,CAAW,GAAX,EAFe;AAGf,QAAI,IAAJ,CAAS,eAAT,EAHe;AAIf,QAAI,GAAJ,GAJe;IAAX,MAMA,IAAI,CAAC,WAAD,EAAc;AACtB,QAAI,MAAJ,CAAW,GAAX,EADsB;AAEtB,QAAI,IAAJ,CAAS,YAAT,EAFsB;AAGtB,QAAI,GAAJ,GAHsB;IAAlB,MAKA;AACJ,sBAAI,KAAJ,CAAU,gBAAM,MAAN,CAAa,IAAb,CAAkB,IAAlB,EAAwB,yBAAlC,EAA6D,WAA7D,EAA0E,gBAAM,MAAN,CAAa,IAAb,CAAkB,KAAlB,CAA1E;;;AADI,QAIE,aAAa,YAAY,MAAZ,CAAmB,GAAnB,CAAuB;YAAK,EAAE,SAAF;KAAL,CAApC,CAJF;AAKJ,sBAAI,GAAJ,CAAQ,0CAAR,EAAoD,UAApD,EALI;AAMJ,4BAAK,YAAY,MAAZ,CAAmB,GAAnB,CAAuB;YAAK,EAAE,SAAF;KAAL,CAA5B,EAA+C,YAAY,MAAZ,CAA/C,CAAmE,IAAnE,CAAwE,YAAM;;AAE7E,SAAI,MAAJ,CAAW,GAAX,EAF6E;AAG7E,SAAI,IAAJ,CAAS,sBACR,iBAAS,cAAT,CACC,8BAAC,IAAD,2BAAM,OAAO,KAAP,EAAc,QAAQ,iBAAI,SAAJ,CAAc,GAAd,EAAmB,SAAS,iBAAI,OAAJ,IAAiB,YAAzE,CADD,CADQ,CAAT,CAH6E;AAQ7E,SAAI,GAAJ,GAR6E;KAAN,CAAxE,CAUC,KAVD,CAUO,UAAC,KAAD,EAAW;AACjB,uBAAI,KAAJ,CAAU,+BAAV,EAA2C,IAAI,GAAJ,EAAS,IAApD,EAA0D,KAA1D,EAAiE,MAAM,KAAN,CAAjE,CADiB;AAEjB,SAAI,MAAJ,CAAW,GAAX,EAFiB;AAGjB,SAAI,IAAJ,CAAS,eAAT,EAHiB;AAIjB,SAAI,GAAJ,GAJiB;KAAX,CAVP,CANI;IALA;GAX2C,CAAjD,CAPiC;EAAd,CAApB;;AAiDA,KAAI,SAAS,WAAW,MAAX,CAAkB,iBAAI,MAAJ,CAAW,IAAX,EAAiB,iBAAI,MAAJ,CAAW,IAAX,EAAiB,UAAS,KAAT,EAAgB;AAChF,MAAI,KAAJ,EAAW;AAAC,SAAM,KAAN,CAAD;GAAX;AACA,MAAI,OAAO,WAAW,OAAX,EAAP,CAF4E;AAGhF,oBAAI,IAAJ,GAHgF;AAIhF,MAAI,OAAY;AACf,qBAAI,IAAJ,CAAS,GAAG,MAAH,IAAa,EAAE,aAAF,CAAb,GAAgC,GAAG,aAAH,CAAhC,GAAoD,EAAE,SAAF,CAApD,IAAoE,OAAO,GAAP,GAAa,GAAG,wBAAH,IAA+B,EAAE,cAAF,CAA/B,GAAmD,EAAhE,CAApE,CAAT,CADe;GAAhB,MAEO;AACN,qBAAI,IAAJ,CAAS,GAAG,MAAH,IAAa,EAAE,aAAF,CAAb,GAAgC,GAAG,YAAH,CAAhC,GAAmD,EAAE,SAAF,CAAnD,GAAkE,GAAG,kBAAH,CAAlE,GAA2F,EAAE,cAAF,CAA3F,CAAT,CADM;GAFP;AAKA,oBAAI,IAAJ,CAAS,GAAG,MAAH,IAAa,EAAE,aAAF,CAAb,GAAgC,GAAG,iBAAI,SAAJ,CAAc,IAAd,CAAnC,GAAyD,EAAE,MAAF,CAAzD,GAAqE,GAAG,iBAAI,SAAJ,CAAc,GAAd,CAAxE,CAAT,CATgF;AAUhF,oBAAI,IAAJ,CAAS,GAAG,MAAH,IAAa,EAAE,+BAAF,CAAb,GAAkD,GAAG,iBAAI,MAAJ,CAAW,QAAX,GAAsB,KAAK,OAAL,IAAgB,KAAK,IAAL,IAAa,EAAb,GAAkB,EAAlB,GAAuB,MAAM,KAAK,IAAL,CAAnE,CAArD,CAAT,CAVgF;AAWhF,oBAAI,IAAJ,CAAS,GAAG,6BAAH,IAAoC,EAAE,QAAF,CAApC,EAAiD,iBAAI,MAAJ,CAAW,IAAX,EAAiB,KAAK,KAAK,GAAL,EAAL,CAA3E,EAXgF;AAYhF,oBAAI,IAAJ,CAAS,EAAT,EAZgF;EAAhB,CAA7D;;AAeJ,KAAI,GAAJ;AACA,KAAI,UAAU,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,QAAhC,EAA0C,SAA1C,EAAqD,SAArD,EAAgE,QAAhE,EAA0E,QAA1E,EAAoF,SAApF,EAA+F,SAA/F,EAA0G,SAA1G,EAAqH,SAArH,CAAV;AACJ,SAAQ,OAAR,CAAgB,UAAS,MAAT,EAAiB;AAAC,UAAQ,EAAR,CAAW,MAAX,EAAmB,YAAU;AAC9D,qBAAI,IAAJ,CAAS,MAAO,GAAG,MAAH,IAAa,EAAE,WAAF,CAAb,GAA8B,GAAG,iBAAI,MAAJ,CAAW,IAAX,CAAjC,GAAoD,EAAE,mBAAF,CAApD,GAA6E,GAAG,MAAH,CAA7E,GAA0F,EAAE,GAAF,CAA1F,CAAhB,CAD8D;AAE9D,UAAO,KAAP,GAF8D;AAG3D,WAAQ,IAAR,GAH2D;GAAV,CAAnB,CAAD;EAAjB,CAAhB;AAKA,SAAQ,EAAR,CAAW,mBAAX,EAAgC,UAAS,KAAT,EAAe;AAC9C,oBAAI,IAAJ,CAAS,MAAO,GAAG,MAAH,IAAa,EAAE,qBAAF,CAAb,GAAwC,GAAG,KAAH,CAAxC,GAAoD,EAAE,GAAF,CAApD,CAAhB,CAD8C;EAAf,CAAhC;AAGA,SAAQ,EAAR,CAAW,MAAX,EAAmB,YAAW;AAAC,oBAAI,IAAJ,CAAS,MAAO,GAAG,MAAH,IAAa,EAAE,UAAF,CAAb,GAA6B,GAAG,iBAAI,MAAJ,CAAW,IAAX,CAAhC,GAAmD,EAAE,SAAS,KAAK,KAAK,GAAL,EAAL,CAAT,GAA4B,OAA5B,CAArD,CAAhB,CAAD;EAAX,CAAnB;;AAEA,KAAI,OAAY;AACf,SAAO,GAAP,CAAW,MAAX,CAAkB,SAAlB,EAA6B,YAAU;AAChC,qBAAI,IAAJ,CAAS,GAAG,gBAAH,IAAuB,EAAE,gBAAF,CAAvB,CAAT,CADgC;GAAV,CAA7B,CADe;AAIf,SAAO,GAAP,CAAW,MAAX,CAAkB,UAAlB,EAA8B,YAAU;AACjC,qBAAI,IAAJ,CAAS,GAAG,gBAAH,IAAuB,EAAE,iBAAF,CAAvB,CAAT,CADiC;GAAV,CAA9B,CAJe;AAOf,SAAO,GAAP,CAAW,MAAX,CAAkB,wBAAlB,EAA4C,YAAU;AAC/C,qBAAI,IAAJ,CAAS,GAAG,gBAAH,IAAuB,EAAE,+BAAF,CAAvB,CAAT,CAD+C;GAAV,CAA5C;;;;;;;;;;;;;AAPe,E;;;;;;;;;;;;;;;;;SC/FA;;;;;;;;;;;;;;;;;;;;;;AAlChB,KAAI,MAAM,oBAAQ,EAAR,EAAgC,GAAhC;;AAEV,KAAM,OAAO,QAAO,qEAAP,IAAiB,QAAjB,IAA6B,OAAO,MAAP,IAAiB,SAA9C;;AAEb,UAAS,aAAT,GAAyB;AACxB,SAAO,4BAAgB;AACtB,YAAS,mDAA6B;;;;;;;;;;;;AAYrC,SAAK,GAAL;AACA,QAAI,GAAJ;AACA,QAAI,GAAJ;AACA,QAAI,GAAJ;AACA,QAAI,IAAJ;AACA,QAAI,IAAJ;AACA,SAAK,IAAL,EAlBQ,CAAT;;AAoBA,QAAK,IAAI,OAAJ;GArBC,CAAP,CADwB;EAAzB;;AA0BA,KAAM,gBAAgB,QAAO,qEAAP,IAAiB,QAAjB,GAClB,8DAAiC,kDAAuB,2BAAa,EAAC,yBAAD,EAAb,CAAvB,CAAjC,CADkB,GAElB,8DAAiC,iDAAjC,CAFkB;;AAIf,UAAS,WAAT,GAAuB;AAC7B,MAAM,QAAQ,wBAAiB,eAAjB,EAAkC,IAAlC,EAAwC,aAAxC,CAAR,CADuB;AAE7B,uBAAK,KAAL,EAAY,GAAZ,EAAiB,0BAAU,KAAV,CAAjB,EAF6B;AAG7B,SAAO,KAAP,CAH6B;EAAvB;;AAMA,KAAM,wBAAQ,aAAR;;;;AAKb,KAAI,QAAO,qEAAP,IAAiB,QAAjB,EAA2B;AAC9B,SAAO,KAAP,GAAe,KAAf,CAD8B;AAE9B,SAAO,GAAP,GAAa,GAAb,CAF8B;EAA/B;mBAIe;;;AAEf,KAAI,OAAY;AACf,SAAO,GAAP,CAAW,MAAX,CAAkB,sBAAlB,EAA0C,YAAM;;AAE/C,OAAM,MAAM,wCAAN;OACL,OAAO,QAAO,qEAAP,IAAe,QAAf,GAAyB,QAAM,GAAN,EAAY,aAAZ,CAAzB,GAAsD,CAAC,GAAD,CAAtD,CAHuC;AAI/C,SAAM,QAAQ,sBAAR,EAAgC,GAAhC,CAJyC;AAK/C,SAAM,cAAN,CAAqB,eAArB,EAL+C;AAM/C,wBAAK,KAAL,EAAY,GAAZ,EAAiB,0BAAU,KAAV,CAAjB,EAN+C;AAO/C,OAAI,QAAO,qEAAP,IAAiB,QAAjB,EAA2B;AAAC,WAAO,GAAP,GAAa,GAAb,CAAD;IAA/B;GAPyC,CAA1C,CADe;;;;;;;AC1DhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,G;;;;;;ACrHA,4C;;;;;;ACAA,gE;;;;;;ACAA,kE;;;;;;ACAA,iE;;;;;;ACAA,uD;;;;;;ACAA,mC;;;;;;ACAA,yC;;;;;;ACAA,qC;;;;;;ACAA,kC;;;;;;ACAA,wC;;;;;;ACAA,wC;;;;;;ACAA,kC;;;;;;ACAA,iD;;;;;;ACAA,mC;;;;;;ACAA,0C;;;;;;ACAA,8C;;;;;;ACAA,yC;;;;;;ACAA,kD","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1c4238e6b95ad0881ca1\n **/","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/classCallCheck\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/core-js/object/get-prototype-of\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/helpers/inherits\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/inherits\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/possibleConstructorReturn\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/createClass\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"picolog\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"picolog\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/helpers/extends\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/extends\"\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/helpers/objectWithoutProperties\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/objectWithoutProperties\"\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = require(\"redux-apis\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-apis\"\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/helpers/typeof\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/typeof\"\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = require(\"classnames\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"classnames\"\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = require(\"react-mdl\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-mdl\"\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"redux-fetch-api\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-fetch-api\"\n ** module id = 14\n ** module chunks = 0\n **/","import log from 'picolog';\r\nimport Api, { link } from 'redux-apis';\r\nimport { remote, endpoint, fetcher } from 'redux-fetch-api';\r\n\r\nimport Auth from '../Auth/api';\r\nimport BrandsApi   from '../Brands/api';\r\nimport ProductsApi from '../Products/api';\r\nimport StoresApi from '../Stores/api';\r\nimport { DrawerApi, LightboxApi } from '../Mdl/api';\r\nimport Suid from 'ws.suid';\r\n\r\nconst API_URL = apiUrl();\r\nlog.info('Using BridalApp API Server url: ', API_URL);\r\nlet idx, lastSlash = 0;\r\nwhile ((idx = API_URL.indexOf('/', lastSlash + 1)) !== -1) {lastSlash = idx;}\r\nconst SUID_URL = API_URL.substring(0, lastSlash) + '/suid/suid.json';\r\nlog.info('Using Suid Server url: ', SUID_URL);\r\nSuid.config({server: SUID_URL});\r\n\r\n// override the default fetcher with one that does a cross-origin (CORS) request and has a timeout\r\n@fetcher(authenticatedCrossOriginFetchWithTimeout)\r\n@remote(API_URL)\r\nexport class AppApi extends Api {\r\n\r\n\tconstructor(state) {\r\n\t\tsuper(state);\r\n\r\n\t\tthis.auth = remote('/auth')(\r\n\t\t\tlink(this, new Auth())\r\n\t\t);\r\n\r\n\t\tthis.brands = remote('/brands')(\r\n\t\t\tlink(this, new BrandsApi())\r\n\t\t);\r\n\r\n\t\tthis.products = remote('/products')(\r\n\t\t\tlink(this, new ProductsApi())\r\n\t\t);\r\n\r\n\t\tthis.stores = remote('/stores')(\r\n\t\t\tlink(this, new StoresApi())\r\n\t\t);\r\n\r\n\t\tthis.leftDrawer = link(this, new DrawerApi());\r\n\t\tthis.rightDrawer = link(this, new DrawerApi());\r\n\t\tthis.lightbox = link(this, new LightboxApi());\r\n\t}\r\n}\r\n\r\nexport const app = new AppApi();\r\nexport default app;\r\n\r\n\r\n// A version of fetch that sets cors headers and intercepts 401 Unauthorized responses.\r\n// J2EE servers will, after a succesful login, send a 302 redirect with the original url.\r\n// This function capitalizes on that to do transparent interception\r\nfunction authenticatedCrossOriginFetchWithTimeout(url, opts) {\r\n\tlog.log('authenticatedCrossOriginFetchWithTimeout', url);\r\n\topts = {credentials:'include', mode:'cors', ...opts};\r\n\treturn new Promise((resolve, reject)=>{\r\n\t\tconst timeout = setTimeout(() => {reject(Error(`timed out after 30s.`))}, 30000);\r\n\t\tfetch(url, opts).then(response => {\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tif (response.status && response.status === 401) {\r\n\t\t\t\t// auth needed\r\n\t\t\t\tif (typeof window == 'object') {\r\n\t\t\t\t\t// client, allow user to login\r\n\t\t\t\t\treturn response.json()\r\n\t\t\t\t\t\t.then(json => app.auth.challenge(json.challenge, resolve, reject))\r\n\t\t\t\t\t\t.catch(reject);\r\n\t\t\t\t}\r\n\t\t\t\t// server, reject with error\r\n\t\t\t\treturn response.text().then(text => {\r\n\t\t\t\t\tconst error = Error(text);\r\n\t\t\t\t\terror.status = response.status;\r\n\t\t\t\t\terror.statusText = response.statusText;\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tresolve(response);\r\n\t\t})\r\n\t\t.catch(reject);\r\n\t});\r\n}\r\n\r\nfunction apiUrl() {\r\n\tif (typeof window == 'object') {\r\n\t\treturn window.__bridalapp_api_server || 'http://api.bridalapp.net/api';\r\n\t}\r\n\tconst protocol = process.env.BRIDALAPP_API_SERVER_PROTOCOL || 'http://';\r\n\tconst host = process.env.BRIDALAPP_API_SERVER_HOST || 'localhost';\r\n\tconst port = process.env.BRIDALAPP_API_SERVER_PORT || '8080';\r\n\tconst path = process.env.BRIDALAPP_API_SERVER_PATH || '/api';\r\n\treturn protocol + host + (port == '80' ? '' : ':' + port) + path;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/App/api.jsx\n **/","import log from 'picolog';\r\nimport Suid from 'ws.suid';\r\n\r\nexport function Entity(target) {\r\n\treturn register(target.name, target);\r\n}\r\nexport default Entity;\r\n\r\nexport function\tfromJSON(json) {\r\n\tif (typeof json == 'string')\r\n\t\treturn JSON.parse(json, revive);\r\n\r\n\tconst result = typeof this == 'function' ? new this() : this;\r\n\tfor (var key in json) {\r\n\t\tif (key !== 'type') {result[key] = json[key];}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function toJSON(entity) {\r\n\tif (!entity || typeof entity=='string') entity = this;\r\n\treturn { ...entity, toJSON:entity.toJSON, type:entity.constructor.name };\r\n}\r\n\r\nexport function revive(key, value) {\r\n\tconst t = value && typeof value == 'object' && typeof value.type == 'string' && value.type;\r\n\tconst type = t && registry[t];\r\n\treturn type ? type.fromJSON(value) : Suid.revive(key, value);\r\n}\r\n\r\nexport function equals(one, other) {\r\n\tif (arguments.length == 1) {\r\n\t\treturn one && (\r\n\t\t\t(one.id instanceof Suid && one.id.equals(this.id)) ||\r\n\t\t\t(one instanceof Suid && one.equals(this.id)) ||\r\n\t\t\t(this.id && this.id.value == one)\r\n\t\t)\r\n\t}\r\n\r\n\tif (one === other) return true;\r\n\tif (one && !(one instanceof Suid) && typeof one.equals == 'function') return one.equals(other);\r\n\tif (other && !(other instanceof Suid) && typeof other.equals == 'function') return other.equals(one);\r\n\tif (one instanceof Suid) return one.equals(other);\r\n\tif (other instanceof Suid) return other.equals(one);\r\n\treturn false;\r\n}\r\n\r\nexport function register(name, type) {\r\n\tfunction enhance(entity) {\r\n\t\tObject.defineProperty(entity, 'id', {enumerable:true,\r\n\t\t\tget:function(){return entity.__id;},\r\n\t\t\tset:function(id){Object.defineProperty(this, '__id', {value:new Suid(id)});},\r\n\t\t});\r\n\t\tentity.version = null;\r\n\t}\r\n\tlet wrapped;\r\n\teval(`\r\n\t\twrapped = function ${name}(){\r\n\t\t\tenhance(this);\r\n\t\t\ttype.apply(this, arguments);\r\n\t\t};\r\n\t`);\r\n\twrapped.prototype = Object.create(type.prototype);\r\n\tregistry[name] = wrapped;\r\n\tif (! wrapped.prototype.toJSON) {Object.defineProperty(wrapped.prototype, 'toJSON', {value:toJSON});}\r\n\tif (! wrapped.prototype.equals) {Object.defineProperty(wrapped.prototype, 'equals', {value:equals});}\r\n\tif (! wrapped.fromJSON) {Object.defineProperty(wrapped, 'fromJSON', {value:fromJSON});}\r\n\treturn wrapped;\r\n}\r\n\r\nconst registry = {};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Entity/Entity.jsx\n **/","import log from 'picolog';\r\nimport React, { Component, PropTypes, Children } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Drawer as MdlDrawer, Textfield as MdlTextfield, FABButton, Icon, Card, Spinner } from 'react-mdl';\r\nlog.assert(MdlDrawer, 'MdlDrawer is not defined');\r\nlog.assert(MdlTextfield, 'MdlTextfield is not defined');\r\nconst { bool, number, string, object, func, array, node, shape, oneOfType, arrayOf } = PropTypes;\r\nimport classNames from 'classnames';\r\n\r\nexport function component(displayName, defaultClass, conditionals={}, elem='div', propTypes={}, defaultProps={}, createElement=React.createElement) {\r\n\tfunction render(props) {\r\n\t\tlog.debug('render', props);\r\n\t\tconst { className, defaultClass, children, ...others } = props;\r\n\t\tconst extraClasses = Object.keys(conditionals).map(x => ({[others[x + 'Class']]: others[x]}));\r\n\t\treturn createElement(elem, {className:classNames(className, defaultClass, extraClasses), ...others}, children);\r\n\t}\r\n\trender.displayName = displayName;\r\n\trender.propTypes = {\r\n\t\tdefaultClass: string,\r\n\t\tclassName: string,\r\n\t\tchildren: node,\r\n\t\t...propTypes\r\n\t}\r\n\trender.defaultProps = {\r\n\t\tdefaultClass,\r\n\t\t...defaultProps\r\n\t}\r\n\tfor (let key in conditionals) {\r\n\t\trender.propTypes[key + 'Class'] = string;\r\n\t\trender.propTypes[key] = oneOfType([bool, string, object, number, node]);\r\n\t\trender.defaultProps[key + 'Class'] = conditionals[key];\r\n\t}\r\n\treturn render;\r\n}\r\n\r\nexport const LayoutTitle = component('LayoutTitle', 'mdl-layout__title')\r\nexport const LayoutObfuscator = component('LayoutObfuscator', 'mdl-layout__obfuscator', {open:'is-visible'}, 'div', {onCancel: func.isRequired}, {},\r\n\t(elem, props, children) => {\r\n\t\tconst { onCancel, ...others } = props;\r\n\t\treturn (\r\n\t\t\t<div onClick={onCancel} onTouchEnd={onCancel} {...others} />\r\n\t\t)\r\n\t}\r\n)\r\n\r\n\r\n/**\r\n * Controlled version of the MDL TextField component that adds a property `value`.\r\n */\r\nexport class Textfield extends Component {\r\n\tstatic propTypes = {...MdlTextfield.propTypes}\r\n\tstatic defaultProps = {...MdlTextfield.defaultProps}\r\n\r\n\tconstructor(...props) {\r\n\t\tsuper(...props);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tObject.defineProperty(this, 'value', {get:()=>this.props.value});\r\n\t}\r\n\r\n\tonChange(evt, ...params) {\r\n\t\tlog.debug('onChange', evt, evt.target.value);\r\n\t\tconst { onChange } = this.props;\r\n\t\treturn onChange && onChange(evt.target.value, evt, ...params);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlog.debug('render', this.props);\r\n\t\tconst { onChange, children, ...props } = this.props;\r\n\t\treturn <MdlTextfield onChange={this.onChange} {...props} />\r\n\t}\r\n}\r\n\r\n/**\r\n * Stateful version of the MDL TextField component that adds a property `value`.\r\n *\r\n * This component is stateful; it uses `this.state` to keep track of the underlying\r\n * input's value. It basically does the work for you that is mentioned here:\r\n * https://facebook.github.io/react/docs/forms.html#controlled-components\r\n */\r\nexport class StatefulTextfield extends Component {\r\n\tstatic propTypes = {...MdlTextfield.propTypes}\r\n\tstatic defaultProps = {...MdlTextfield.defaultProps}\r\n\r\n\tconstructor(...props) {\r\n\t\tsuper(...props);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.state = {value:this.props.value};\r\n\t\tObject.defineProperty(this, 'value', {get:()=>this.state.value});\r\n\t}\r\n\r\n\tonChange(evt, ...params) {\r\n\t\tlog.debug('onChange', evt, evt.target.value);\r\n\t\tthis.setState({value:evt.target.value});\r\n\t\tconst { onChange } = this.props;\r\n\t\treturn onChange && onChange(evt, ...params);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { value } = this.state;\r\n\t\tlog.debug('render', value);\r\n\t\tconst { children, onChange, ...props } = this.props;\r\n\t\treturn <MdlTextfield value={value} onChange={this.onChange} {...props} />\r\n\t}\r\n}\r\n\r\n/** The front face of a flippable Card */\r\nexport const FrontFace = component('FrontFace', 'mdl-card__face mdl-card__front');\r\n/** The back face of a flippable Card */\r\nexport const BackFace = component('BackFace', 'mdl-card__face mdl-card__back');\r\n\r\n\r\nexport const FlipCard = component('FlipCard', 'mdl-card is-flippable', {flipped: 'is-flipped'});\r\n\r\n/**\r\n * A base class to create a MDL Card that is flippable.\r\n *\r\n * This class is stateful; it manages the flip state in `this.state`.\r\n * If you extend from it, you need to implement `render()` and use\r\n * the methods `isFlipped()` and `flip()` to inspect/update the\r\n * flip state in response to e.g. clicks etc.\r\n */\r\nexport class StatefulFlipCard extends Component {\r\n\tstatic propTypes = {\r\n\t\tflipped: bool,\r\n\t\tclassName: string,\r\n\t}\r\n\tstatic defaultProps = {\r\n\t\tflipped: false,\r\n\t}\r\n\tconstructor(...props) {\r\n\t\tsuper(...props);\r\n\t\tthis.state = { flipped: this.props.flipped, loaded:false };\r\n\t\tthis.flip = this.flip.bind(this);\r\n\t}\r\n\r\n\tisFlipped() {\r\n\t\treturn this.state.flipped;\r\n\t}\r\n\r\n\tflip(event) {\r\n\t\tif (event && event.defaultPrevented) {return;}\r\n\t\tthis.setState({ ...this.state, flipped:!this.state.flipped, loaded:true });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { flipped, className, children, ...others } = this.props;\r\n\t\tlet front, back, backProps, backChilds;\r\n\t\tconst childs = [];\r\n\t\tfor (let i=0, elem; elem=children[i]; i++) {\r\n\t\t\tif (elem.type === FrontFace) {front = elem;}\r\n\t\t\telse if (elem.type === BackFace) {\r\n\t\t\t\tback = elem;\r\n\t\t\t\tconst { children, ...others } = back.props;\r\n\t\t\t\tbackProps = others;\r\n\t\t\t\tbackChilds = children;\r\n\t\t\t}\r\n\t\t\telse childs.push(elem);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<FlipCard className={className} flipped={this.isFlipped()} onClick={this.flip}>\r\n\t\t\t\t{front}\r\n\t\t\t\t<BackFace {...backProps}>\r\n\t\t\t\t\t{this.state.loaded || this.isFlipped() ? backChilds : ''}\r\n\t\t\t\t</BackFace>\r\n\r\n\t\t\t</FlipCard>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport const SimpleDialog = component('SimpleDialog', 'mdl-dialog', {visible:'is-visible'}, 'div')\r\nexport const Modal = component('Modal', 'mdl-modal', {}, 'div', {open:bool.isRequired, onCancel: func.isRequired}, {},\r\n\t(elem, props, children) => {\r\n\t\tconst { open, onCancel, ...others } = props;\r\n\t\treturn (\r\n\t\t\t<div {...others}>\r\n\t\t\t\t{children}\r\n\t\t\t\t<LayoutObfuscator open={open} onCancel={onCancel} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const Dialog = component('Dialog', '', {}, 'div',\r\n\t{\r\n\t\topen: bool,\r\n\t\tmodal: bool,\r\n\t\tonCancel: func,\r\n\t},\r\n\t{\r\n\t\topen: false,\r\n\t\tmodal: false\r\n\t},\r\n\t(elem, props, children) => {\r\n\t\tconst { open, modal, onCancel, ...others } = props;\r\n\t\treturn (modal\r\n\t\t?\r\n\t\t\t<Modal open={open} onCancel={onCancel}>\r\n\t\t\t\t<SimpleDialog visible={open} {...others}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</SimpleDialog>\r\n\t\t\t</Modal>\r\n\t\t:\r\n\t\t\t<SimpleDialog visible={open} {...others}>\r\n\t\t\t\t{children}\r\n\t\t\t</SimpleDialog>\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const Drawer = component('Drawer', '', {right:'mdl-layout__drawer-right', open:'is-visible'}, 'div',\r\n\t{\r\n\t\tmodal: bool,\r\n\t\tautoClose: bool,\r\n\t\tonCancel: func,\r\n\t},\r\n\t{\r\n\t\tmodal: false,\r\n\t\tautoClose: false,\r\n\t},\r\n\t(elem, props, children) => {\r\n\t\tlog.debug('render', props);\r\n\t\tconst { open, modal, autoClose, onCancel, onClick, ...others } = props;\r\n\t\treturn (modal\r\n\t\t?\r\n\t\t\t<Modal open={open} onCancel={onCancel}>\r\n\t\t\t\t<MdlDrawer visible={open} onClick={(e) => onClick ? onClick(e) : (autoClose ? onCancel(e) : undefined)} {...others}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</MdlDrawer>\r\n\t\t\t</Modal>\r\n\t\t:\r\n\t\t\t<MdlDrawer {...others}>\r\n\t\t\t\t{children}\r\n\t\t\t</MdlDrawer>\r\n\t\t)\r\n\t}\r\n)\r\n\r\n\r\nexport class Lightbox extends Component {\r\n\tstatic displayName = 'Lightbox';\r\n\r\n\tstatic propTypes = {\r\n\t\topen: bool,\r\n\t\timages: arrayOf(shape({\r\n\t\t\tsrc: string.isRequired,\r\n\t\t\tsrcset: array,\r\n\t\t\tcaption: string,\r\n\t\t})),\r\n\t\tindex: number,\r\n\t\tonCancel: func,\r\n\t\tonNext: func,\r\n\t\tonPrev: func,\r\n\t\tonNav: func,\r\n\r\n\t\tnoKeyboardInput: bool,\r\n\t\tnoBackdropCancel: bool,\r\n\t\tnoNextOnClick: bool,\r\n\t\tnoCloseButton: bool,\r\n\t\tnoImageCount: bool,\r\n\t\tnoPositionIndicators: bool,\r\n\t\tnoPreload: bool,\r\n\t\tnoSpinner: bool,\r\n\t\tnoRotate: bool,\r\n\t\twidth: number,\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\topen: false,\r\n\t\timages: [],\r\n\t\tindex: 0,\r\n\r\n\t\tnoKeyboardInput: false,\r\n\t\tnoBackdropCancel: false,\r\n\t\tnoNextOnClick: false,\r\n\t\tnoCloseButton: false,\r\n\t\tnoImageCount: false,\r\n\t\tnoPositionIndicators: false,\r\n\t\tnoPreload: false,\r\n\t\tnoSpinner: false,\r\n\t\tnoRotate: false,\r\n\t\twidth: 900,\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {loaded:[]}\r\n\t\tthis.cancel = this.cancel.bind(this);\r\n\t\tthis.next = this.next.bind(this);\r\n\t\tthis.prev = this.prev.bind(this);\r\n\t\tthis.nav = this.nav.bind(this);\r\n\t\tthis.imageClicked = this.imageClicked.bind(this);\r\n\t\tthis.keyPressed = this.keyPressed.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { noKeyboardInput } = this.props;\r\n\t\tif (!noKeyboardInput && typeof window == 'object') {window.addEventListener('keydown', this.keyPressed);}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tconst { noKeyboardInput } = this.props;\r\n\t\tif (!noKeyboardInput && typeof window == 'object') {window.removeEventListener('keydown', this.keyPressed);}\r\n\t}\r\n\r\n\tcancel(event) {\r\n\t\tlog.log('cancel', event);\r\n\t\tconst { noBackdropCancel, onCancel } = this.props;\r\n\t\tif (noBackdropCancel) return;\r\n\t\tthis.setState({loaded:[]});\r\n\t\tif (onCancel) {onCancel(event);}\r\n\t\tif (event) {event.preventDefault(); event.stopPropagation();}\r\n\t}\r\n\r\n\tnext(event) {\r\n\t\tlog.log('next', event);\r\n\t\tconst { images, index, onNext, onNav, noRotate } = this.props;\r\n\t\tif (index === images.length - 1) {\r\n\t\t\tif (noRotate) {return;}\r\n\t\t\tif (onNav) {onNav(0, event);}\r\n\t\t} else {\r\n\t\t\tif (onNext) {onNext(event);}\r\n\t\t}\r\n\t\tif (event) {event.preventDefault(); event.stopPropagation();}\r\n\t}\r\n\r\n\tprev(event) {\r\n\t\tlog.log('prev', event);\r\n\t\tconst { images, index, onPrev, onNav, noRotate } = this.props;\r\n\t\tif (index === 0) {\r\n\t\t\tif (noRotate) {return;}\r\n\t\t\tif (onNav) {onNav(images.length - 1, event);}\r\n\t\t} else {\r\n\t\t\tif (onPrev) {onPrev(event);}\r\n\t\t}\r\n\t\tif (event) {event.preventDefault(); event.stopPropagation();}\r\n\t}\r\n\r\n\tnav(idx, event) {\r\n\t\tlog.log('nav', event);\r\n\t\tconst { onNav } = this.props;\r\n\t\tif (onNav) {onNav(idx, event);}\r\n\t\tif (event) {event.preventDefault(); event.stopPropagation();}\r\n\t}\r\n\r\n\timageClicked(event) {\r\n\t\tlog.log('imageClicked', event);\r\n\t\tif (this.props.noNextOnClick) return;\r\n\t\tthis.next(event);\r\n\t}\r\n\r\n\r\n\timageLoaded(event, index) {\r\n\t\tlog.log('imageLoaded', event, index);\r\n\t\tconst loaded = this.state.loaded.concat();\r\n\t\tloaded[index] = true;\r\n\t\tthis.setState({loaded});\r\n\t}\r\n\r\n\tkeyPressed(event) {\r\n\t\tif (event.keyCode === 37) {\r\n\t\t\tthis.prev(event);\r\n\t\t} else if (event.keyCode === 39) {\r\n\t\t\tthis.next(event);\r\n\t\t} else if (event.keyCode === 27) {\r\n\t\t\tthis.cancel(event);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { open, index, images, noCloseButton, noImageCount, noPositionIndicators, noPreload, noSpinner, noRotate } = this.props;\r\n\t\tconst noImages = !images || !images.length;\r\n\t\tconst caption = !noImages && images[index].caption;\r\n\t\tconst style = { cursor: this.props.noNextOnClick ? 'auto' : 'pointer', opacity: this.state.loaded[index] ? 1 : 0};\r\n\t\tconst alt = !noImages && images[index].alt;\r\n\t\tconst imgStyle = !this.state.loaded[index] ? {position:'absolute', width:0, height:0} : {};\r\n\t\tconst positionIndicators = noPositionIndicators ? undefined : (\r\n\t\t\t<div className=\"mdl-lightbox__position-indicators\">\r\n\t\t\t\t{images.map((img, i) => (\r\n\t\t\t\t\t<a key={i} href=\"#\" className={'mdl-lightbox__position-indicator' + (i === index ? ' is-active' : '')}\r\n\t\t\t\t\t\tonClick={(evt) => this.nav(i, evt)} onTouchEnd={(evt) => this.nav(i, evt)}><b></b></a>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t)\r\n\t\tconst imageCount = noImageCount ? undefined : <div className=\"mdl-lightbox__image-count\">{index + 1} / {images.length}</div>;\r\n\t\tconst figcaption = !caption ? undefined : <figcaption className=\"mdl-lightbox__caption\">{caption}</figcaption>;\r\n\t\tconst noFooter = !caption && !positionIndicators && !imageCount;\r\n\t\treturn (\r\n\t\t\t<Modal open={open} onCancel={this.cancel}>\r\n\t\t\t\t<div className={'mdl-lightbox' + (open ? ' is-visible' : '')}>\r\n\t\t\t\t\t<div className=\"mdl-lightbox__content\">\r\n\r\n\t\t\t\t\t\t{noCloseButton ? undefined :\r\n\t\t\t\t\t\t\t<FABButton className=\"mdl-lightbox__close-button\" onClick={this.cancel} onTouchEnd={this.cancel}>\r\n\t\t\t\t\t\t\t\t<Icon name=\"close\" />\r\n\t\t\t\t\t\t\t</FABButton>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t{noImages ? undefined :\r\n\t\t\t\t\t\t\t<figure>\r\n\t\t\t\t\t\t\t\t{!this.state.loaded[index] ?\r\n\t\t\t\t\t\t\t\t\t<Spinner />\r\n\t\t\t\t\t\t\t\t:''}\r\n\t\t\t\t\t\t\t\t{!this.state.loaded[index] && alt ?\r\n\t\t\t\t\t\t\t\t\t<img src={alt.src} style={alt.style} />\r\n\t\t\t\t\t\t\t\t:''}\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tonClick={this.imageClicked}\r\n\t\t\t\t\t\t\t\t\tonLoad={e => this.imageLoaded(e, index)}\r\n\t\t\t\t\t\t\t\t\tonTouchEnd={this.imageClicked}\r\n\t\t\t\t\t\t\t\t\tsrc={images[index].src}\r\n\t\t\t\t\t\t\t\t\tstyle={{...style, ...imgStyle}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{noFooter ? undefined :\r\n\t\t\t\t\t\t\t\t\t<div className=\"mdl-lightbox__footer\">\r\n\t\t\t\t\t\t\t\t\t\t{positionIndicators}\r\n\t\t\t\t\t\t\t\t\t\t{imageCount}\r\n\t\t\t\t\t\t\t\t\t\t{figcaption}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t{noPreload || !this.state.loaded[index] ? undefined :\r\n\t\t\t\t\t\t\t<div className=\"mdl-lightbox__preload\" style={{width:0, height:0, overflow:'hidden', opacity:0}}>\r\n\t\t\t\t\t\t\t\t{images.map(({src}, i) => (i === index ? undefined :\r\n\t\t\t\t\t\t\t\t\t<img key={i} src={src} onLoad={e => this.imageLoaded(e, i)} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<FABButton className=\"mdl-lightbox__prev-button\" disabled={noRotate && (index === 0)} onClick={this.prev} onTouchEnd={this.prev}>\r\n\t\t\t\t\t\t<Icon name=\"navigate_before\" />\r\n\t\t\t\t\t</FABButton>\r\n\r\n\t\t\t\t\t<FABButton className=\"mdl-lightbox__next-button\" disabled={noRotate && (index === images.length - 1)} onClick={this.next} onTouchEnd={this.next}>\r\n\t\t\t\t\t\t<Icon name=\"navigate_next\" />\r\n\t\t\t\t\t</FABButton>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Mdl/mdl-extras.jsx\n **/","module.exports = require(\"react-redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-redux\"\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = require(\"redux-load-api\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-load-api\"\n ** module id = 19\n ** module chunks = 0\n **/","module.exports = require(\"ws.suid\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ws.suid\"\n ** module id = 20\n ** module chunks = 0\n **/","module.exports = require(\"react-router\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-router\"\n ** module id = 21\n ** module chunks = 0\n **/","import log from 'picolog';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nexport default class Scroller extends React.Component {\r\n\tstatic propTypes = {\r\n\t\t/**\r\n\t\t * The direction to scroll in, either 'vertical' or 'horizontal'.\r\n\t\t * Defaults to 'vertical'.\r\n\t\t */\r\n//\t\tdirection: React.PropTypes.oneOf(['vertical','horizontal']),\r\n\r\n\t\t/**\r\n\t\t * The items to be scrolled over.\r\n\t\t * Defaults to `{0:[]}`.\r\n\t\t *\r\n\t\t * An object mapping page indexes to arrays of items for those pages\r\n\t\t * that will be used as the initial data to load into the page buffer.\r\n\t\t * When paging is not used or only a single page is provided as initial\r\n\t\t * data, one can supply an array as shorthand for assigning an object\r\n\t\t * with only page 0 set:\r\n\t\t *\r\n\t\t * items = {[{..}, {..}, ..]}\r\n\t\t *\r\n\t\t * is equivalent to\r\n\t\t *\r\n\t\t * items = {{0: [{..}, {..}, ..]}}\r\n\t\t */\r\n\t\titems: React.PropTypes.oneOfType([\r\n\t\t\tReact.PropTypes.object,\r\n\t\t\tReact.PropTypes.array,\r\n\t\t]),\r\n\r\n\t\t/**\r\n\t\t * Default size of an item in the scroll direction, in pixels.\r\n\t\t * Defaults to 300.\r\n\t\t *\r\n\t\t * For a vertical scroller, set this to the height of each\r\n\t\t * item, for a horizontal scroller, the screen width is used.\r\n\t\t */\r\n\t\titemSize: React.PropTypes.number.isRequired,\r\n\r\n\t\t/**\r\n\t\t * Number of items to be rendered initially, before the component\r\n\t\t * is mounted.\r\n\t\t * Defaults to 12.\r\n\t\t *\r\n\t\t * This will determine how many items are rendered\r\n\t\t * during server-side rendering and hence how many items googlebot\r\n\t\t * will see when visiting the page.\r\n\t\t */\r\n\t\tinitialItemsInView: React.PropTypes.number,\r\n\r\n\t\t/**\r\n\t\t * Number of items shown per row/column.\r\n\t\t * Defaults to 1.\r\n\t\t *\r\n\t\t * For a vertical scroller, set this if there are multiple items per row,\r\n\t\t * for a horizontal scroller, if there are multiple items per column. You\r\n\t\t * must ensure that this setting corresponds with the actual situation.\r\n\t\t * If this setting differs from what is really happening, the scroll\r\n\t\t * calculations will be off and the behavior will break down.\r\n\t\t */\r\n//\t\titemsPer: React.PropTypes.number,\r\n\r\n\t\t/**\r\n\t\t * Size of buffer before the first visible item, defaults to 1.\r\n\t\t * Enables smoother scrolling by pre-rendering some items into a buffer area\r\n\t\t * just outside the visible viewport, causing images to be pre-loaded.\r\n\t\t * The number of items rendered before the first visible item will be\r\n\t\t * the value of this property, multiplied by `itemsPer`.\r\n\t\t */\r\n\t\tbufferBefore: React.PropTypes.number,\r\n\r\n\t\t/**\r\n\t\t * Size of buffer after the last visible item, defaults to 1.\r\n\t\t * Enables smoother scrolling by pre-rendering some items into a buffer area\r\n\t\t * just outside the visible viewport, causing images to be pre-loaded.\r\n\t\t * The number of items rendered after the last visible item will be\r\n\t\t * the value of this property, multiplied by `itemsPer`.\r\n\t\t */\r\n\t\tbufferAfter: React.PropTypes.number,\r\n\r\n\t\t/**\r\n\t\t * Whether to snap items to grid when scrolling comes to an end.\r\n\t\t *\r\n\t\t * NOT IMPLEMENTED YET. IMPLEMENTATION SHOULD BE BASED ON CSS Scroll Snap Points\r\n\t\t * http://www.w3.org/TR/css-snappoints-1/\r\n\t\t * Backed by a polyfill for non-compliant browsers (many still unfortunately)\r\n\t\t *\r\n\t\t * Reason: We want fluid native scrolling on iPhone.\r\n\t\t */\r\n\t\tsnap: React.PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * Render function accepting an item and it's index and returning\r\n\t\t * the markup for that item. This function should accept empty\r\n\t\t * objects for it's item parameter and return valid markup either way.\r\n\t\t */\r\n\t\trenderItem: React.PropTypes.func.isRequired, // function(item, index)\r\n\r\n\t\t/**\r\n\t\t * Function accepting an item and it's index and returning\r\n\t\t * an identifying key for that item. The key is used for technical\r\n\t\t * purposes. This function should accept null for it's item parameter\r\n\t\t * and return a valid key either way. If this function is not provided,\r\n\t\t * the key will default to `'item' + index`.\r\n\t\t */\r\n\t\tkeyForItem: React.PropTypes.func, // function(item, index)\r\n\r\n\t\t/**\r\n\t\t * Function accepting an item and it's index and returning\r\n\t\t * an identifying slug for that item. The slug is used for\r\n\t\t * bookmarking etc, so should preferably be human-friendly.\r\n\t\t * This function should accept null for it's item parameter\r\n\t\t * and return a valid slug either way. If this function is\r\n\t\t * not provided, the slug will default to `'item' + index`.\r\n\t\t */\r\n\t\tslugForItem: React.PropTypes.func, // function(item, index)\r\n\r\n\t\t/**\r\n\t\t * Time, in ms, to capture scroll events before processing them.\r\n\t\t * Defaults to 10.\r\n\t\t */\r\n\t\tscrollDebounce: React.PropTypes.number,\r\n\r\n\r\n\t\t/* PROPERTIES RELATED TO PAGING */\r\n\r\n\t\t/**\r\n\t\t * Total number of items available in the virtual scroller.\r\n\t\t * Defaults to `items[0].length`;\r\n\t\t *\r\n\t\t * When paging is enabled, set this to the total number of\r\n\t\t * items in the resultset. E.g. for a query with 9,287 results,\r\n\t\t * set this to 9287.\r\n\t\t */\r\n\t\titemCount: React.PropTypes.number,\r\n\r\n\t\t/**\r\n\t\t * The number of items per page.\r\n\t\t * Defaults to `items[0].length` (just one page with all items).\r\n\t\t *\r\n\t\t * When paging is enabled, set this to the number of items per\r\n\t\t * page. It will be used i.c.w. `itemCount` to determine the\r\n\t\t * number of pages in the resultset. You can supply more than\r\n\t\t * one page of data initially by setting `items` to an object\r\n\t\t * with the data for multiple pages.\r\n\t\t */\r\n\t\tpageSize: React.PropTypes.number,\r\n\r\n\t\t/**\r\n\t\t * The number of pages to buffer.\r\n\t\t * Defaults to 5 when `pageSize` is set, otherwise to 1.\r\n\t\t *\r\n\t\t * When the user scrolls to pages that are not in the buffer,\r\n\t\t * `pageFetch` will be called and it's results will be added\r\n\t\t * to the buffer. When the number of pages exceeds the number\r\n\t\t * of pages specified by this setting, those pages furthest\r\n\t\t * away from the user's current scroll position will be removed\r\n\t\t * from the buffer until this number is no longer exceeded.\r\n\t\t */\r\n\t\tpageBufferSize: React.PropTypes.number,\r\n\r\n\t\t/**\r\n\t\t * Function that fetches a page of results.\r\n\t\t *\r\n\t\t * When paging is enabled, the scroller will call `pageFetch`,\r\n\t\t * passing it the index of the page to fetch, whenever it needs\r\n\t\t * the data for a certain page but does not have it. This function\r\n\t\t * should return a Promise that yields an array with the results\r\n\t\t * for the given page index.\r\n\t\t *\r\n\t\t * The scroller will call `renderLoadingItem` when it needs to\r\n\t\t * render results from a page that has not been fetched yet.\r\n\t\t */\r\n\t\tpageFetch: React.PropTypes.func, // function(pageIndex)\r\n\r\n\t\t/**\r\n\t\t * Render function accepting an item index and returning markup\r\n\t\t * indicating that the item is still loading.\r\n\t\t *\r\n\t\t * This function is called when paging is enabled and the item to\r\n\t\t * be rendered is not (yet) available. If this function is not\r\n\t\t * provided, the system will fall back to calling `renderItem`\r\n\t\t * and providing an empty object as item parameter.\r\n\t\t */\r\n\t\trenderLoadingItem: React.PropTypes.func, // function(index)\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\titems: {0: []},\r\n\t\titemSize: 580,\r\n\t\tinitialItemsInView: 20,\r\n//\t\titemsPer: 1,\r\n\t\tbufferBefore: 1,\r\n\t\tbufferAfter: 1,\r\n\t\tscrollDebounce: 250,\r\n//\t\tdirection: 'vertical',\r\n\t\tsnap: false,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tlog.debug('Scroller', props);\r\n\t\tsuper(props); // direction, itemCount, items, itemSize, itemsPer\r\n\t\tthis.state = this.getState(props);\r\n\t\tthis.onScroll = this.onScroll.bind(this);\r\n\t}\r\n\r\n\tgetState(props) {\r\n\t\t// let dir = props.direction;\r\n\t\tlet win = typeof window == 'object' && window;\r\n\t\tlet w = win && window.innerWidth || 767;\r\n\t\tlet horizontal = win && w < 480;\r\n\t\tlet scroller = this.mounted ? ReactDOM.findDOMNode(this) : undefined;\r\n\t\tlet scrollPos = scroller ? getScrollPos(horizontal, scroller) : 0;\r\n\r\n\t\tlet initialItemsInView = this.props.initialItemsInView;\r\n\t\tlet items = props.items instanceof Array ? {0: props.items} : props.items;\r\n\t\tlet itemCount = props.itemCount !== undefined ? props.itemCount : items && items[0] && items[0].length || 0;\r\n\t\tlet itemSize = horizontal ? w : props.itemSize;\r\n\t\tlet itemsPer = !win ? 1 : (w > 1024 ? 3 : (w > 767 ? 2 : 1));\r\n\t\tlet bufferBefore = props.bufferBefore;\r\n\t\tlet bufferAfter = props.bufferAfter;\r\n\t\tlet containerCount = ~~(itemCount / itemsPer) + (~~(itemCount % itemsPer) ? 1 : 0);\r\n\r\n\t\tlet scrollerSize = scroller ? getSize(horizontal, scroller) : Math.min(initialItemsInView, containerCount) * itemSize;\r\n\t\tlet slider = this.refs.slider;\r\n\t\tlet sliderOffset = scroller ? posDifference(horizontal, slider, scroller) : 0;\r\n\t\tlet renderedItems = [];\r\n\r\n\t\tlet containersBefore = ~~(scrollPos / itemSize);\r\n\t\tlet bufBefore = Math.min(containersBefore, bufferBefore);\r\n\t\tlet skippedContainers = containersBefore - bufBefore;\r\n\t\tlet skippedItems = skippedContainers * itemsPer;\r\n\t\tlet firstIdx = skippedItems;\r\n\t\tlet containersInView = ~~(scrollerSize / itemSize) + (~~(scrollerSize % itemSize) ? 2 : 1)\r\n\t\tlet lastIdx = Math.min(firstIdx + containersInView * itemsPer + bufferAfter * itemsPer, itemCount - 1);\r\n\t\tfor (let i=firstIdx; i<=lastIdx; i++) {\r\n\t\t\tlet item = items[0][i] || null;\r\n\t\t\trenderedItems.push(item);\r\n\t\t}\r\n\t\tlet renderedContainerCount = ~~(renderedItems.length / itemsPer) + (~~(renderedItems.length % itemsPer) ? 1 : 0);\r\n\t\tlet sizeBefore = ~~(firstIdx / itemsPer) * itemSize;\r\n\t\tlet sizeItems = renderedContainerCount * itemSize;\r\n\t\tlet sizeAfter = containerCount * itemSize - sizeBefore - sizeItems;\r\n\r\n\t\treturn {\r\n\t\t\thorizontal,\r\n\t\t\trenderedItems,\r\n\t\t\tsizeBefore,\r\n\t\t\tsizeItems,\r\n\t\t\tsizeAfter,\r\n\t\t\titemSize,\r\n\t\t\t// scrollPos,\r\n\t\t\tfirstRenderedItemIndex: firstIdx,\r\n\t\t\tlastRenderedItemIndex: lastIdx,\r\n\t\t\tsize: scrollerSize,\r\n\t\t};\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tlog.debug('shouldComponentUpdate', nextProps, nextState);\r\n\t\tif (this.state.size !== nextState.size) return true;\r\n\t\tif (this.state.sizeBefore !== nextState.sizeBefore) return true;\r\n\t\tif (this.state.sizeAfter !== nextState.sizeAfter) return true;\r\n\t\tif (this.props.items.length !== nextProps.items.length) return true;\r\n\t\tif (!arraysEqual(this.state.renderedItems, nextState.renderedItems)) return true;\r\n\t\tif (!arraysEqual(this.props.items, nextProps.items)) return true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlog.debug('componentWillReceiveProps', nextProps);\r\n\t\tthis.setState(this.getState(nextProps));\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlog.debug('componentDidMount');\r\n\t\tthis.mounted = true;\r\n\t\tthis.onScrollDebounced = window.innerWidth < 480\r\n\t\t\t? debounce(this.onScroll, this.props.scrollDebounce, false)\r\n\t\t\t: this.onScroll;\r\n\t\tthis.setState(this.getState(this.props));\r\n\t\tReactDOM.findDOMNode(this).addEventListener('scroll', this.onScrollDebounced);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tlog.debug('componentWillUnmount');\r\n\t\tReactDOM.findDOMNode(this).removeEventListener('scroll', this.onScrollDebounced);\r\n\t\tthis.mounted = false;\r\n\t}\r\n\r\n\tonScroll() {\r\n\t\tlog.trace('onscroll');\r\n\t\tthis.setState(this.getState(this.props));\r\n\t}\r\n\r\n\trender() {\r\n\t\tlog.debug('render', this.props, this.state);\r\n\t\tlet slider={}, before={}, after={}, itm={};\r\n\t\tconst dim = (this.state.horizontal ? 'width' : 'height');\r\n\t\tslider[dim] = this.state.sizeBefore + this.state.sizeItems + this.state.sizeAfter;\r\n\t\tbefore[dim] = this.state.sizeBefore;\r\n\t\titm[dim] = this.state.itemSize;\r\n\t\tafter[dim] = this.state.sizeAfter;\r\n\t\treturn (\r\n\t\t\t<div className=\"Scroller\">\r\n\t\t\t\t<div className=\"ScrollSlider\" ref=\"slider\" style={slider}\r\n\t\t\t\t\t><div className=\"ScrollSpacer ScrollSpacerBefore\" ref=\"spacerBefore\" style={before}></div\r\n\t\t\t\t\t>{this.state.renderedItems.map((item, idx) => {\r\n\t\t\t\t\t\tidx = idx + this.state.firstRenderedItemIndex;\r\n\t\t\t\t\t\tconst key = this.props.keyForItem ? this.props.keyForItem(item, idx) : 'item' + idx;\r\n\t\t\t\t\t\tlet { renderItem } = this.props;\r\n\t\t\t\t\t\tif (item === null) {\r\n\t\t\t\t\t\t\tif (this.props.renderLoadingItem) {renderItem = this.props.renderLoadingItem;}\r\n\t\t\t\t\t\t\telse {item = {};}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// style={itm}\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<div className=\"ScrollItem\" key={key} style={itm}>{\r\n\t\t\t\t\t\t\t\trenderItem(item, idx)\r\n\t\t\t\t\t\t\t}</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}<div className=\"ScrollSpacer ScrollSpacerAfter\" ref=\"spacerAfter\" style={after}></div\r\n\t\t\t\t></div\r\n\t\t\t></div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction arraysEqual(a, b) {\r\n\tif (!a || !b) return false;\r\n\tif (a.length != b.length) return false;\r\n\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\tif (a[i] != b[i]) return false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction posFromWindow(horizontal, element) {\r\n\tconst dir = horizontal ? 'Left' : 'Top';\r\n\tif (!element || element === window) return 0;\r\n\treturn element['offset' + dir] + posFromWindow(horizontal, element.offsetParent);\r\n}\r\n\r\nfunction posDifference(horizontal, element, container) {\r\n\treturn posFromWindow(horizontal, element) - posFromWindow(horizontal, container);\r\n}\r\n\r\nfunction getSize(horizontal, element) {\r\n\tconst dir = horizontal ? 'Width' : 'Height';\r\n\treturn typeof element['inner' + dir] != 'undefined' ? element['inner' + dir] : element['client' + dir];\r\n}\r\n\r\nfunction getScrollPos(horizontal, element) {\r\n\tlet res;\r\n\tconst { axis, dir } = horizontal ? {axis:'X', dir:'Left'} : {axis:'Y', dir:'Top'};\r\n\tif (element === window) {\r\n\t\tres = window['page' + axis + 'Offset'];\r\n\t\tif (res == null) res = document.documentElement['scroll' + dir];\r\n\t\tif (res == null) res = document.body['scroll' + dir];\r\n\t}\r\n\telse {\r\n\t\tres = element['scroll' + axis];\r\n\t\tif (res == null) res = element['scroll' + dir];\r\n\t}\r\n\treturn (res == null) ? 0 : res;\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n\tif (!wait) return func;\r\n\tvar timeout;\r\n\treturn function() {\r\n\t\tvar context = this, args = arguments;\r\n\t\tvar later = function() {\r\n\t\t\ttimeout = null;\r\n\r\n\t\t\tif (!immediate) func.apply(context, args);\r\n\t\t};\r\n\t\tvar callNow = immediate && !timeout;\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t\tif (callNow) func.apply(context, args);\r\n\t};\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Scroller/Scroller.jsx\n **/","import log from 'picolog';\r\nimport { link } from 'redux-apis';\r\nimport Async from 'redux-async-api';\r\nimport { remote } from 'redux-fetch-api';\r\n\r\n\r\n@remote\r\nexport class SearchApi extends Async {\r\n\tstatic INITIAL_STATE = {\r\n\t\t...Async.INITIAL_STATE,\r\n\t\tfilter: {},\r\n\t\tresults:[],\r\n\t}\r\n\r\n\tstatic SET_FILTER = 'SET_FILTER';\r\n\tstatic SET_RESULTS = 'SET_RESULTS';\r\n\r\n\tconstructor(state = SearchApi.INITIAL_STATE) {\r\n\t\tsuper(state);\r\n\t\tthis.setHandler(SearchApi.SET_FILTER, (state, action) => ({...state, filter: action.payload}));\r\n\t\tthis.setHandler(SearchApi.SET_RESULTS, (state, action) => ({...state, results: action.payload}));\r\n\t\tObject.defineProperty(this, 'filter', {enumerable:true, get: () => this.getState().filter});\r\n\t\tObject.defineProperty(this, 'results', {enumerable:true, get: () => this.getState().results});\r\n\t}\r\n\r\n\tsetFilter(filter) {\r\n\t\treturn this.dispatch(this.createAction(SearchApi.SET_FILTER)(filter));\r\n\t}\r\n\r\n\tsetResults(results) {\r\n\t\tthis.dispatch(this.createAction(SearchApi.SET_RESULTS)(results));\r\n\t}\r\n\r\n\turl(filter) {\r\n\t\tconst keys = Object.keys(filter);\r\n\t\tlet result = '';\r\n\t\tfor (let key of keys) {\r\n\t\t\tresult += result ? '&' : '?';\r\n\t\t\tresult += encodeURIComponent(key) + '=' + encodeURIComponent(filter[key]);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tsearch() {\r\n\t\tlog.debug('search');\r\n\t\t// dispatch a function... redux-thunk will execute the function\r\n\t\treturn this.dispatch(() => {\r\n\t\t\tconst url = this.url(this.filter);\r\n\t\t\tthis.setBusy();\r\n\t\t\tlog.log('search: fetching ', url);\r\n\t\t\treturn this.fetch(url)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tlog.log('search: got response with status ', response.status);\r\n\t\t\t\t\tif (response && response.status === 200) {\r\n\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tlog.log('search: Got an error response ', response.status, response.statusText);\r\n\t\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tresponse.text().then(text => {\r\n\t\t\t\t\t\t\t\tlog.log('search: ', response.status, text);\r\n\t\t\t\t\t\t\t\tconst error = Error(text);\r\n\t\t\t\t\t\t\t\terror.status = response.status;\r\n\t\t\t\t\t\t\t\terror.statusText = response.statusText;\r\n\t\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(json => {\r\n\t\t\t\t\tlog.log('search: OK got ' + json.length + ' results');\r\n\t\t\t\t\tthis.setDone();\r\n\t\t\t\t\tthis.setResults(json);\r\n\t\t\t\t\treturn json;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tlog.info('search: error=', error);\r\n\t\t\t\t\treturn this.setError(error);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\nexport default SearchApi;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Search/api.jsx\n **/","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/core-js/promise\"\n ** module id = 24\n ** module chunks = 0\n **/","import Entity from '../Entity/Entity';\r\nimport Credential from './Credential';\r\n\r\n@Entity\r\nexport class PasswordCredential extends Credential {\r\n\tconstructor(id, password) {\r\n\t\tsuper(id)\r\n\t\tthis.password = password;\r\n\t}\r\n}\r\nexport default PasswordCredential;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Auth/PasswordCredential.jsx\n **/","import log from 'picolog';\r\nimport React, { Component, PropTypes } from 'react';\r\nconst { string, node, bool } = PropTypes;\r\nimport classNames from 'classnames';\r\n\r\nfunction simpleComponent(defaultClass) {\r\n\tconst result = (props) => {\r\n\t\tconst { className, defaultClass, children, ...otherProps } = props;\r\n\t\tconst classes = classNames(className, defaultClass);\r\n\t\treturn <div className={classes} {...otherProps}>{children}</div>;\r\n\t}\r\n\tresult.propTypes = {\r\n\t\tclassName: string,\r\n\t\tdefaultClass: string.isRequired,\r\n\t\tchildren: node,\r\n\t};\r\n\r\n\tresult.defaultProps = {\r\n\t\tdefaultClass: defaultClass,\r\n\t};\r\n\r\n\treturn result;\r\n}\r\n\r\nexport const CardTitle = simpleComponent('mdl-card__title');\r\nexport const SubtitleText = simpleComponent('mdl-card__subtitle-text');\r\nexport const CardMedia = simpleComponent('mdl-card__media');\r\nexport const SupportingText = simpleComponent('mdl-card__supporting-text');\r\nexport const CardActions = simpleComponent('mdl-card__actions');\r\nexport const CardFace = simpleComponent('mdl-card__face');\r\nexport const Front = simpleComponent(CardFace.defaultProps.defaultClass + ' mdl-card__front');\r\nexport const Back = simpleComponent(CardFace.defaultProps.defaultClass + ' mdl-card__back');\r\n\r\nexport class Card extends Component {\r\n\tstatic propTypes = {\r\n\t\tclassName: string,\r\n\t\tcardClass: string,\r\n\t\tshadowClass: string,\r\n\t\tflippedClass: string,\r\n\t\tflipped: bool,\r\n\t\tchildren: node,\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\tcardClass: 'mdl-card',\r\n\t\tshadowClass: 'mdl-shadow--2dp',\r\n\t\tflippedClass: 'is-flipped',\r\n\t\tflipped: false,\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { className, cardClass, shadowClass, flippedClass, flipped, children, ...others } = this.props;\r\n\t\tconst classes = classNames(className, cardClass, shadowClass, {[flippedClass]: flipped});\r\n\t\treturn (<div className={classes} {...others}>{children}</div>);\r\n\t}\r\n}\r\nexport default Card;\r\n\r\nexport class FlipCard extends Component {\r\n\tstatic propTypes = {\r\n\t\tflipped: bool.isRequired,\r\n\t\ttrigger: string.isRequired,\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\tflipped: false,\r\n\t\ttrigger: 'onClick',\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = this.getState(props);\r\n\t\tthis.flip = this.flip.bind(this);\r\n\t}\r\n\r\n\tgetState(props) {\r\n\t\treturn {flipped: this.state && this.state.flipped || props && props.flipped };\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tthis.setState(this.getState(nextProps));\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState(this.getState(this.props));\r\n\t}\r\n\r\n\tisFlipped() {\r\n\t\treturn this.state && this.state.flipped;\r\n\t}\r\n\r\n\tflip() {\r\n\t\tlog.debug('Card.flip():', !this.getState().flipped);\r\n\t\tthis.setState({ ...this.state, flipped:!this.isFlipped()});\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Card/Card.jsx\n **/","import log from 'picolog';\r\nimport Api from 'redux-apis';\r\n\r\nexport class TextfieldApi extends Api {\r\n\tstatic INITIAL_STATE = { value: '' };\r\n\r\n\tstatic SET_VALUE = 'SET_VALUE';\r\n\r\n\tconstructor(state = TextfieldApi.INITIAL_STATE) {\r\n\t\tsuper(state);\r\n\t\tthis.setHandler(TextfieldApi.SET_VALUE, (state, {payload}) => ({...state, value:payload}));\r\n\t\tObject.defineProperty(this, 'value', {enumerable:true, get: () => this.getState().value});\r\n\t\tObject.defineProperty(this, 'onChange', {enumerable:true, value:this.setValue.bind(this)});\r\n\t}\r\n\r\n\tsetValue(value) {\r\n\t\treturn this.dispatch(this.createAction(TextfieldApi.SET_VALUE)(value));\r\n\t}\r\n}\r\n\r\nexport class DrawerApi extends Api {\r\n\tstatic INITIAL_STATE = { open: false };\r\n\r\n\tstatic OPEN = 'OPEN';\r\n\tstatic CLOSE = 'CLOSE';\r\n\r\n\tconstructor(state = DrawerApi.INITIAL_STATE) {\r\n\t\tsuper(state);\r\n\t\tthis.setHandler(DrawerApi.OPEN, (state, action) => ({...state, open:true}));\r\n\t\tthis.setHandler(DrawerApi.CLOSE, (state, action) => ({...state, open:false}));\r\n\t\tObject.defineProperty(this, 'open', {enumerable:true, get: () => this.getState().open});\r\n\t\tObject.defineProperty(this, 'onCancel', {enumerable:true, value:this.closeDrawer.bind(this)});\r\n\t\tObject.defineProperty(this, 'onActivate', {enumerable:true, value:this.openDrawer.bind(this)});\r\n\t}\r\n\r\n\topenDrawer() {\r\n\t\tlog.debug('openDrawer');\r\n\t\treturn this.dispatch(this.createAction(DrawerApi.OPEN)());\r\n\t}\r\n\r\n\tcloseDrawer() {\r\n\t\tlog.debug('closeDrawer');\r\n\t\treturn this.dispatch(this.createAction(DrawerApi.CLOSE)());\r\n\t}\r\n}\r\n\r\nexport class LightboxApi extends Api {\r\n\tstatic INITIAL_STATE = {open:false, images:[], index:0};\r\n\r\n\tstatic OPEN = 'OPEN';\r\n\tstatic NEXT = 'NEXT';\r\n\tstatic PREV = 'PREV';\r\n\tstatic NAV = 'NAV';\r\n\tstatic CANCEL = 'CANCEL';\r\n\r\n\tconstructor(state = LightboxApi.INITIAL_STATE) {\r\n\t\tsuper(state);\r\n\r\n\t\tthis.setHandler(LightboxApi.OPEN, (state, { payload:{images, index } }) => ({ ...state, open:true, images, index }));\r\n\t\tthis.setHandler(LightboxApi.NEXT, ({ images, index, ...state }) => ({ ...state, images, index: index < images.length - 1 ? index + 1 : index }));\r\n\t\tthis.setHandler(LightboxApi.PREV, ({ index, ...state }) => ({ ...state, index: index > 0 ? index - 1 : index }));\r\n\t\tthis.setHandler(LightboxApi.NAV, ({ index, ...state }, {payload}) => ({ ...state, index:payload }));\r\n\t\tthis.setHandler(LightboxApi.CANCEL, (state, action) => ({ ...state, open:false, images:[], index:0 }));\r\n\r\n\t\tObject.defineProperty(this, 'open', {enumerable:true, get:() => this.getState() && this.getState().open});\r\n\t\tObject.defineProperty(this, 'index', {enumerable:true, get:() => this.getState() && this.getState().index});\r\n\t\tObject.defineProperty(this, 'images', {enumerable:true, get:() => this.getState() && this.getState().images});\r\n\t\tObject.defineProperty(this, 'onOpenLightbox', {enumerable:true, value:this.openLightbox.bind(this)});\r\n\t\tObject.defineProperty(this, 'onCancel', {enumerable:true, value:this.cancel.bind(this)});\r\n\t\tObject.defineProperty(this, 'onNext', {enumerable:true, value:this.next.bind(this)});\r\n\t\tObject.defineProperty(this, 'onPrev', {enumerable:true, value:this.prev.bind(this)});\r\n\t\tObject.defineProperty(this, 'onNav', {enumerable:true, value:this.nav.bind(this)});\r\n\t}\r\n\r\n\topenLightbox(images = [], index = 0) {\r\n\t\tlog.log('openLightbox', images, index);\r\n\t\treturn this.dispatch(this.createAction(LightboxApi.OPEN)({images, index}));\r\n\t}\r\n\r\n\tnext() {\r\n\t\tlog.log('next');\r\n\t\tthis.dispatch(this.createAction(LightboxApi.NEXT)());\r\n\t}\r\n\r\n\tprev() {\r\n\t\tlog.log('prev');\r\n\t\tthis.dispatch(this.createAction(LightboxApi.PREV)());\r\n\t}\r\n\r\n\tnav(idx) {\r\n\t\tlog.log('nav', idx);\r\n\t\tthis.dispatch(this.createAction(LightboxApi.NAV)(idx));\r\n\t}\r\n\r\n\tcancel() {\r\n\t\tlog.log('cancel');\r\n\t\tthis.dispatch(this.createAction(LightboxApi.CANCEL)());\r\n\t}\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Mdl/api.jsx\n **/","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/core-js/object/keys\"\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/helpers/defineProperty\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/defineProperty\"\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = require(\"react-dom\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-dom\"\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = require(\"react-dom/server\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-dom/server\"\n ** module id = 31\n ** module chunks = 0\n **/","module.exports = require(\"redux-async-api\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-async-api\"\n ** module id = 32\n ** module chunks = 0\n **/","var path = require('path');\r\n\r\nvar buildPath = path.resolve(__dirname);\r\nvar publicPath = path.resolve(__dirname, 'public');\r\nvar testPath = path.resolve(publicPath, 'test');\r\nvar pkg = require('./package.json');\r\n\r\nvar cfg = {\r\n\tversion: pkg.version,\r\n\tpublicPath: publicPath,\r\n\tbuildPath: buildPath,\r\n\tclient: {\r\n\t\tname: 'BridalApp UI Client',\r\n\t\tentry: './src/client',\r\n\t\toutput: {\r\n\t\t\tfilename: 'bridalapp-ui.js',\r\n\t\t\tpath: path.resolve(publicPath, 'assets'),\r\n\t\t\tpublicPath: '/assets/',\r\n\t\t},\r\n\t},\r\n\tserver: {\r\n\t\tname: 'BridalApp UI Server',\r\n\t\tprotocol: 'http://',\r\n\t\tprotocol: process.env.OPENSHIFT_NODEJS_PROTOCOL || 'http://',\r\n\t\thost: process.env.OPENSHIFT_NODEJS_IP || '0.0.0.0',\r\n\t\tport: process.env.OPENSHIFT_NODEJS_PORT || 80,\r\n\t\tpath: process.env.OPENSHIFT_NODEJS_PATH || '/',\r\n\t\tentry: './src/server',\r\n\t\toutput: {\r\n\t\t\tfilename: 'server.js',\r\n\t\t\tpath: '',\r\n\t\t},\r\n\t},\r\n\tapiServer: {\r\n\t\tname: 'BridalApp API Server',\r\n\t\tprotocol: process.env.BRIDALAPP_API_SERVER_PROTOCOL || 'http://',\r\n\t\thost: process.env.BRIDALAPP_API_SERVER_HOST || 'localhost',\r\n\t\tport: process.env.BRIDALAPP_API_SERVER_PORT || 8080,\r\n\t\tpath: process.env.BRIDALAPP_API_SERVER_PATH || '/api',\r\n\t},\r\n\ttests: {\r\n\t\tname: 'BridalApp UI Tests',\r\n\t\tentry: './src/tests',\r\n\t\toutput: {\r\n\t\t\tfilename: 'bridalapp-ui-tests.js',\r\n\t\t\tpath: path.resolve(testPath, 'assets'),\r\n\t\t\tpublicPath: '/test/assets/',\r\n\t\t},\r\n\t}\r\n};\r\n\r\ncfg.server.url = url(cfg.server);\r\ncfg.apiServer.url = url(cfg.apiServer);\r\n\r\nmodule.exports = cfg;\r\n\r\nfunction url(srv) {\r\n\treturn srv.protocol + srv.host + (srv.port == '80' ? '' : ':' + srv.port) + srv.path;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./config.js\n ** module id = 33\n ** module chunks = 0\n **/","import log from 'picolog';\r\nimport React, { Component, PropTypes } from 'react';\r\nconst { bool, number, object, func, array, shape, any } = PropTypes;\r\nimport { Link } from 'react-router';\r\nimport { onload } from 'redux-load-api';\r\nimport { connect } from 'react-redux';\r\nimport { Layout, Header, Navigation, Content, Button } from 'react-mdl';\r\nimport { LayoutTitle, Drawer, Lightbox } from '../Mdl/mdl-extras';\r\n//import { Lightbox } from '../Gallery/Lightbox';\r\nimport AuthDialog from '../Auth/AuthDialog';\r\nimport app from './api';\r\n\r\n@connect(app.connector)\r\nexport class App extends Component {\r\n\tstatic propTypes = {\r\n\t\tauth: shape({\r\n\t\t\tloggedIn: bool,\r\n\t\t\tuser: object,\r\n\t\t\tchallenged: bool,\r\n\t\t\tload: func,\r\n\t\t}),\r\n\t\tleftDrawer: object,\r\n\t\trightDrawer: object,\r\n\t\tlightbox: object,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tlog.debug('constructor', props);\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlog.debug('componentDidMount');\r\n\t\tapp.auth.loadUser();\r\n\t}\r\n\r\n\trender() {\r\n\t\tlog.debug('render', this.props);\r\n\t\tconst { auth, leftDrawer, rightDrawer, lightbox, children } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"mdl-layout mdl-layout--fixed-header\"><div className=\"mdl-layout__inner-container\">\r\n\t\t\t\t<header className=\"AppBar mdl-layout__header is-casting-shadow\">\r\n\t\t\t\t\t<div tabIndex=\"0\" className=\"mdl-layout__drawer-button\" onClick={leftDrawer.onActivate}>\r\n\t\t\t\t\t\t<i className=\"material-icons\">menu</i>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"mdl-layout__header-row\">\r\n\t\t\t\t\t\t<img className=\"logo\" src=\"https://cdn.rawgit.com/download/bridalapp-static/1.0.0/bridalapp/logo-bridalapp.png\" />\r\n\r\n\t\t\t\t\t\t<div className=\"mdl-layout-spacer\"></div>\r\n\r\n\t\t\t\t\t\t{false ? <Navigation className=\"ActionBar\">\r\n\t\t\t\t\t\t\t<p style={{color:'black'}} onClick={()=>{\r\n\t\t\t\t\t\t\t}}>{auth.loggedIn && auth.user.name || 'anon'}</p>\r\n\t\t\t\t\t\t</Navigation> : undefined}\r\n\r\n\t\t\t\t\t\t{false ? <Navigation className=\"RightDrawer\">\r\n\t\t\t\t\t\t\t{!rightDrawer.open ? (\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\" onClick={rightDrawer.onActivate}>account_circle</i>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Navigation> : undefined}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t<Drawer\tmodal autoClose {...leftDrawer}>\r\n\t\t\t\t\t<LayoutTitle>\r\n\t\t\t\t\t\t<img className=\"logo\" src=\"https://cdn.rawgit.com/download/bridalapp-static/1.0.0/bridalapp/logo-bridalapp.png\" />\r\n\t\t\t\t\t</LayoutTitle>\r\n\t\t\t\t\t<Navigation>\r\n\t\t\t\t\t\t<Link to=\"/products\">Wedding Dresses</Link>\r\n\t\t\t\t\t\t<Link to=\"/stores\">Bridal Stores</Link>\r\n\t\t\t\t\t\t<Link to=\"/brands\">Bridal Brands</Link>\r\n\t\t\t\t\t</Navigation>\r\n\t\t\t\t</Drawer>\r\n\r\n\t\t\t\t<Drawer right modal autoClose {...rightDrawer}>\r\n\t\t\t\t\t<LayoutTitle>{auth.user ?\r\n\t\t\t\t\t\t<h4>{auth.user.name} <Button onClick={auth.onLogout}>Logout</Button></h4>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Button onClick={auth.onProvoke}>Login</Button>\r\n\t\t\t\t\t}</LayoutTitle>\r\n\t\t\t\t\t<Navigation>\r\n\t\t\t\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t\t\t\t<Link to=\"/products\">Products</Link>\r\n\t\t\t\t\t\t<Link to=\"/stores\">Stores</Link>\r\n\t\t\t\t\t\t<Link to=\"/brands\">Brands</Link>\r\n\t\t\t\t\t</Navigation>\r\n\t\t\t\t</Drawer>\r\n\r\n\t\t\t\t<Content className=\"main\">\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Content>\r\n\r\n\t\t\t\t<AuthDialog {...auth} />\r\n\r\n\t\t\t\t<Lightbox noNextOnClick noImageCount {...lightbox} />\r\n\t\t\t</div></div>\r\n\t\t);\r\n/*\t\t\t<Layout fixedHeader>\r\n\t\t\t\t<LoginDialog open={!!auth.challenge} api={api.auth}/>\r\n\t\t\t\t<Header className=\"AppBar\" title=\"Title\">\r\n\t\t\t\t\t<img className=\"logo\" src=\"https://cdn.rawgit.com/download/bridalapp-static/1.0.0/bridalapp/logo-bridalapp.png\" />\r\n\t\t\t\t\t<Navigation className=\"ActionBar\">\r\n\t\t\t\t\t\t<p>this.props.appbar</p>\r\n\t\t\t\t\t</Navigation>\r\n\t\t\t\t\t<Navigation className=\"RightDrawer\">\r\n\t\t\t\t\t\t{!rightDrawer.open ? (\r\n\t\t\t\t\t\t\t<i className=\"material-icons\" onClick={()=>api.rightDrawer.open()}>account_circle</i>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Navigation>\r\n\t\t\t\t</Header>\r\n\t\t\t\t<Drawer api={api.leftDrawer} onClose={()=>api.leftDrawer.close()} open={leftDrawer.open}>\r\n\t\t\t\t\t<LayoutTitle><h2>Title</h2></LayoutTitle>\r\n\t\t\t\t\t<Navigation>\r\n\t\t\t\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t\t\t\t<Link to=\"/products\">Products</Link>\r\n\t\t\t\t\t\t<Link to=\"/stores\">Stores</Link>\r\n\t\t\t\t\t\t<Link to=\"/brands\">Brands</Link>\r\n\t\t\t\t\t</Navigation>\r\n\t\t\t\t</Drawer>\r\n\t\t\t\t<Drawer align=\"right\" onClose={()=>api.rightDrawer.close()} open={rightDrawer.open}>\r\n\t\t\t\t\t<LayoutTitle>{auth.user ?\r\n\t\t\t\t\t\t<h2>{auth.user.name}</h2>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Button onClick={() => {\r\n\t\t\t\t\t\t\tapi.rightDrawer.close();\r\n\t\t\t\t\t\t\tapi.auth.challenge('/challenge')\r\n\t\t\t\t\t\t}}>Login</Button>\r\n\t\t\t\t\t}</LayoutTitle>\r\n\t\t\t\t\t<Navigation>\r\n\t\t\t\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t\t\t\t<Link to=\"/products\">Products</Link>\r\n\t\t\t\t\t\t<Link to=\"/stores\">Stores</Link>\r\n\t\t\t\t\t\t<Link to=\"/brands\">Brands</Link>\r\n\t\t\t\t\t</Navigation>\r\n\t\t\t\t</Drawer>\r\n\t\t\t\t<Content className=\"main\">\r\n\t\t\t\t\t<div>{children}</div>\r\n\t\t\t\t</Content>\r\n\t\t\t</Layout>\r\n\r\n\t\t);\r\n*/\r\n\t}\r\n}\r\n\r\n/*\r\n\t\t\t\t{auth.challenge ? <div className=\"LoginDialog\">LOGIN DIALOG</div>:''}\r\n\t\t\t\t{auth.challenge ? <LayoutObfuscator className=\"is-visible\" onClick={() => {\r\n\t\t\t\t\tlog.debug('login dialog obfuscator clicked');\r\n\t\t\t\t\tapi.auth.cancel();\r\n\t\t\t\t}} /> :''}\r\n*/\r\n\r\nexport default App;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/App/App.jsx\n **/","import Entity from '../Entity/Entity';\r\nimport Role from './Role';\r\nimport Group from './Group';\r\nimport PasswordCredential from './PasswordCredential';\r\n\r\nimport Suid from 'ws.suid';\r\n\r\n@Entity\r\nexport class Account {\r\n\tconstructor(id, name, credentials=[], roles=[Role.USER], groups=[]) {\r\n\t\tthis.id = id && new Suid(id) || new Suid(0);\r\n\t\tthis.version = null;\r\n\t\tthis.name = name;\r\n\t\tthis.credentials = credentials;\r\n\t\tthis.roles = roles;\r\n\t\tthis.groups = groups;\r\n\t}\r\n}\r\nexport default Account;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Auth/Account.jsx\n **/","import log from 'picolog';\r\nimport React, { PropTypes, Component } from 'react';\r\nconst { string, bool, object, func, array, shape } = PropTypes;\r\nimport { Tabs, Tab, Button, DialogTitle, DialogContent, DialogActions } from 'react-mdl';\r\nlog.assert(Button && DialogTitle && DialogContent && DialogActions, 'Not all react-mdl components are defined.');\r\nimport classNames from 'classnames';\r\n\r\nimport { Dialog, Textfield } from '../Mdl/mdl-extras';\r\nlog.assert(Dialog && Textfield, 'Not all react-mdl-extras components are defined.');\r\n\r\nexport class AuthDialog extends Component {\r\n\tstatic propTypes = {\r\n\t\tdefaultClass: string.isRequired,\r\n\t\tclassName: string,\r\n\t\tchallenged: bool,\r\n\t\tloginDialog: object,\r\n\t\tregisterDialog: object,\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\tdefaultClass: 'AuthDialog',\r\n\t}\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { activeTab: 0 };\r\n\t}\r\n\r\n\trender() {\r\n\t\tlog.log('render', this.props);\r\n\t\tconst { className, defaultClass, challenged, onCancel, onLogin, onRegister, loginDialog, registerDialog, ...props } = this.props;\r\n\t\tconst classes = classNames(className, defaultClass);\r\n\t\treturn (\r\n\t\t\t<Dialog modal className={classes} open={challenged} onCancel={onCancel} {...props}>\r\n\t\t\t\t<Tabs activeTab={this.state.activeTab}\r\n\t\t\t\t\tonChange={(activeTab) => {this.setState({...this.state, activeTab})}} ripple>\r\n\t\t\t\t\t<Tab>&nbsp; Login &nbsp;</Tab>\r\n\t\t\t\t\t<Tab>Register</Tab>\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t{ !this.state.activeTab ?\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<p><b>Login</b> or <a href=\"#\" onClick={() => this.setState({...this.state, activeTab:1})}>create an account</a>.</p>\r\n\t\t\t\t\t\t<form className=\"LoginForm\">\r\n\t\t\t\t\t\t\t<Textfield name=\"username\" label=\"Username\" floatingLabel {...loginDialog.username} />\r\n\t\t\t\t\t\t\t<Textfield name=\"password\" label=\"Password\" floatingLabel {...loginDialog.password} />\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t:\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<p><b>Create an account</b> or <a href=\"#\" onClick={() => this.setState({...this.state, activeTab:0})}>Login</a>.</p>\r\n\t\t\t\t\t\t<form className=\"RegistrationForm\">\r\n\t\t\t\t\t\t\t<Textfield name=\"username\" label=\"Username\" floatingLabel {...registerDialog.username} />\r\n\t\t\t\t\t\t\t<Textfield name=\"password\" label=\"Password\" floatingLabel {...registerDialog.password} />\r\n\t\t\t\t\t\t\t<Textfield name=\"passwordConfirm\" label=\"Password (confirm)\" floatingLabel {...registerDialog.confirm}/>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t}\r\n\t\t\t\t{ !this.state.activeTab ?\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button raised colored onClick={onLogin}> &nbsp; Login &nbsp; </Button>\r\n\t\t\t\t\t\t<Button onClick={onCancel}>Cancel</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t:\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button raised colored onClick={onRegister}>Register</Button>\r\n\t\t\t\t\t\t<Button onClick={onCancel}>Cancel</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t}\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default AuthDialog;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Auth/AuthDialog.jsx\n **/","export class Credential {\r\n\tconstructor(id) {\r\n\t\tthis.id = id;\r\n\t}\r\n}\r\n\r\nexport default Credential;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Auth/Credential.jsx\n **/","import Entity from '../Entity/Entity';\r\n\r\n@Entity\r\nexport class Group {\r\n\tconstructor(id, name) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\nexport default Group;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Auth/Group.jsx\n **/","import Entity, { fromJSON } from '../Entity/Entity';\r\nimport Suid from 'ws.suid';\r\n\r\n@Entity\r\nexport class Role {\r\n\tconstructor(id, name) {\r\n\t\tthis.id = new Suid(id);\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\nRole.GUEST = new Role(1, 'Guest');\r\nRole.USER = new Role(2, 'User');\r\nRole.STORE_USER = new Role(3, 'Store-User');\r\nRole.STORE_MANAGER = new Role(4, 'Store-Manager');\r\nRole.BRAND_USER = new Role(5, 'Brand-User');\r\nRole.BRAND_MANAGER = new Role(6, 'Brand-Manager');\r\nRole.BRAUTSCHLOSS_USER = new Role(7, 'Brautschloss-User');\r\nRole.BRAUTSCHLOSS_MANAGER = new Role(8, 'Brautschloss-Manager');\r\nRole.ADMINISTRATOR = new Role(9, 'Administrator');\r\nexport default Role;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Auth/Role.jsx\n **/","import log from 'picolog';\r\nimport Api, { link } from 'redux-apis';\r\nimport Async from 'redux-async-api';\r\nimport { remote } from 'redux-fetch-api';\r\n\r\nimport { TextfieldApi } from '../Mdl/api';\r\nimport { fromJSON } from '../Entity/Entity';\r\n\r\nimport Suid from 'ws.suid';\r\nimport PasswordCredential from './PasswordCredential';\r\nimport Account from './Account';\r\n\r\nexport class LoginDialogApi extends Api {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t\tthis.username = link(this, new TextfieldApi());\r\n\t\tthis.username.type = 'text';\r\n//\t\tthis.username.pattern = '\\s*\\S.{1,}\\S\\s*';\r\n\t\tthis.password = link(this, new TextfieldApi());\r\n\t\tthis.password.type = 'password';\r\n//\t\tthis.password.pattern = '\\s*\\S.{5,}\\S\\s*';\r\n\t}\r\n\r\n}\r\n\r\nexport class RegisterDialogApi extends Api {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t\tthis.username = link(this, new TextfieldApi());\r\n\t\tthis.username.type = 'text';\r\n//\t\tthis.username.pattern = '\\s*\\S.{1,}\\S\\s*';\r\n\t\tthis.password = link(this, new TextfieldApi());\r\n\t\tthis.password.type = 'password';\r\n//\t\tthis.password.pattern = '\\s*\\S.{5,}\\S\\s*';\r\n\t\tthis.confirm = link(this, new TextfieldApi());\r\n\t\tthis.confirm.type = 'password';\r\n//\t\tthis.confirm.pattern = '\\s*\\S.{5,}\\S\\s*';\r\n\t}\r\n}\r\n\r\n@remote\r\nexport class Auth extends Async {\r\n\tstatic CHALLENGE = 'AUTH_CHALLENGE';\r\n\tstatic LOGGED_IN = 'LOGGED_IN';\r\n\tstatic LOGGED_OUT = 'LOGGED_OUT';\r\n\tstatic CANCEL = 'CANCEL_AUTH';\r\n\r\n\tstatic INITIAL_STATE = {\r\n\t\t...Async.INITIAL_STATE,\r\n\t\tuser: null,\r\n\t\tchallenge: null,\r\n\t};\r\n\r\n\tconstructor(state = Auth.INITIAL_STATE) {\r\n\t\tsuper(state);\r\n\t\tthis.setHandler(Auth.CHALLENGE, (state, {payload}) => ({...state, challenge:payload}));\r\n\t\tthis.setHandler(Auth.LOGGED_IN,\t(state, {payload}) => ({...state, user:payload, challenge:null}));\r\n\t\tthis.setHandler(Auth.LOGGED_OUT, (state, action) => ({...state, user:null, challenge:null}));\r\n\t\tthis.setHandler(Auth.CANCEL, (state, action) => ({...state, challenge:null}));\r\n\t\tObject.defineProperty(this, 'loggedIn', {enumerable:true, get: () => !!this.user});\r\n\t\tObject.defineProperty(this, 'challenged', {enumerable:true, get: () => !!(this.challenge() && this.challenge().url && !this.challenge().accepted)});\r\n\t\tObject.defineProperty(this, 'user', {enumerable:true, get: () => this.getState().user});\r\n\t\tObject.defineProperty(this, 'onProvoke', {enumerable:true, value: () => this.provoke()});\r\n\t\tObject.defineProperty(this, 'onCancel', {enumerable:true, value: () => this.cancel()});\r\n\t\tObject.defineProperty(this, 'onLogin', {enumerable:true, value: () => this.login()});\r\n\t\tObject.defineProperty(this, 'onLogout', {enumerable:true, value: () => this.logout()});\r\n\t\tObject.defineProperty(this, 'onRegister', {enumerable:true, value: () => this.register()});\r\n\t\tthis.loginDialog = link(this, new LoginDialogApi())\r\n\t\tthis.registerDialog = link(this, new RegisterDialogApi())\r\n\t}\r\n\r\n\tloadUser() {\r\n\t\tlog.log('loadUser()');\r\n\t\tthis.setBusy();\r\n\t\treturn fetchUser(this).catch().then(user => {\r\n\t\t\tthis.setDone();\r\n\t\t\treturn user;\r\n\t\t});\r\n\t}\r\n\r\n\tlogin(username, password) {\r\n\t\tif (username === undefined) {return this.login(this.loginDialog.username.value, this.loginDialog.password.value);}\r\n\r\n\t\tfunction remoteLogin(auth, challenge) {\r\n\t\t\tlog.debug('remoteLogin', auth, challenge);\r\n\t\t\treturn auth.fetch(challenge.url, {\r\n\t\t\t\tmethod: challenge.method,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': challenge.contentType,\r\n\t\t\t\t},\r\n\t\t\t\tbody: encode(challenge, username, password),\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tlog.debug('remoteLogin => ', response);\r\n\t\t\t\treturn fetchUser(auth).then(() => {\r\n\t\t\t\t\tauth.setDone();\r\n\t\t\t\t\tchallenge.resolve(response);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tauth.setError(error);\r\n\t\t\t\tchallenge.reject(error);\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (this.loggedIn) {\r\n\t\t\tlog.log('Already logged in as `' + this.user.name + '`: ', this.user);\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setBusy();\r\n\t\treturn this.dispatch(() => {\r\n\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\tif (! this.challenge()) {\r\n\t\t\t\t\tlog.debug('Provoking login challenge');\r\n\t\t\t\t\treturn this.provoke()\r\n\t\t\t\t\t\t.then(challenge => challenge.accepted = true)\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tlog.debug('Server issued a login challenge');\r\n\t\t\t\t\t\t\treturn remoteLogin(this, this.challenge()).then(resolve).catch(reject);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn remoteLogin(this, this.challenge()).then(resolve).catch(reject);\r\n\t\t\t}).then((results) => {log.info('Login', this.user); return results;});\r\n\t\t\tlog.debug('Posting credentials to ', challenge.url);\r\n\t\t});\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tlog.info('logout', this.user);\r\n\t\treturn this.dispatch(() => {\r\n\t\t\tthis.setBusy();\r\n\t\t\tthis.cancel();\r\n\t\t\treturn this.fetch('/logout').catch().then(() => {\r\n\t\t\t\tthis.setDone();\r\n\t\t\t\tthis.dispatch(this.createAction(Auth.LOGGED_OUT)());\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tregister(username, password, confirm) {\r\n\t\tif (username === undefined) {return this.register(this.registerDialog.username.value, this.registerDialog.password.value, this.registerDialog.confirm.value);}\r\n\r\n\t\tlog.log('register', username, password, confirm);\r\n\t\tthis.setBusy();\r\n\t\treturn this.dispatch(() => {\r\n\t\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\t\tconst account = new Account(\r\n\t\t\t\t\tSuid.next(),\r\n\t\t\t\t\tusername,\r\n\t\t\t\t\t[new PasswordCredential(Suid.next(), password)]\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlog.log('register: creating account', account);\r\n\t\t\t\treturn this.fetch('/accounts', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify(account),\r\n\t\t\t\t})\r\n\t\t\t\t.then(response => response.text())\r\n\t\t\t\t.then(text => fromJSON(text))\r\n\t\t\t\t.then(account => {\r\n\t\t\t\t\tlog.log('register: created account', account);\r\n\t\t\t\t\tthis.login(username, password).then(result => {\r\n\t\t\t\t\t\tthis.setDone();\r\n\t\t\t\t\t\tresolve(result);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tthis.setError(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.setError(error);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.setError(error);\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tcancel() {\r\n\t\tlog.debug('cancel');\r\n\t\treturn this.dispatch(() => {\r\n\t\t\tif (this.challenge()) {\r\n\t\t\tconst { reject } = this.challenge();\r\n\t\t\t\tconst error = Error('Login/registration cancelled');\r\n\t\t\t\tthis.setError(error);\r\n\t\t\t\tthis.dispatch(this.createAction(Auth.CANCEL)());\r\n\t\t\t\tif (reject) {reject(error);}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprovoke() {\r\n\t\t// provoke a login challenge, async\r\n\t\t// provoke a challenge by fetching url\r\n\t\tlog.debug('Provoking a login challenge by fetching protected resource.');\r\n\t\treturn this.dispatch(()=>{\r\n\t\t\treturn new Promise((accept, deny) => {\r\n\t\t\t\t// set up intermediate challenge to make accept and deny survive the round-trip\r\n\t\t\t\tthis.challenge({}, accept, deny);\r\n\t\t\t\t// this fetch will result in 401 and be intercepted, after which\r\n\t\t\t\t// challenge will be called again with the actual server challenge\r\n\t\t\t\tthis.fetch('/challenge')\r\n\t\t\t\t\t.catch(error => log.log('Provoking login challenge failed.', error))\r\n\t\t\t\t\t.catch(deny);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tchallenge(challenge, resolve, reject) {\r\n\t\tlog.debug('challenge', challenge, resolve, reject);\r\n\t\t// paramless invocation is sync\r\n\t\tif (!challenge) {return this.getState().challenge}\r\n\t\t// only accept challenges on the client side\r\n\t\tif (typeof window != 'object') {reject(new Error('Unauthorized'));}\r\n\r\n\t\t// reject any old login challenge\r\n\t\tconst c = this.getState().challenge;\r\n\t\tif (c && c.url) {c.reject(new Error(\"Login challenge cancelled\"));}\r\n\r\n\t\t// dispatch the challenge\r\n\t\tchallenge.resolve = resolve;\r\n\t\tchallenge.reject = reject;\r\n\t\tlog.debug('dispatching challenge', challenge);\r\n\t\tthis.dispatch(this.createAction(Auth.CHALLENGE)(challenge));\r\n\r\n\t\t// If there is an old, forced challenge\r\n\t\tif (c && !c.url) {\r\n\t\t\t// save whether it was manually provoked\r\n\t\t\tchallenge.provoked = c.provoked;\r\n\t\t\t// if new challenge is login challenge (does have url), forcing challenge is now resolved\r\n\t\t\tif (challenge.url) {c.resolve && c.resolve(challenge);}\r\n\t\t}\r\n\t}\r\n}\r\nexport default Auth;\r\n\r\nfunction encode(challenge, username, password) {\r\n\tif (challenge.contentType === 'application/x-www-form-urlencoded') {\r\n\t\treturn urlEncode(challenge, username, password);\r\n\t}\r\n\telse {\r\n\t\terror = Error(`Unable to encode the given credentials. Unsupported content type '${challenge.contentType}'.`);\r\n\t}\r\n}\r\n\r\nfunction fetchUser(auth) {\r\n\tlog.debug('fetchUser');\r\n\treturn auth.fetch('/logged-in-account')\r\n\t\t.then(response => {\r\n\t\t\tlog.log('fetchUser => response=', response);\r\n\t\t\treturn response.status == 200 && response.json();\r\n\t\t})\r\n\t\t.then(user => {\r\n\t\t\tlog.debug('fetchUser => user=', user);\r\n\t\t\tif (user && !auth.loggedIn) {\r\n\t\t\t\tlog.debug('Dispatching LOGGED_IN action', user);\r\n\t\t\t\tauth.dispatch(auth.createAction(Auth.LOGGED_IN)(user));\r\n\t\t\t}\r\n\t\t\telse if (!user && auth.loggedIn) {\r\n\t\t\t\tlog.debug('Dispatching LOGGED_OUT action');\r\n\t\t\t\tauth.dispatch(auth.createAction(Auth.LOGGED_OUT)());\r\n\t\t\t}\r\n\t\t\treturn user;\r\n\t\t})\r\n\t\t.catch(error => log.error('fetchUser aborted due to error.', error));\r\n}\r\n\r\nfunction urlEncode(challenge, username, password) {\r\n\tconst uf = encodeURIComponent(challenge.usernameField);\r\n\tconst u = encodeURIComponent(username);\r\n\tconst pf = encodeURIComponent(challenge.passwordField);\r\n\tconst p = encodeURIComponent(password);\r\n\treturn `${uf}=${u}&${pf}=${p}`;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Auth/api.jsx\n **/","import log from 'picolog';\r\nimport React, { Component, PropTypes } from 'react';\r\nconst { bool, object, array, any } = PropTypes;\r\nimport { connect } from 'react-redux';\r\nimport { onload } from 'redux-load-api';\r\n\r\nimport app from '../App/api';\r\nimport Scroller from '../Scroller/Scroller';\r\nimport Card, { Front, Back } from '../Card/Card';\r\nimport BrandCard from './BrandCard'\r\n\r\nfunction load(filter) {\r\n\tfilter && app.brands.search.setFilter(filter);\r\n\treturn app.brands.search.search()\r\n\t\t.catch((error) => {\r\n\t\t\tlog.error('Searching stores failed.', error);\r\n\t\t});\r\n}\r\n\r\n@onload(params => load(params))\r\n@connect((state, props) => ({...props, lightbox:app.lightbox, ...app.brands.search}))\r\nexport default class BrandBrowser extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tparams: object.isRequired,\r\n\t\tlightbox: object.isRequired,\r\n\t\tfilter: object.isRequired,\r\n\t\tresults: array.isRequired,\r\n\t\tpending: bool,\r\n\t\terror: any,\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tlog.log('componentDidMount()');\r\n\t\tconst { pending, error, params } = this.props;\r\n\t\tif (pending || error) {load(params)}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { results, lightbox } = this.props;\r\n\t\treturn (\r\n\t\t\t<Scroller\r\n\t\t\t\tclassName={'BrandBrowser '}\r\n\t\t\t\tbufferBefore={2}\r\n\t\t\t\titems={results}\r\n\t\t\t\tbufferAfter={4}\r\n\t\t\t\trenderItem ={ (item, idx) => (\r\n\t\t\t\t\t<BrandCard brand={item} {...lightbox} />\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Brands/BrandBrowser.jsx\n **/","import log from 'picolog';\r\nimport React, { Component, PropTypes } from 'react';\r\nconst { any, bool, string, object, func, shape } = PropTypes;\r\nimport classNames from 'classnames';\r\n\r\nimport { Card, CardTitle } from 'react-mdl';\r\nimport { StatefulFlipCard, FrontFace, BackFace } from '../Mdl/mdl-extras';\r\n\r\nexport class BrandCard extends Component {\r\n\tstatic propTypes = {\r\n\t\tbrand: shape({\r\n\t\t\tid: any,\r\n\t\t\tname: string,\r\n\t\t}).isRequired,\r\n\t\tonOpenLightbox: func.isRequired,\r\n\t};\r\n\r\n\tconstructor(...props) {\r\n\t\tsuper(...props);\r\n\t}\r\n\r\n\tthumbnailClicked(images, index, event) {\r\n\t\tconst { onOpenLightbox } = this.props;\r\n\t\tif (onOpenLightbox) {onOpenLightbox(images, index, event);}\r\n\t\tif (event) {event.preventDefault(); event.stopPropagation();}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { brand: { id, name } } = this.props;\r\n\t\tconst img = 'data:image/gif;base64,R0lGODlhAgADAIAAAP///////yH5BAEKAAEALAAAAAACAAMAAAICjF8AOw==';\r\n\t\tconst prdUrl = `https://cdn.rawgit.com/Download/bridalapp-static/1.0.0/products/${id}/Brand`;\r\n\t\tconst brandUrl = `https://cdn.rawgit.com/Download/bridalapp-static/1.0.0/brands/${id}/logo-brand-name.png`;\r\n\t\tconst thumbs = `${prdUrl}/thumbs.jpg`;\r\n\t\tconst thumbnail = 'data:image/gif;base64,R0lGODlhAgADAIAAAP///////yH5BAEKAAEALAAAAAACAAMAAAICjF8AOw==';\r\n\t\tconst images = [\r\n\t\t\t{src: `${prdUrl}/back-large.jpg`, className:'back'},\r\n\t\t\t{src: `${prdUrl}/front-large.jpg`, className:'front'},\r\n\t\t\t{src: `${prdUrl}/detail-1-large.jpg`, className:'detail-1'},\r\n\t\t\t{src: `${prdUrl}/detail-2-large.jpg`, className:'detail-2'},\r\n\t\t\t{src: `${prdUrl}/detail-3-large.jpg`, className:'detail-3'},\r\n\t\t];\r\n\r\n\t\treturn (\r\n\t\t\t<StatefulFlipCard className=\"Product\" key={id}>\r\n\t\t\t\t<FrontFace>\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t<img className=\"ProductImage\" src={img} style={{backgroundImage: `url(${thumbs})`, height:'100%'}} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FrontFace>\r\n\t\t\t\t<BackFace>\r\n\t\t\t\t\t<CardTitle>\r\n\t\t\t\t\t\t<img className=\"BrandLogo\" src={brandUrl} />\r\n\t\t\t\t\t\t<h3 className=\"ProductName\">{name}</h3>\r\n\t\t\t\t\t</CardTitle>\r\n\t\t\t\t\t<div className=\"ProductGallery\">\r\n\t\t\t\t\t\t<div className=\"thumbs\">{images.map(({src, className}, i) => (\r\n\t\t\t\t\t\t\t<img key={i} className={classNames(className, 'thumb')}\r\n\t\t\t\t\t\t\t\t\tsrc={thumbnail} onClick={this.thumbnailClicked.bind(this, images, i)}\r\n\t\t\t\t\t\t\t\t\tstyle={{backgroundImage:`url(${thumbs})`}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</BackFace>\r\n\t\t\t</StatefulFlipCard>\r\n\t\t);\r\n\t}\r\n}\r\nexport default BrandCard;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Brands/BrandCard.jsx\n **/","import React, { Component } from 'react';\r\n\r\nexport default class Brands extends Component {\r\n\trender() {\r\n\t\tconst { children, ...others } = this.props;\r\n\t\treturn <div className=\"Brands\" {...others}>{children}</div>\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Brands/Brands.jsx\n **/","import log from 'picolog';\r\nimport { Api, link } from 'redux-apis';\r\nimport { remote } from 'redux-fetch-api';\r\n\r\nimport SearchApi from '../Search/api';\r\n\r\n@remote\r\nexport class BrandsApi extends Api {\r\n\tconstructor(state) {\r\n\t\tsuper(state);\r\n\t\tthis.search = remote('/search')(\r\n\t\t\tlink(this, new SearchApi())\r\n\t\t);\r\n\t}\r\n}\r\nexport default BrandsApi;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Brands/api.jsx\n **/","import React, { PropTypes } from 'react';\r\n\r\nexport default class Home extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"Home\">\r\n\t\t\t\t<h1>BRIDAL APP</h1>\r\n\t\t\t\tAllrighty :) thenn\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Home/Home.jsx\n **/","import log from 'picolog';\r\nimport React, {Component, PropTypes} from 'react';\r\nconst { string, object } = PropTypes;\r\nimport ReactDOM from 'react-dom/server';\r\nimport serialize from 'serialize-javascript';\r\nimport DocumentMeta from 'react-document-meta';\r\nimport { RouterContext } from 'react-router';\r\nimport { Provider } from 'react-redux';\r\n\r\n/**\r\n * Wrapper component containing HTML metadata and boilerplate tags.\r\n * Used in server-side code only to wrap the string output of the\r\n * rendered route component.\r\n *\r\n * The only thing this component doesn't (and can't) include is the\r\n * HTML doctype declaration, which is added to the rendered output\r\n * by the server.jsx file.\r\n */\r\nexport class Html extends Component {\r\n\tstatic propTypes = {\r\n\t\tstore: object.isRequired,\r\n\t\tlang: string,\r\n\t\tversion: string,\r\n\t\tapiUrl: string,\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\tlang: 'en-US',\r\n\t\tversion: '1.0.0',\r\n\t\tapiUrl: '',\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { store, lang, version, apiUrl, ...renderProps } = this.props;\r\n\t\tconst content = ReactDOM.renderToString(\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<RouterContext {...renderProps} />\r\n\t\t\t</Provider>\r\n\t\t);\r\n\t\tconst html = (apiUrl ? `window.__bridalapp_api_server='${apiUrl}';` : '')\r\n\t\t\t\t+ `window.__data=${serialize(store.getState())};`;\r\n\r\n\t\treturn (\r\n\t\t\t<html lang={this.props.lang}>\r\n\t\t\t\t<head>\r\n\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n\t\t\t\t\t{DocumentMeta.renderAsReact()}\r\n\t\t\t\t\t<link rel=\"shortcut icon\" href=\"/favicon.ico\" />\r\n\t\t\t\t\t<link rel=\"stylesheet\" href=\"https://cdn.rawgit.com/tleunen/react-mdl/v1.4.0/extra/material.min.css\" />\r\n\t\t\t\t\t<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" />\r\n\t\t\t\t\t<link rel=\"stylesheet\" href={'/style.css?v' + version} />\r\n\t\t\t\t</head>\r\n\t\t\t\t<body>\r\n\t\t\t\t\t<div id=\"bridalapp\" dangerouslySetInnerHTML={{__html: content}} />\r\n\t\t\t\t\t{process.env.NODE_ENV == 'production' ?\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.11.0/fetch.min.js\" />\r\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react.min.js\" />\r\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.min.js\" />\r\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-router/2.0.0-rc5/ReactRouter.min.js\" />\r\n\t\t\t\t\t\t<script src=\"https://cdn.rawgit.com/tleunen/react-mdl/v1.4.2/extra/material.min.js\" />\r\n\t\t\t\t\t\t<script src=\"https://npmcdn.com/react-mdl@1.4.2/out/ReactMDL.min.js\" />\r\n\t\t\t\t\t</div>\t:\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.11.0/fetch.js\" />\r\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react.js\" />\r\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.js\" />\r\n\t\t\t\t\t\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-router/2.0.0-rc5/ReactRouter.js\" />\r\n\t\t\t\t\t\t<script src=\"https://cdn.rawgit.com/tleunen/react-mdl/v1.4.2/extra/material.min.js\" />\r\n\t\t\t\t\t\t<script src=\"https://npmcdn.com/react-mdl@1.4.2/out/ReactMDL.min.js\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<script dangerouslySetInnerHTML={{__html: html}} charSet=\"UTF-8\"/>\r\n\r\n\t\t\t\t\t{this.props.children}\r\n\r\n\t\t\t\t\t<script src={'/assets/bridalapp-ui.js?v' + version} charSet=\"UTF-8\" />\r\n\t\t\t\t</body>\r\n\t\t\t</html>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Html;\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Html/Html.jsx\n **/","import log from 'picolog';\r\nimport React, { Component, PropTypes } from 'react';\r\nconst { bool, array, object, any } = PropTypes;\r\nimport { connect } from 'react-redux';\r\nimport { onload } from 'redux-load-api';\r\n\r\nimport app from '../App/api';\r\nimport Scroller from '../Scroller/Scroller';\r\nimport ProductCard from './ProductCard';\r\n\r\n\r\nfunction load(params) {\r\n\tlog.log('load', params);\r\n\tconst { category } = params;\r\n\tif (category) {\r\n\t\tapp.products.search.setFilter({...app.products.search.filter, category:category});\r\n\t}\r\n\treturn app.products.search.search()\r\n\t\t.catch((error) => {\r\n\t\t\tlog.error('Searching products failed:', error);\r\n\t\t});\r\n}\r\n\r\n@onload(params => load(params))\r\n@connect((state, props) => ({...props, lightbox:app.lightbox, ...app.products.search}))\r\nexport default class ProductBrowser extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tparams: object.isRequired,\r\n\t\tlightbox: object.isRequired,\r\n\t\tfilter: object.isRequired,\r\n\t\tresults: array.isRequired,\r\n\t\tpending: bool,\r\n\t\terror: any,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tlog.debug('componentDidMount()');\r\n\t\tconst { pending, error, params } = this.props;\r\n\t\tif (pending || error) {load(params);}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlog.debug('render', this.props);\r\n\t\tconst { lightbox, filter, results } = this.props;\r\n\t\treturn (\r\n\t\t\t<Scroller\r\n\t\t\t\tclassName={'ProductBrowser ' + filter.category}\r\n\t\t\t\tbufferBefore={8}\r\n\t\t\t\titems={results}\r\n\t\t\t\titemSize={580}\r\n\t\t\t\tbufferAfter={12}\r\n\t\t\t\trenderItem ={ (item, idx) => (\r\n\t\t\t\t\t<ProductCard product={item} {...lightbox} />\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Products/ProductBrowser.jsx\n **/","import log from 'picolog';\r\nimport React, { Component, PropTypes } from 'react';\r\nconst { any, bool, string, object, func, shape } = PropTypes;\r\nimport classNames from 'classnames';\r\n\r\nimport { Card, CardTitle } from 'react-mdl';\r\nimport { StatefulFlipCard, FrontFace, BackFace } from '../Mdl/mdl-extras';\r\n\r\nexport class ProductCard extends Component {\r\n\tstatic propTypes = {\r\n\t\tproduct: shape({\r\n\t\t\tid: any,\r\n\t\t\tbrandId: any,\r\n\t\t\tname: string,\r\n\t\t\tdescription: string,\r\n\t\t}).isRequired,\r\n\t\tonOpenLightbox: func.isRequired,\r\n\t};\r\n\r\n\tconstructor(...props) {\r\n\t\tsuper(...props);\r\n\t}\r\n\r\n\tthumbnailClicked(images, index, event) {\r\n\t\tconst { onOpenLightbox } = this.props;\r\n\t\tif (onOpenLightbox) {onOpenLightbox(images, index, event);}\r\n\t\tif (event) {event.preventDefault(); event.stopPropagation();}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { product: { id, brandId, name, description } } = this.props;\r\n\t\tconst { flipCard } = this.refs;\r\n\t\tconst img = 'data:image/gif;base64,R0lGODlhAgADAIAAAP///////yH5BAEKAAEALAAAAAACAAMAAAICjF8AOw==';\r\n\t\tconst prdUrl = `https://cdn.rawgit.com/Download/bridalapp-static/1.0.0/products/${brandId}/${encodeURIComponent(name)}`;\r\n\t\tconst brandUrl = `https://cdn.rawgit.com/Download/bridalapp-static/1.0.0/brands/${brandId}/logo-brand-name.png`;\r\n\t\tconst thumbs = `${prdUrl}/thumbs.jpg`;\r\n\t\tconst thumbnail = 'data:image/gif;base64,R0lGODlhAgADAIAAAP///////yH5BAEKAAEALAAAAAACAAMAAAICjF8AOw==';\r\n\t\tconst size = typeof window == 'object' && window.innerWidth < 480 ? {width:'100%'} : {height:'100%'};\r\n\t\tconst images = [\r\n\t\t\t{src: `${prdUrl}/back-large.jpg`, className:'back', alt:{src:img, style:{...size, backgroundImage:`url(${thumbs})`, backgroundSize:'300%', backgroundPosition:'100% 0'}}},\r\n\t\t\t{src: `${prdUrl}/front-large.jpg`, className:'front', alt:{src:img, style:{...size, backgroundImage:`url(${thumbs})`, backgroundSize:'150%', backgroundPosition:'0 0'}}},\r\n\t\t\t{src: `${prdUrl}/detail-1-large.jpg`, className:'detail-1', alt:{src:img, style:{...size, backgroundImage:`url(${thumbs})`, backgroundSize:'600%', backgroundPosition:'200% 200%'}}},\r\n\t\t\t{src: `${prdUrl}/detail-2-large.jpg`, className:'detail-2', alt:{src:img, style:{...size, backgroundImage:`url(${thumbs})`, backgroundSize:'600%', backgroundPosition:'100% 200%'}}},\r\n\t\t\t{src: `${prdUrl}/detail-3-large.jpg`, className:'detail-3', alt:{src:img, style:{...size, backgroundImage:`url(${thumbs})`, backgroundSize:'600%', backgroundPosition:'200% 100%'}}},\r\n\t\t];\r\n\r\n\t\treturn (\r\n\t\t\t<StatefulFlipCard className=\"Product\" key={id}>\r\n\t\t\t\t<FrontFace>\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t<img className=\"ProductImage\" src={img} style={{backgroundImage: `url(${thumbs})`, height:'100%'}} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FrontFace>\r\n\t\t\t\t<BackFace>\r\n\t\t\t\t\t<CardTitle>\r\n\t\t\t\t\t\t<img className=\"BrandLogo\" src={brandUrl} />\r\n\t\t\t\t\t\t<h3 className=\"ProductName\">{name || 'Loading...'}</h3>\r\n\t\t\t\t\t</CardTitle>\r\n\t\t\t\t\t<div className=\"ProductGallery\">\r\n\t\t\t\t\t\t<div className=\"thumbs\">{images.map(({src, className}, i) => (\r\n\t\t\t\t\t\t\t<img key={i} className={classNames(className, 'thumb')}\r\n\t\t\t\t\t\t\t\t\tsrc={thumbnail} onClick={this.thumbnailClicked.bind(this, images, i)}\r\n\t\t\t\t\t\t\t\t\tstyle={{backgroundImage:`url(${thumbs})`}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ProductDescription\">{description || ''}</div>\r\n\t\t\t\t</BackFace>\r\n\t\t\t</StatefulFlipCard>\r\n\t\t);\r\n\t}\r\n}\r\nexport default ProductCard;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Products/ProductCard.jsx\n **/","import React from 'react';\r\n\r\nexport default class ProductDetails extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ProductDetails\">\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Products/ProductDetails.jsx\n **/","import React from 'react';\r\n\r\nexport default class ProductEdit extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ProductEdit\" style={{height:'100%', width:'100%', boxSizing:'border-box'}}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Products/ProductEdit.jsx\n **/","import React, { Component } from 'react';\r\n\r\nexport default class Products extends Component {\r\n\trender() {\r\n\t\tconst { children, ...others } = this.props;\r\n\t\treturn <div className=\"Products\" {...others} >{children}</div>\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Products/Products.jsx\n **/","import { Api, link } from 'redux-apis';\r\nimport { remote } from 'redux-fetch-api';\r\n\r\nimport SearchApi from '../Search/api';\r\n\r\nexport class ProductSearch extends SearchApi {\r\n\turl(filter) {\r\n\t\tlet clone = { ...filter };\r\n\t\tlet result = filter.category ? `/${filter.category}` : '';\r\n\t\tdelete clone.category;\r\n\t\treturn result + super.url(clone);\r\n\t}\r\n}\r\n\r\n@remote\r\nexport class ProductsApi extends Api {\r\n\tconstructor(state) {\r\n\t\tsuper(state);\r\n\t\tthis.search = remote('/search')(\r\n\t\t\tlink(this, new ProductSearch())\r\n\t\t);\r\n\t}\r\n}\r\nexport default ProductsApi;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Products/api.jsx\n **/","import log from 'picolog';\r\nimport React, { Component, PropTypes } from 'react';\r\nconst { bool, object, array, any } = PropTypes;\r\nimport { connect } from 'react-redux';\r\nimport { onload } from 'redux-load-api';\r\n\r\nimport app from '../App/api';\r\nimport Scroller from '../Scroller/Scroller';\r\nimport Card, { Front, Back } from '../Card/Card';\r\nimport StoreCard from './StoreCard'\r\n\r\nfunction load(params) {\r\n\tlog.log('StoreBrowser.load', params);\r\n\treturn app.stores.search.search()\r\n\t\t.catch((error) => {\r\n\t\t\tlog.error('Searching stores failed.', error);\r\n\t\t});\r\n}\r\n\r\n@onload(load)\r\n@connect(app.stores.search.connector)\r\nexport default class StoreBrowser extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tpending: bool,\r\n\t\tbusy: bool,\r\n\t\tdone: bool,\r\n\t\terror: any,\r\n\t\tfilter: object.isRequired,\r\n\t\tresults: array.isRequired,\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlog.debug('componentDidMount()');\r\n\t\tconst { pending, error, params } = this.props;\r\n\t\tif (pending || error) {load(params);}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlog.debug('render', this.props);\r\n\t\tconst { results } = this.props;\r\n\t\treturn (\r\n\t\t\t<Scroller\r\n\t\t\t\tclassName=\"StoreBrowser\"\r\n\t\t\t\tbufferBefore={4}\r\n\t\t\t\titems={results}\r\n\t\t\t\tbufferAfter={8}\r\n\t\t\t\trenderItem ={ (item, idx) => (\r\n\t\t\t\t\t<StoreCard store={item} />\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Stores/StoreBrowser.jsx\n **/","import React, { Component, PropTypes } from 'react';\r\nconst { any, bool, string, object, shape } = PropTypes;\r\nimport classNames from 'classnames';\r\nimport { CardTitle, CardText } from 'react-mdl';\r\nimport { StatefulFlipCard, FrontFace, BackFace } from '../Mdl/mdl-extras';\r\n\r\nexport class StoreCard extends Component {\r\n\tstatic propTypes = {\r\n\t\tstore: shape({\r\n\t\t\tid: any,\r\n\t\t\tname: string,\r\n\t\t\tdescription: string,\r\n\t\t\taddress1: string,\r\n\t\t\taddress2: string,\r\n\t\t\tpostalCode: string,\r\n\t\t\tcity: string,\r\n\t\t\tstate: string,\r\n\t\t\tcountryCode: string,\r\n\t\t\ttelephone: string,\r\n\t\t\twebsite: string,\r\n\t\t\temail: string,\r\n\t\t\tpremium: bool.isRequired,\r\n\t\t}).isRequired,\r\n\t};\r\n\r\n\tconstructor(...props) {\r\n\t\tsuper(...props);\r\n\t\tthis.state = {logoMissing:false, thumbMissing:false};\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { store: { id, name, description, address1, address2, postalCode, city, state, countryCode, telephone, website, premium } } = this.props;\r\n\t\tconst logo = `https://cdn.rawgit.com/Download/bridalapp-static/1.0.0/stores/${id}/logo.png`;\r\n\t\tconst thumb = `https://cdn.rawgit.com/Download/bridalapp-static/1.0.0/stores/${id}/thumb.jpg`;\r\n\t\tconst style = true ? {} : {'-webkit-filter':'grayscale(1)', filter:'grayscale(1)'};\r\n\t\t// src=\"data:image/gif;base64,R0lGODlhAwABAIAAAP///////yH5BAEKAAEALAAAAAADAAEAAAICjAsAOw==\"\r\n\t\treturn (\r\n\t\t\t<StatefulFlipCard className=\"Store\" key={id}>\r\n\t\t\t\t<FrontFace>\r\n\t\t\t\t\t<CardTitle>\r\n\t\t\t\t\t\t{this.state.logoMissing ?\r\n\t\t\t\t\t\t\t<h3 className=\"StoreLogoAlt\">{name}</h3>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<img style={style} className=\"StoreLogo\" src={logo}\r\n\t\t\t\t\t\t\t\tonError={()=>this.setState({...this.state, logoMissing:true})} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</CardTitle>\r\n\t\t\t\t\t<div className=\"mdl-card__content\">\r\n\t\t\t\t\t\t{! this.state.thumbMissing ?\r\n\t\t\t\t\t\t\t<img style={style} className=\"StoreThumb\" src={thumb}\r\n\t\t\t\t\t\t\t\tonError={()=>this.setState({...this.state, thumbMissing:true})} />\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div style={{height:150}}></div>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<CardText className=\"StoreDescription\">\r\n\t\t\t\t\t\t\t{description}\r\n\t\t\t\t\t\t</CardText>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FrontFace>\r\n\t\t\t\t<BackFace>\r\n\t\t\t\t\t<CardTitle>\r\n\t\t\t\t\t\t{this.state.logoMissing ?\r\n\t\t\t\t\t\t\t<h3 className=\"StoreLogoAlt\">{name}</h3>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<img style={{filter:'grayscale(1)'}} className=\"StoreLogo\" src={logo} onError={()=>this.setState({...this.state, logoMissing:true})} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</CardTitle>\r\n\t\t\t\t\t<p>{description}</p>\r\n\t\t\t\t\t<address>\r\n\t\t\t\t\t\t{address1}<br/>\r\n\t\t\t\t\t\t{address2}<br/>\r\n\t\t\t\t\t\t{city}\r\n\t\t\t\t\t</address>\r\n\t\t\t\t</BackFace>\r\n\t\t\t</StatefulFlipCard>\r\n\t\t);\r\n\t}\r\n}\r\nexport default StoreCard;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Stores/StoreCard.jsx\n **/","import React, { Component } from 'react';\r\n\r\nexport default class Stores extends Component {\r\n\trender() {\r\n\t\tconst { children, ...others } = this.props;\r\n\t\treturn <div className=\"Stores\" {...others}>{children}</div>\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Stores/Stores.jsx\n **/","import log from 'picolog';\r\nimport { Api, link } from 'redux-apis';\r\nimport { remote } from 'redux-fetch-api';\r\n\r\nimport SearchApi from '../Search/api';\r\n\r\n@remote\r\nexport class StoresApi extends Api {\r\n\tconstructor(state) {\r\n\t\tsuper(state);\r\n\t\tthis.search = link(this, new SearchApi())\r\n\t}\r\n}\r\nexport default StoresApi;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Stores/api.jsx\n **/","import log from 'picolog';\r\nimport React from 'react';\r\nimport { Route, IndexRoute, IndexRedirect } from 'react-router';\r\n\r\nimport App from './components/App/App';\r\nimport Home from './components/Home/Home';\r\nimport Products from './components/Products/Products';\r\nimport ProductBrowser from './components/Products/ProductBrowser';\r\nimport ProductEdit from './components/Products/ProductEdit';\r\nimport ProductDetails from './components/Products/ProductDetails';\r\nimport Brands from './components/Brands/Brands';\r\nimport BrandBrowser from './components/Brands/BrandBrowser';\r\nimport Stores from './components/Stores/Stores';\r\nimport StoreBrowser from './components/Stores/StoreBrowser';\r\n\r\nexport const routes = (\r\n\t<Route path=\"/\" component={App}>\r\n\t\t<IndexRedirect to=\"/products/Wedding+Dresses\" />\r\n\t\t<Route path=\"/products\" component={Products} >\r\n\t\t\t<IndexRedirect to=\"/products/Wedding+Dresses\" />\r\n\t\t\t<Route path=\"edit/:productId\" component={ProductEdit} />\r\n\t\t\t<Route path=\"details/:productId\" component={ProductDetails} />\r\n\t\t\t<Route path=\"details/:brandName/:productName\" component={ProductDetails} />\r\n\r\n\t\t\t<Route path=\"/products/:category\" component={ProductBrowser} />\r\n\t\t</Route>\r\n\t\t<Route path=\"/brands\" component={Brands} >\r\n\t\t\t<IndexRoute component={BrandBrowser} />\r\n\t\t</Route>\r\n\t\t<Route path=\"/stores\" component={Stores} >\r\n\t\t\t<IndexRoute component={StoreBrowser} />\r\n\t\t</Route>\r\n\t</Route>\r\n);\r\n\r\nexport default routes;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/routes.jsx\n **/","require('babel-polyfill');\nglobal.fetch = require('node-fetch');\nimport chalk from 'chalk';\nimport Express from 'express';\nimport compress from 'compression';\nimport http from 'http';\nimport httpProxy from 'http-proxy';\nimport log from 'picolog';\nimport React from 'react';\nimport ReactDOM from 'react-dom/server';\nimport { match } from 'react-router';\nimport { load } from 'redux-load-api';\n\nimport cfg from '../config';\n\nconst express = new Express();\nconst httpServer = new http.Server(express);\n\nconst g=chalk.green, gb=chalk.green.bold,  y=chalk.yellow, yb=chalk.yellow.bold,\n\tw=chalk.white, wb=chalk.white.bold, gr=chalk.grey,  grb=chalk.grey.bold,\n\tr=chalk.red, rb=chalk.red.bold;\n\n\nexpress.use(compress());\n\n// if the server is started in hot mode, we include webpack-dev-middleware\n// and webpack-hot-middleware to serve a hot bundle to the client. In\n// production mode, we serve up a static pre-compiled client bundle\nif (module.hot) {\n\t// use require because it will be optimized out if !module.hot\n\tconst webpack = require('webpack');\n\tconst devMiddleware = require('webpack-dev-middleware');\n\tconst hotMiddleware = require('webpack-hot-middleware');\n\tconst stats = {colors:true, chunks:false, hash:false, version:false};\n\tconst clientCfg = require('../webpack/development.client.config');\n\tconst clientCompiler = webpack(clientCfg);\n\texpress.use(devMiddleware(clientCompiler, {stats, publicPath:clientCfg.output.publicPath}));\n\texpress.use(hotMiddleware(clientCompiler));\n}\nelse {\n}\n\n// We point to our static assets\nexpress.use(Express.static(cfg.publicPath));\n\n// polled by OpenShift haproxy load balancer to test server availability\nexpress.get('/status', (req, res) => {\n\tres.writeHead(200, {'Content-Type': 'text/html; charset=UTF-8'});\n\tres.end(`<!DOCTYPE html>\n<html>\n<head>\n\t<title>Status</title>\n</head>\n<body>\n\t<h1 style=\"color:green\">ONLINE</h1>\n\t<p>${cfg.server.name} is ONLINE</p>\n</body>\n</html>`);\n});\n\nexpress.get(/\\/.*/, (req, res) => {\n\t// require again on each request, to enable hot-reload in development mode.\n\t// In production, this will just grab the module from require.cache.\n\tconst store = require('./store').createStore();\n\tconst routes = require('./routes').routes;\n\tconst Html = require('./components/Html/Html').Html;\n\n\tmatch({routes:routes, location:req.originalUrl}, (error, redirectLocation, renderProps) => {\n\t\tif (redirectLocation) {\n\t\t\tres.redirect(redirectLocation.pathname + redirectLocation.search);\n\t\t\tres.end();\n\t\t}\n\t\telse if (error) {\n\t\t\tlog.warn(rb('ROUTER ERROR:'), pretty.render(error));\n\t\t\tres.status(500);\n\t\t\tres.send('Server error.');\n\t\t\tres.end();\n\t\t}\n\t\telse if (!renderProps) {\n\t\t\tres.status(404);\n\t\t\tres.send('Not Found.');\n\t\t\tres.end();\n\t\t}\n\t\telse {\n\t\t\tlog.debug(chalk.styles.gray.open, 'Rendering using props: ', renderProps, chalk.styles.gray.close);\n\n\t\t\t// pre-load onload actions\n\t\t\tconst components = renderProps.routes.map(x => x.component);\n\t\t\tlog.log('########################### components: ', components);\n\t\t\tload(renderProps.routes.map(x => x.component), renderProps.params).then(() => {\n\t\t\t\t// do awesome stuff knowing all promises (if any) are resolved\n\t\t\t\tres.status(200);\n\t\t\t\tres.send('<!DOCTYPE html>\\n' +\n\t\t\t\t\tReactDOM.renderToString(\n\t\t\t\t\t\t<Html store={store} apiUrl={cfg.apiServer.url} version={cfg.version} {...renderProps} />\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tres.end();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlog.error('Error loading data for route ', req.url, ': ', error, error.stack);\n\t\t\t\tres.status(500);\n\t\t\t\tres.send('Server error.');\n\t\t\t\tres.end();\n\t\t\t});\n\t\t}\n\t});\n});\n\nvar server = httpServer.listen(cfg.server.port, cfg.server.host, function(error) {\n\tif (error) {throw error;}\n\tvar addr = httpServer.address();\n\tlog.warn();\n\tif (module.hot) {\n\t\tlog.warn(yb(' !  ') + g('Running in ') + gb('development') + g(' mode. ') + (module.hot ? yb('Hot Module Replacement') + g(' is enabled.') : ''));\n\t} else {\n\t\tlog.warn(gb('   ') + g('Running in ') + gb('production') + g(' mode. ') + gb('gzip compression') + g(' is enabled.'));\n\t}\n\tlog.warn(gb('   ') + g('Talking to ') + gb(cfg.apiServer.name) + g(' at ') + gb(cfg.apiServer.url));\n\tlog.warn(gb('   ') + g('Listening for connections at ') + gb(cfg.server.protocol + addr.address + (addr.port == 80 ? '' : ':' + addr.port)));\n\tlog.warn(gb('   %s started succesfully ') + g('on %s.'), cfg.server.name, Date(Date.now()));\n\tlog.warn('');\n});\n\nvar msg;\nvar SIGNALS = ['SIGHUP', 'SIGINT', 'SIGQUIT', 'SIGILL', 'SIGTRAP', 'SIGABRT', 'SIGBUS', 'SIGFPE', 'SIGUSR1', 'SIGSEGV', 'SIGUSR2', 'SIGTERM'];\nSIGNALS.forEach(function(signal) {process.on(signal, function(){\n\tlog.warn(msg = (rb('   ') + g('Stopping ') + gb(cfg.server.name) + g(' after receiving ') + yb(signal) + g('.')));\n\tserver.close();\n    process.exit();\n})});\nprocess.on('uncaughtException', function(error){\n\tlog.warn(msg = (rb('   ') + g('Uncaught exception ') + yb(error) + g('.')));\n});\nprocess.on('exit', function() {log.warn(msg = (gb('   ') + g('Stopped ') + gb(cfg.server.name) + g(' on ' + Date(Date.now()) + '.\\r\\n')));});\n\nif (module.hot) {\n\tmodule.hot.accept('./store', function(){\n        log.warn(yb('Hot reloading ') + g('\\'./store\\'...'));\n\t});\n\tmodule.hot.accept('./routes', function(){\n        log.warn(yb('Hot reloading ') + g('\\'./routes\\'...'));\n\t});\n\tmodule.hot.accept('./components/Html/Html', function(){\n        log.warn(yb('Hot reloading ') + g('\\'./components/Html/Html\\'...'));\n\t});\n\n/*  SHOULD BE POSSIBLE BUT CAN'T GET IT TO WORK RELIABLY\n\t// self-accept. This allows hot-reload of this very file. We cleanup in the\n\t// dispose handler and then the server will be restarted.\n\tmodule.hot.accept();\n\t// dispose handler\n    module.hot.dispose(function() {\n\t\tserver.close(function(){\n\t\t\tlog.warn(g('Closed HTTP server listening on port ') + g(cfg.server.port));\n\t\t});\n    });\n*/\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/server.jsx\n **/","import log from 'picolog';\r\nimport { createStore as reduxCreateStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport createLogger from 'redux-logger';\r\nimport { createResponsiveStateReducer, responsiveStoreEnhancer } from 'redux-responsive';\r\nimport { link, namedLink } from 'redux-apis';\r\n\r\nlet app = require('./components/App/api').app;\r\n\r\nconst data = typeof window == 'object' && window.__data || undefined;\r\n\r\nfunction createReducer() {\r\n\treturn combineReducers({\r\n\t\tbrowser: createResponsiveStateReducer({\r\n\t\t\t// Breakpoints for responsive layout. Chosen to group similar devices.\r\n\t\t\t// Note that these are *CSS pixels* we are talking about, not *physical pixels*.\r\n\t\t\t// Read more here: http://www.quirksmode.org/blog/archives/2010/04/a_pixel_is_not.html\r\n\t\t\t// E.G. the iPhone 4 screen has a resolution of 640x960 physical pixels, but only 320x480\r\n\t\t\t// CSS pixels; manufacturers choose a `devicePixelRatio` suitable for their device, because\r\n\t\t\t// if we render text at the normal size on these device's high DPI screens, it would become\r\n\t\t\t// illegibly small. As such, these numbers are unlikely to radically change, even if\r\n\t\t\t// physical resolutions keep improving, because they are more related to the dimensions of\r\n\t\t\t// the screen in centimeters than to the resolution in pixels.\r\n\t\t\t// SEE: http://www.mydevice.io/devices/\r\n\t\t\t\t\t\t// < 320: unsupported\r\n\t\t\txxs: 320,\t// < 360: small phones, portrait (e.g. iPhone 4)\r\n\t\t\txs: 360,\t// < 480: large phones/phablets, portrait (e.g. Samsung Galaxy S5, iPhone 6 Plus)\r\n\t\t\tsm: 480,\t// < 720: small tablets, portrait\r\n\t\t\tmd: 720,\t// < 1025: large tablets, portrait\r\n\t\t\tlg: 1025,\t// < 1600: small monitor, landscape (cutoff at 1025 i.s.o 1024 to exclude tablets with 1024x1440 resolution)\r\n\t\t\txl: 1600,\t// < 2560: HD monitor\r\n\t\t\txxl: 2560,\t// Projection screens, VR devices?\r\n\t\t}),\r\n\t\tapp: app.reducer,\r\n\t});\r\n}\r\n\r\nconst storeEnhancer = typeof window == 'object'\r\n\t\t? compose(responsiveStoreEnhancer, applyMiddleware(thunk, createLogger({logger: log})))\r\n\t\t: compose(responsiveStoreEnhancer, applyMiddleware(thunk));\r\n\r\nexport function createStore() {\r\n\tconst store = reduxCreateStore(createReducer(), data, storeEnhancer);\r\n\tlink(store, app, namedLink('app'));\r\n\treturn store;\r\n}\r\n\r\nexport const store = createStore();\r\n\r\n// link the store to the app\r\n\r\n\r\nif (typeof window == 'object') {\r\n\twindow.store = store;\r\n\twindow.app = app;\r\n}\r\nexport default store;\r\n\r\nif (module.hot) {\r\n\tmodule.hot.accept('./components/App/api', () => {\r\n\r\n\t\tconst msg = 'Hot-reloading \\'./components/App/api\\'',\r\n\t\t\targs = typeof window=='object'? [`%c${msg}`,'color:green'] : [msg];\r\n\t\tapp = require('./components/App/api').app;\r\n\t\tstore.replaceReducer(createReducer());\r\n\t\tlink(store, app, namedLink('app'));\r\n\t\tif (typeof window == 'object') {window.app = app;}\r\n\t});\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store.jsx\n **/","module.exports = {\n\t\"name\": \"bridalapp-ui\",\n\t\"version\": \"1.0.0\",\n\t\"description\": \"User Interface for BridalApp\",\n\t\"keywords\": [\n\t\t\"OpenShift\",\n\t\t\"Node.js\",\n\t\t\"BridalApp\"\n\t],\n\t\"main\": \"server.js\",\n\t\"babel\": {\n\t\t\"presets\": [\n\t\t\t\"es2015\",\n\t\t\t\"stage-0\",\n\t\t\t\"react\"\n\t\t],\n\t\t\"plugins\": [\n\t\t\t\"transform-decorators-legacy\",\n\t\t\t\"transform-class-properties\"\n\t\t]\n\t},\n\t\"homepage\": \"http://www.bridalapp.net/\",\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"https://github.com/download/bridalapp-ui\"\n\t},\n\t\"scripts\": {\n\t\t\"clean-server\": \"rimraf hmr && rimraf server.js\",\n\t\t\"clean-client\": \"rimraf public/assets/bridalapp-ui.js\",\n\t\t\"clean\": \"npm run clean-server && npm run clean-client\",\n\t\t\"start\": \"node server.js\",\n\t\t\"start-dev\": \"just-wait -p \\\"server.js\\\" && npm run start\",\n\t\t\"build-server\": \"webpack --config webpack/server.config.js\",\n\t\t\"build-client\": \"webpack -p --config webpack/client.config.js\",\n\t\t\"build\": \"npm run build-server && npm run build-client\",\n\t\t\"release-server\": \"npm run clean-server && npm run build-server\",\n\t\t\"release-client\": \"npm run clean-client && npm run build-client\",\n\t\t\"release\": \"npm run clean && npm run build\",\n\t\t\"watch\": \"webpack --inline --watch --hide-modules --config webpack/development.server.config.js\",\n\t\t\"dev\": \"npm run -s clean && parallelshell \\\"npm run -s watch\\\" \\\"npm run -s start-dev\\\"\",\n\t\t\"test\": \"mocha --watch --require babel-register \\\"src/**/*.spec.jsx\\\"\",\n\t\t\"--test-dev\": \"webpack-dev-server --inline --hot --config webpack/test.config.js --port 8081\",\n\t\t\"test-dev\": \"webpack-dev-server --output-path test --output-filename bridalapp-ui.spec.js \\\"mocha!./bridalapp-ui.spec.jsx\\\" --content-base test --port 8888 --config webpack/test.config.js\"\n\t},\n\t\"engines\": {\n\t\t\"node\": \">= 0.6.0\",\n\t\t\"npm\": \">= 1.0.0\"\n\t},\n\t\"dependencies\": {\n\t\t\"babel\": \"^6.5.2\",\n\t\t\"babel-polyfill\": \"^6.6.1\",\n\t\t\"babel-preset-es2015\": \"^6.5.0\",\n\t\t\"babel-preset-react\": \"^6.5.0\",\n\t\t\"babel-preset-stage-0\": \"^6.5.0\",\n\t\t\"babel-runtime\": \"^6.3.19\",\n\t\t\"babylon\": \"^6.5.2\",\n\t\t\"chalk\": \"^1.1.1\",\n\t\t\"classnames\": \"^2.2.3\",\n\t\t\"compression\": \"^1.6.1\",\n\t\t\"express\": \"^4.0.0\",\n\t\t\"fs\": \"0.0.2\",\n\t\t\"http-proxy\": \"^1.12.0\",\n\t\t\"node-fetch\": \"^1.3.3\",\n\t\t\"picolog\": \"^1.0.3\",\n\t\t\"react\": \"^0.14.7\",\n\t\t\"react-document-meta\": \"^2.0.1\",\n\t\t\"react-dom\": \"^0.14.7\",\n\t\t\"react-mdl\": \"^1.4.0\",\n\t\t\"react-redux\": \"^4.0.6\",\n\t\t\"react-router\": \"^2.0.0\",\n\t\t\"redux\": \"^3.0.5\",\n\t\t\"redux-apis\": \"^1.1.1\",\n\t\t\"redux-async-api\": \"^2.0.0\",\n\t\t\"redux-fetch-api\": \"^1.0.0\",\n\t\t\"redux-load-api\": \"^1.0.0\",\n\t\t\"redux-logger\": \"^2.5.2\",\n\t\t\"redux-responsive\": \"^1.1.0\",\n\t\t\"redux-thunk\": \"^1.0.3\",\n\t\t\"serialize-javascript\": \"^1.1.2\",\n\t\t\"ws.suid\": \"^0.10.1\"\n\t},\n\t\"devDependencies\": {\n\t\t\"app-root-path\": \"^1.0.0\",\n\t\t\"babel-core\": \"^6.6.5\",\n\t\t\"babel-loader\": \"^6.2.4\",\n\t\t\"babel-plugin-react-transform\": \"^2.0.2\",\n\t\t\"babel-plugin-transform-class-properties\": \"^6.4.0\",\n\t\t\"babel-plugin-transform-decorators-legacy\": \"^1.3.4\",\n\t\t\"babel-plugin-transform-runtime\": \"^6.6.0\",\n\t\t\"babel-preset-es2015\": \"^6.5.0\",\n\t\t\"babel-preset-react\": \"^6.3.13\",\n\t\t\"babel-preset-stage-0\": \"^6.3.13\",\n\t\t\"chai\": \"^3.5.0\",\n\t\t\"eventsource-polyfill\": \"^0.9.6\",\n\t\t\"json-loader\": \"^0.5.4\",\n\t\t\"just-wait\": \"^1.0.5\",\n\t\t\"mocha\": \"^2.4.5\",\n\t\t\"mocha-loader\": \"^0.7.1\",\n\t\t\"parallelshell\": \"^2.0.0\",\n\t\t\"react-addons-test-utils\": \"^0.14.7\",\n\t\t\"react-mdl\": \"^1.0.4\",\n\t\t\"react-shallow-testutils\": \"^1.0.0\",\n\t\t\"react-transform-hmr\": \"^1.0.4\",\n\t\t\"rimraf\": \"^2.5.2\",\n\t\t\"webpack\": \"^1.12.14\",\n\t\t\"webpack-dev-middleware\": \"^1.5.1\",\n\t\t\"webpack-dev-server\": \"^1.14.1\",\n\t\t\"webpack-hot-middleware\": \"^2.9.1\"\n\t},\n\t\"author\": {\n\t\t\"name\": \"Stijn de Witt\",\n\t\t\"email\": \"StijnDeWitt@hotmail.com\",\n\t\t\"url\": \"http://www.StijnDeWitt.com/\"\n\t},\n\t\"copyright\": \"2016 by Stijn de Witt, some rights reserved.\",\n\t\"license\": \"CC-BY-4.0\",\n\t\"licenseUrl\": \"https://creativecommons.org/licenses/by/4.0/\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./package.json\n ** module id = 60\n ** module chunks = 0\n **/","module.exports = require(\"babel-polyfill\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-polyfill\"\n ** module id = 61\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/core-js/get-iterator\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/core-js/get-iterator\"\n ** module id = 62\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/core-js/json/stringify\"\n ** module id = 63\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/core-js/object/create\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/core-js/object/create\"\n ** module id = 64\n ** module chunks = 0\n **/","module.exports = require(\"babel-runtime/helpers/get\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/helpers/get\"\n ** module id = 65\n ** module chunks = 0\n **/","module.exports = require(\"chalk\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"chalk\"\n ** module id = 66\n ** module chunks = 0\n **/","module.exports = require(\"compression\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"compression\"\n ** module id = 67\n ** module chunks = 0\n **/","module.exports = require(\"express\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"express\"\n ** module id = 68\n ** module chunks = 0\n **/","module.exports = require(\"http\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"http\"\n ** module id = 69\n ** module chunks = 0\n **/","module.exports = require(\"http-proxy\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"http-proxy\"\n ** module id = 70\n ** module chunks = 0\n **/","module.exports = require(\"node-fetch\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"node-fetch\"\n ** module id = 71\n ** module chunks = 0\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 72\n ** module chunks = 0\n **/","module.exports = require(\"react-document-meta\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-document-meta\"\n ** module id = 73\n ** module chunks = 0\n **/","module.exports = require(\"redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux\"\n ** module id = 74\n ** module chunks = 0\n **/","module.exports = require(\"redux-logger\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-logger\"\n ** module id = 75\n ** module chunks = 0\n **/","module.exports = require(\"redux-responsive\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-responsive\"\n ** module id = 76\n ** module chunks = 0\n **/","module.exports = require(\"redux-thunk\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-thunk\"\n ** module id = 77\n ** module chunks = 0\n **/","module.exports = require(\"serialize-javascript\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"serialize-javascript\"\n ** module id = 78\n ** module chunks = 0\n **/"],"sourceRoot":""}